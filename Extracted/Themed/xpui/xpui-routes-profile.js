"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[2499],{30523:(e,t,a)=>{a.d(t,{P:()=>g});var r=a(87462),i=a(67294),l=a(39278),n=a(96206),o=a(18261),s=a(43480),u=a(36590),c=a(8498),m=a(21610),d=a(16257);const g=i.memo((function(e){const{images:t,name:a,uri:g,onClick:p,isHero:f,testId:h,index:v,requestId:E}=e;let b;const y=(0,i.useCallback)((()=>i.createElement(c.x,{isCircular:!0,isHero:f,images:t,FallbackComponent:e=>i.createElement(l.a,(0,r.Z)({iconSize:64},e))})),[t,f]),k=(0,i.useCallback)((()=>f?i.createElement(d.k,null,n.ag.get("card.tag.profile")):n.ag.get("card.tag.profile")),[f]);return b=f?i.createElement(m.Z,{index:v,onClick:p,headerText:a,featureIdentifier:"profile",uri:g,isPlayable:!1,renderCardImage:y,renderSubHeaderContent:k,testId:h,requestId:E}):i.createElement(u.C,{index:v,onClick:p,headerText:a,featureIdentifier:"profile",uri:g,isPlayable:!1,renderCardImage:y,renderSubHeaderContent:k,testId:h,requestId:E}),i.createElement(o._,{menu:i.createElement(s.I,{uri:g})},b)}))},22578:(e,t,a)=>{a.d(t,{$:()=>d});var r=a(67294),i=a(64593),l=a(96206),n=a(69691),o=a(8341),s=a(89952),u=a(51615),c=a(24183);function m(e){return e.includes("Spotify")?e:`Spotify – ${e}`}const d=({children:e,usePlayingItem:t})=>{let a=m(e);(e=>{const{mainLandmarkRef:t}=(0,c.Oh)(),a=(0,u.k6)(),i=a.location?.state?.preventMoveFocus,l=(0,r.useRef)(a.length<2);l.current=a.length<2,(0,r.useEffect)((()=>{const a=t.current;!i&&!l.current&&a&&e&&(a.setAttribute("aria-label",e),a.focus())}),[e,t,i])})(e);const{isPlaying:d}=(0,n.IK)(),g=(0,o.Y)((e=>e?.item));return g&&(d||t)&&((0,s.G_)(g)?a=[g.name,g.artists.map((e=>e.name)).join(l.ag.getSeparator())].join(" • "):(0,s.iw)(g)?a=[g.name,g.show.name].join(" • "):(0,s.k6)(g)&&(a=m(l.ag.get("ad-formats.advertisement")))),r.createElement(i.q,{defaultTitle:"Spotify",defer:!1},r.createElement("title",null,a))}},70369:(e,t,a)=>{a.d(t,{$:()=>r.$});var r=a(22578)},20701:(e,t,a)=>{a.d(t,{T:()=>m});var r=a(67294),i=a(57784),l=a(37925),n=a(25678),o=a(60289),s=a(23401);const u="profile-editImage-imageContainer",c="profile-editImage-editImageButtonContainer",m=function({onClick:e,name:t,images:a,canEdit:m,placeholderType:d,shape:g=o.Kc.SQUARE,dragUri:p=""}){const[f,h]=(0,l.RH)(a),v=(0,n.VO)(f,h)===n.KO.loaded,E=(0,i.O1)([p],t);return r.createElement("div",{className:u,"data-testid":`${d}-image`,draggable:!!p,onDragStart:E},r.createElement(o.Oe,{loading:"eager",name:t,images:a,placeholderType:d,shape:g}),m&&r.createElement("div",{className:c},r.createElement(s.F,{overlay:v,onClick:e,rounded:g===o.Kc.CIRCLE})))}},1850:(e,t,a)=>{a.d(t,{e:()=>c});var r=a(67294),i=a(94184),l=a.n(i),n=a(96206);const o="artist-followButton-button",s="artist-followButton-followed",u="artist-followButton-disabled",c=r.memo((function({isFollowing:e,onClick:t,disabled:a=!1,buttonText:i}){const c=e?n.ag.get("following"):n.ag.get("follow");return r.createElement("button",{type:"button",className:l()(o,{[s]:e,[u]:a}),onClick:t},i||c)}))},68513:(e,t,a)=>{a.d(t,{S:()=>u});var r=a(67294),i=a(31397),l=a(32667);const n="artist-artistVerifiedBadge-wrapper",o="artist-artistVerifiedBadge-badge",s="artist-artistVerifiedBadge-fillColor",u=({text:e})=>r.createElement("span",{className:n},r.createElement("div",{className:`${o} ${s}`}),r.createElement(i.T,{semanticColor:"textAnnouncement",className:o,iconSize:24}),e?r.createElement(l.D,{variant:"mesto"},e):null)},99086:(e,t,a)=>{a.r(t),a.d(t,{default:()=>na});var r=a(67294),i=a(51615),l=a(69518),n=a.n(l),o=a(73305),s=a(26700),u=a(32667),c=a(96206),m=a(6158),d=a(28248),g=a(25988),p=a(21509),f=a(82760),h=a(30005),v=a(21691);const E=r.memo((({projectId:e,originalTrackUri:t})=>{const a=(0,i.k6)();return r.createElement(h.v,null,r.createElement(v.s,{role:"menuitem",onClick:()=>{a.push(`/make-music/studio/${t}/${e}`)}},"Open in Soundtrap Studio"))}));var b=a(39714),y=a(34011),k=a(84465),I=a(8498);const P="u9EhipkP6KyieCr2NlTD",N="vJsSH_fQRnGszaT5fix4",_="TeNrKjY_K8jdtDq8stVN",S="Cl4_NVCCvbFlddl1AQzm",w="N6kXum06C3bJ7dhlLLwA",R="zFZ06mb5YNt2DSm4z5ws",U="ENRKllFtrwdfnKquLHiw",C=({title:e,subtitle:t,imageUri:a})=>r.createElement("div",{className:w},r.createElement(I.x,{images:[{url:a}]}),r.createElement("div",{className:R},r.createElement(u.D,{as:"div",variant:"balladBold"},e),t&&r.createElement(u.D,{as:"div",variant:"ballad",semanticColor:"textSubdued"},t))),x=({project:e,username:t,onClose:a})=>r.createElement(k.Z,{isOpen:!0,contentLabel:"Soundtrap new published song modal",onRequestClose:()=>a()},r.createElement("div",{className:P},r.createElement("div",{className:_},r.createElement(u.D,{as:"h1",variant:"canon"},"Your song is now publishing"),r.createElement("button",{className:S,onClick:()=>a(),"aria-label":c.ag.get("close")},r.createElement(b.k,{iconSize:16}))),r.createElement("div",{className:N},r.createElement(C,{title:e.title,subtitle:t,imageUri:e.imageUri}),r.createElement(u.D,{as:"p",variant:"finale"},"Publishing can take up to 1 hour. Once published, your song can be shared with any Spotify employee."),r.createElement("div",{className:U},r.createElement(y.D,{onClick:()=>a()},"OK")))));let D;!function(e){e.UNKNOWN="UNKNOWN",e.IN_PROGRESS="IN_PROGRESS",e.FAILED="FAILED",e.PUBLISHED="PUBLISHED",e.NOT_PUBLISHED="NOT_PUBLISHED"}(D||(D={}));var O=a(18261),T=a(16281),A=a(26010);const L=r.memo((({index:e,project:t,contextUri:a,isPlayable:l,usePlayContextItem:n,username:o})=>{const s=(0,i.k6)(),u=()=>{s.push(`/make-music/studio/${t.originalTrackUri}/${t.soundtrapProjectId}`)},[m,d]=(0,r.useState)(!1),h=t.publishedTrackUri||"",{useCurrentAvailability:v}=(0,r.useContext)(A.I),[b]=v(h),{isActive:y,isPlaying:k,triggerPlay:I,togglePlay:P}=n({uri:h,index:e});return r.createElement(r.Fragment,null,r.createElement(O._,{menu:t.publishingState===D.PUBLISHED&&t.publishedTrackUri?r.createElement(g.k,{uri:t.publishedTrackUri}):r.createElement(E,{projectId:t.soundtrapProjectId,originalTrackUri:t.originalTrackUri})},r.createElement(f.c,{uri:h,contextUri:a,onTriggerPlay:()=>{I()},onDoubleClick:t.publishingState===D.NOT_PUBLISHED?u:t.publishingState===D.IN_PROGRESS?()=>d(!0):void 0,isActive:y,index:e,ariaRowIndex:e,isPlayable:l&&b,dragMetadata:{name:t.title,createdBy:o}},r.createElement(p.Dd,{ariaColIndex:0},r.createElement(p.Du,{uri:h,playAriaLabel:c.ag.get("tracklist.a11y.play",t.title,""),isPlaying:k,isActive:y,onClick:()=>{P()}},r.createElement(p.km,null,e+1))),r.createElement(p.vZ,{ariaColIndex:1},r.createElement(p.lD,{src:t.imageUri}),r.createElement(p.vm,null,r.createElement(p.Wh,{titleText:t.title},t.title),r.createElement(p.K9,null,o))),r.createElement(p.UA,{ariaColIndex:2},r.createElement(T.V,{text:t.publishingState.replace(/_/g," ")})),r.createElement(p.mU,{ariaColIndex:3},t.publishingState===D.PUBLISHED&&t.publishedTrackUri?r.createElement(r.Fragment,null,r.createElement(p.qS,{uri:h}),r.createElement(p.Zv,{menu:r.createElement(g.k,{uri:t.publishedTrackUri}),label:c.ag.get("more.label.track",t.title,o)})):r.createElement(r.Fragment,null,r.createElement(p.Zv,{menu:r.createElement(E,{projectId:t.soundtrapProjectId,originalTrackUri:t.originalTrackUri}),label:c.ag.get("more.label.track",t.title,o)}))))),m&&r.createElement(x,{project:t,username:o,onClose:()=>d(!1)}))}),((e,t)=>e.project.soundtrapProjectId===t.project.soundtrapProjectId));var M=a(84242),F=a(42781);const H=({data:e,username:t,isPlayable:a=!1,maxNumberOfTracks:i})=>{const l=[d.QD.INDEX,d.QD.TITLE,d.QD.ADD,d.QD.DURATION],n=(0,r.useCallback)((e=>e.uri),[]),o="spotify:app:soundtrap_tracks",{usePlayContextItem:s}=(0,M.n)({uri:o,pages:[{items:e.map((e=>({uri:e.publishedTrackUri||"",type:F.p.TRACK,uid:null,provider:null})))}]},{featureIdentifier:"profile"}),u=(0,r.useCallback)(((e,i)=>r.createElement(L,{key:e.key,index:i,isPlayable:a,project:e,contextUri:o,usePlayContextItem:s,username:t})),[a,s,t]);return r.createElement(d.Pv,{ariaLabel:c.ag.get("web-player.soundtrap.projects-tracklist.aria"),renderRow:u,nrTracks:i?Math.min(e.length,i):e.length,tracks:e,resolveUri:n,hasHeaderRow:!1,columns:l})};var j=a(67448);const W=(e,t)=>{const[a,i]=(0,r.useState)(null),l=(0,r.useRef)(!1),n=(0,j.z)(),o=(0,r.useCallback)((async()=>{const a=e?await n.getMyProjects({query:"",page_number:0,result_per_page:6,sort_by:""}):await n.getPublishedProjects({username:t});l.current&&i(a.projects)}),[e,n,t]);return(0,r.useEffect)((()=>(l.current=!0,o(),()=>{l.current=!1})),[o]),{projects:a,fetchProjects:o}};var B=a(87972),J=a(6024);const K="NCojxlnWd9fRYXjFnUCz",z="vBaghfPvaIaBAEvHb12r",G=({user:e,published:t})=>{const{projects:a}=W(e?.is_current_user||!1,e?.name),i=a?.filter((e=>t?e.publishingState===D.PUBLISHED:e.publishingState!==D.PUBLISHED));return e&&i?r.createElement("div",{className:"contentSpacing"},r.createElement("div",{className:K},r.createElement(u.D,{as:"h1",variant:"canon",className:z},e.is_current_user?"My":`${e.name}'s`," ",t?"published":"unpublished"," songs"),r.createElement(u.D,{as:"p",variant:"mesto"},t?c.ag.get("web-player.soundtrap.published-projects.tagline"):c.ag.get("web-player.soundtrap.unpublished-projects.tagline"))),r.createElement(H,{data:i,username:e.name,isPlayable:t})):null},Q=({uri:e,published:t})=>{const{data:a,loading:i,error:l}=(0,B.J)(J.n5.getProfile,[{uri:e}]);return!a||i?r.createElement(m.h,{hasError:null!==l,errorMessage:c.ag.get("error.not_found.title.page")}):r.createElement(G,{user:a,published:t})};var V=a(70369),$=a(27999),q=a(46877),Z=a(61864),X=a(19480);const Y={totalCount:0,nextOffset:0,items:[]};const ee=({uri:e})=>{const{data:t}=(0,B.J)(J.n5.getProfile,[{uri:e,playlists:0,artists:0,episodes:0}]),a=function(e){const t=(0,$.zZ)(),[a,i]=(0,r.useState)(Y),l=(0,r.useCallback)((async()=>{if(!e)return;const a=await t.getContents(e,{offset:0,limit:50});i(a)}),[e,t]);return(0,r.useEffect)((()=>{l()}),[l]),a}(t?.user_created_show?.uri);return r.createElement(X.P,{className:"contentSpacing",total:a.items.length,title:q.ag.get("episodes"),showAll:!0},a.items.map(((e,t)=>r.createElement(Z.B,{key:e.uri,index:t,uri:e.uri,name:e.name,images:e.coverArt,showImages:[],durationMilliseconds:e.duration.milliseconds,releaseDate:e.releaseDate?.isoString,resume_point:null,description:e.description,isExplicit:!1,is19PlusOnly:!1,sharingInfo:e.sharingInfo}))))},te=({uri:e})=>r.createElement("section",null,r.createElement(V.$,null,"Podcasts from the user"),r.createElement(ee,{uri:e}));var ae=a(94184),re=a.n(ae),ie=a(30523);const le="profile-userOverview-container",ne="profile-userOverview-section",oe="profile-userOverview-subPage",se="profile-userOverview-imageContainer",ue="profile-userOverview-topTrackSubPage",ce="profile-userOverview-title",me="profile-userOverview-header",de=e=>{const{uri:t}=e,{data:a,loading:i,error:l}=(0,B.J)(J.n5.getFollowers,[t]),n=a?.profiles;return i?r.createElement(m.h,{hasError:null!==l,errorMessage:c.ag.get("error.not_found.title.page")}):r.createElement(X.P,{className:re()("contentSpacing",oe),title:c.ag.get("followers"),total:n?.length,showAll:!0},n?.map(((e,t)=>r.createElement(ie.P,{key:e.uri,index:t,uri:e.uri,name:e.name,images:[{url:e.image_url}]}))))},ge=e=>{const{uri:t}=e,{data:a,loading:i,error:l}=(0,B.J)(J.n5.getFollowing,[t]),n=a?.profiles;return i?r.createElement(m.h,{hasError:null!==l,errorMessage:c.ag.get("error.not_found.title.page")}):r.createElement(X.P,{className:re()("contentSpacing",oe),title:c.ag.get("following"),total:n?.length,showAll:!0},n?.map(((e,t)=>r.createElement(ie.P,{key:e.uri,index:t,uri:e.uri,name:e.name,images:[{url:e.image_url}]}))))};var pe=a(86706),fe=a(87577),he=a(45546),ve=a(18270),Ee=a(48690),be=a(89477),ye=a(46309),ke=a(43480),Ie=a(20701),Pe=a(60289),Ne=a(98778),_e=a(59482),Se=a(72907),we=a(1850),Re=a(6060),Ue=a(93659),Ce=a(64578),xe=a(18525),De=a(37925),Oe=a(25678);const Te="profile-userEditDetails-image",Ae="valcBm4lLe9qFBcg0sFY",Le="tAIzXn8C9KriGwGuBfWg",Me="PsrXxenHUFXYM1ub1xWw",Fe="U_VWfeeLWnDPhUTxCmrQ",He=function({onClickEdit:e,onClickRemove:t,name:a,images:i}){const[l,n]=(0,De.RH)(i),o=(0,Oe.VO)(l,n)===Oe.KO.loaded;return r.createElement("div",{className:Te},r.createElement(Pe.Oe,{loading:"eager",name:a,images:i,placeholderType:"user",shape:Pe.Kc.CIRCLE}),r.createElement("div",{className:re()(Ae,{[Me]:o})},r.createElement("button",{className:Le,"aria-haspopup":"true",onClick:e,type:"button"},r.createElement(u.D,{variant:"ballad"},c.ag.get("user.edit-details.choose-photo"))),r.createElement("div",{className:re()(Fe,"icon")},r.createElement(xe.y,{iconSize:48,"aria-hidden":!0})),r.createElement("button",{className:Le,onClick:t,type:"button"},r.createElement(u.D,{variant:"ballad"},c.ag.get("user.edit-details.remove-photo")))))};var je=a(16516),We=a(15429),Be=a(62100);const Je={paths:""},Ke={encode(e,t=Be.Writer.create()){for(const a of e.paths)t.uint32(10).string(a);return t},decode(e,t){const a=e instanceof Uint8Array?new Be.Reader(e):e;let r=void 0===t?a.len:a.pos+t;const i={...Je};for(i.paths=[];a.pos<r;){const e=a.uint32();if(e>>>3==1)i.paths.push(a.string());else a.skipType(7&e)}return i},fromJSON(e){const t={...Je};if(t.paths=[],void 0!==e.paths&&null!==e.paths)for(const a of e.paths)t.paths.push(String(a));return t},fromPartial(e){const t={...Je};if(t.paths=[],void 0!==e.paths&&null!==e.paths)for(const a of e.paths)t.paths.push(a);return t},toJSON(e){const t={};return e.paths?t.paths=e.paths.map((e=>e)):t.paths=[],t}};var ze=a(43720),Ge=a(48764).Buffer;const Qe={value:0},Ve={value:!1},$e={value:""};const qe={encode:(e,t=Be.Writer.create())=>(t.uint32(8).int32(e.value),t),decode(e,t){const a=e instanceof Uint8Array?new Be.Reader(e):e;let r=void 0===t?a.len:a.pos+t;const i={...Qe};for(;a.pos<r;){const e=a.uint32();if(e>>>3==1)i.value=a.int32();else a.skipType(7&e)}return i},fromJSON(e){const t={...Qe};return void 0!==e.value&&null!==e.value?t.value=Number(e.value):t.value=0,t},fromPartial(e){const t={...Qe};return void 0!==e.value&&null!==e.value?t.value=e.value:t.value=0,t},toJSON(e){const t={};return void 0!==e.value&&(t.value=e.value),t}},Ze={encode:(e,t=Be.Writer.create())=>(t.uint32(8).bool(e.value),t),decode(e,t){const a=e instanceof Uint8Array?new Be.Reader(e):e;let r=void 0===t?a.len:a.pos+t;const i={...Ve};for(;a.pos<r;){const e=a.uint32();if(e>>>3==1)i.value=a.bool();else a.skipType(7&e)}return i},fromJSON(e){const t={...Ve};return void 0!==e.value&&null!==e.value?t.value=Boolean(e.value):t.value=!1,t},fromPartial(e){const t={...Ve};return void 0!==e.value&&null!==e.value?t.value=e.value:t.value=!1,t},toJSON(e){const t={};return void 0!==e.value&&(t.value=e.value),t}},Xe={encode:(e,t=Be.Writer.create())=>(t.uint32(10).string(e.value),t),decode(e,t){const a=e instanceof Uint8Array?new Be.Reader(e):e;let r=void 0===t?a.len:a.pos+t;const i={...$e};for(;a.pos<r;){const e=a.uint32();if(e>>>3==1)i.value=a.string();else a.skipType(7&e)}return i},fromJSON(e){const t={...$e};return void 0!==e.value&&null!==e.value?t.value=String(e.value):t.value="",t},fromPartial(e){const t={...$e};return void 0!==e.value&&null!==e.value?t.value=e.value:t.value="",t},toJSON(e){const t={};return void 0!==e.value&&(t.value=e.value),t}};Be.util.Long!==ze&&(Be.util.Long=ze,(0,Be.configure)());const Ye=globalThis;Ye.atob,Ye.btoa;const et={maxWidth:0,maxHeight:0,url:""},tt={},at={},rt={encode:(e,t=Be.Writer.create())=>(t.uint32(8).int32(e.maxWidth),t.uint32(16).int32(e.maxHeight),t.uint32(26).string(e.url),t),decode(e,t){const a=e instanceof Uint8Array?new Be.Reader(e):e;let r=void 0===t?a.len:a.pos+t;const i={...et};for(;a.pos<r;){const e=a.uint32();switch(e>>>3){case 1:i.maxWidth=a.int32();break;case 2:i.maxHeight=a.int32();break;case 3:i.url=a.string();break;default:a.skipType(7&e)}}return i},fromJSON(e){const t={...et};return void 0!==e.maxWidth&&null!==e.maxWidth?t.maxWidth=Number(e.maxWidth):t.maxWidth=0,void 0!==e.maxHeight&&null!==e.maxHeight?t.maxHeight=Number(e.maxHeight):t.maxHeight=0,void 0!==e.url&&null!==e.url?t.url=String(e.url):t.url="",t},fromPartial(e){const t={...et};return void 0!==e.maxWidth&&null!==e.maxWidth?t.maxWidth=e.maxWidth:t.maxWidth=0,void 0!==e.maxHeight&&null!==e.maxHeight?t.maxHeight=e.maxHeight:t.maxHeight=0,void 0!==e.url&&null!==e.url?t.url=e.url:t.url="",t},toJSON(e){const t={};return void 0!==e.maxWidth&&(t.maxWidth=e.maxWidth),void 0!==e.maxHeight&&(t.maxHeight=e.maxHeight),void 0!==e.url&&(t.url=e.url),t}},it={encode(e,t=Be.Writer.create()){void 0!==e.username&&void 0!==e.username&&Xe.encode({value:e.username},t.uint32(10).fork()).ldelim(),void 0!==e.name&&void 0!==e.name&&Xe.encode({value:e.name},t.uint32(18).fork()).ldelim();for(const a of e.images)rt.encode(a,t.uint32(26).fork()).ldelim();return void 0!==e.verified&&void 0!==e.verified&&Ze.encode({value:e.verified},t.uint32(34).fork()).ldelim(),void 0!==e.editProfileDisabled&&void 0!==e.editProfileDisabled&&Ze.encode({value:e.editProfileDisabled},t.uint32(42).fork()).ldelim(),void 0!==e.reportAbuseDisabled&&void 0!==e.reportAbuseDisabled&&Ze.encode({value:e.reportAbuseDisabled},t.uint32(50).fork()).ldelim(),void 0!==e.abuseReportedName&&void 0!==e.abuseReportedName&&Ze.encode({value:e.abuseReportedName},t.uint32(58).fork()).ldelim(),void 0!==e.abuseReportedImage&&void 0!==e.abuseReportedImage&&Ze.encode({value:e.abuseReportedImage},t.uint32(66).fork()).ldelim(),void 0!==e.hasSpotifyName&&void 0!==e.hasSpotifyName&&Ze.encode({value:e.hasSpotifyName},t.uint32(74).fork()).ldelim(),void 0!==e.hasSpotifyImage&&void 0!==e.hasSpotifyImage&&Ze.encode({value:e.hasSpotifyImage},t.uint32(82).fork()).ldelim(),void 0!==e.color&&void 0!==e.color&&qe.encode({value:e.color},t.uint32(90).fork()).ldelim(),t},decode(e,t){const a=e instanceof Uint8Array?new Be.Reader(e):e;let r=void 0===t?a.len:a.pos+t;const i={...tt};for(i.images=[];a.pos<r;){const e=a.uint32();switch(e>>>3){case 1:i.username=Xe.decode(a,a.uint32()).value;break;case 2:i.name=Xe.decode(a,a.uint32()).value;break;case 3:i.images.push(rt.decode(a,a.uint32()));break;case 4:i.verified=Ze.decode(a,a.uint32()).value;break;case 5:i.editProfileDisabled=Ze.decode(a,a.uint32()).value;break;case 6:i.reportAbuseDisabled=Ze.decode(a,a.uint32()).value;break;case 7:i.abuseReportedName=Ze.decode(a,a.uint32()).value;break;case 8:i.abuseReportedImage=Ze.decode(a,a.uint32()).value;break;case 9:i.hasSpotifyName=Ze.decode(a,a.uint32()).value;break;case 10:i.hasSpotifyImage=Ze.decode(a,a.uint32()).value;break;case 11:i.color=qe.decode(a,a.uint32()).value;break;default:a.skipType(7&e)}}return i},fromJSON(e){const t={...tt};if(t.images=[],void 0!==e.username&&null!==e.username?t.username=String(e.username):t.username=void 0,void 0!==e.name&&null!==e.name?t.name=String(e.name):t.name=void 0,void 0!==e.images&&null!==e.images)for(const a of e.images)t.images.push(rt.fromJSON(a));return void 0!==e.verified&&null!==e.verified?t.verified=Boolean(e.verified):t.verified=void 0,void 0!==e.editProfileDisabled&&null!==e.editProfileDisabled?t.editProfileDisabled=Boolean(e.editProfileDisabled):t.editProfileDisabled=void 0,void 0!==e.reportAbuseDisabled&&null!==e.reportAbuseDisabled?t.reportAbuseDisabled=Boolean(e.reportAbuseDisabled):t.reportAbuseDisabled=void 0,void 0!==e.abuseReportedName&&null!==e.abuseReportedName?t.abuseReportedName=Boolean(e.abuseReportedName):t.abuseReportedName=void 0,void 0!==e.abuseReportedImage&&null!==e.abuseReportedImage?t.abuseReportedImage=Boolean(e.abuseReportedImage):t.abuseReportedImage=void 0,void 0!==e.hasSpotifyName&&null!==e.hasSpotifyName?t.hasSpotifyName=Boolean(e.hasSpotifyName):t.hasSpotifyName=void 0,void 0!==e.hasSpotifyImage&&null!==e.hasSpotifyImage?t.hasSpotifyImage=Boolean(e.hasSpotifyImage):t.hasSpotifyImage=void 0,void 0!==e.color&&null!==e.color?t.color=Number(e.color):t.color=void 0,t},fromPartial(e){const t={...tt};if(t.images=[],void 0!==e.username&&null!==e.username?t.username=e.username:t.username=void 0,void 0!==e.name&&null!==e.name?t.name=e.name:t.name=void 0,void 0!==e.images&&null!==e.images)for(const a of e.images)t.images.push(rt.fromPartial(a));return void 0!==e.verified&&null!==e.verified?t.verified=e.verified:t.verified=void 0,void 0!==e.editProfileDisabled&&null!==e.editProfileDisabled?t.editProfileDisabled=e.editProfileDisabled:t.editProfileDisabled=void 0,void 0!==e.reportAbuseDisabled&&null!==e.reportAbuseDisabled?t.reportAbuseDisabled=e.reportAbuseDisabled:t.reportAbuseDisabled=void 0,void 0!==e.abuseReportedName&&null!==e.abuseReportedName?t.abuseReportedName=e.abuseReportedName:t.abuseReportedName=void 0,void 0!==e.abuseReportedImage&&null!==e.abuseReportedImage?t.abuseReportedImage=e.abuseReportedImage:t.abuseReportedImage=void 0,void 0!==e.hasSpotifyName&&null!==e.hasSpotifyName?t.hasSpotifyName=e.hasSpotifyName:t.hasSpotifyName=void 0,void 0!==e.hasSpotifyImage&&null!==e.hasSpotifyImage?t.hasSpotifyImage=e.hasSpotifyImage:t.hasSpotifyImage=void 0,void 0!==e.color&&null!==e.color?t.color=e.color:t.color=void 0,t},toJSON(e){const t={};return void 0!==e.username&&(t.username=e.username),void 0!==e.name&&(t.name=e.name),e.images?t.images=e.images.map((e=>e?rt.toJSON(e):void 0)):t.images=[],void 0!==e.verified&&(t.verified=e.verified),void 0!==e.editProfileDisabled&&(t.editProfileDisabled=e.editProfileDisabled),void 0!==e.reportAbuseDisabled&&(t.reportAbuseDisabled=e.reportAbuseDisabled),void 0!==e.abuseReportedName&&(t.abuseReportedName=e.abuseReportedName),void 0!==e.abuseReportedImage&&(t.abuseReportedImage=e.abuseReportedImage),void 0!==e.hasSpotifyName&&(t.hasSpotifyName=e.hasSpotifyName),void 0!==e.hasSpotifyImage&&(t.hasSpotifyImage=e.hasSpotifyImage),void 0!==e.color&&(t.color=e.color),t}},lt={encode:(e,t=Be.Writer.create())=>(void 0!==e.mask&&void 0!==e.mask&&Ke.encode(e.mask,t.uint32(10).fork()).ldelim(),void 0!==e.userProfile&&void 0!==e.userProfile&&it.encode(e.userProfile,t.uint32(18).fork()).ldelim(),t),decode(e,t){const a=e instanceof Uint8Array?new Be.Reader(e):e;let r=void 0===t?a.len:a.pos+t;const i={...at};for(;a.pos<r;){const e=a.uint32();switch(e>>>3){case 1:i.mask=Ke.decode(a,a.uint32());break;case 2:i.userProfile=it.decode(a,a.uint32());break;default:a.skipType(7&e)}}return i},fromJSON(e){const t={...at};return void 0!==e.mask&&null!==e.mask?t.mask=Ke.fromJSON(e.mask):t.mask=void 0,void 0!==e.userProfile&&null!==e.userProfile?t.userProfile=it.fromJSON(e.userProfile):t.userProfile=void 0,t},fromPartial(e){const t={...at};return void 0!==e.mask&&null!==e.mask?t.mask=Ke.fromPartial(e.mask):t.mask=void 0,void 0!==e.userProfile&&null!==e.userProfile?t.userProfile=it.fromPartial(e.userProfile):t.userProfile=void 0,t},toJSON(e){const t={};return void 0!==e.mask&&(t.mask=e.mask?Ke.toJSON(e.mask):void 0),void 0!==e.userProfile&&(t.userProfile=e.userProfile?it.toJSON(e.userProfile):void 0),t}},nt=`${je.XA}/identity`;async function ot(e,t,{name:a,imageUploadToken:r}){void 0!==a&&await async function(e,t,a){const r=lt.encode(lt.fromPartial({mask:{paths:["name"]},userProfile:null!==a?{name:a}:{}}));await e.build().withHost(nt).withMethod("POST").withPath(`/v3/user/username/${encodeURIComponent((0,We.C)(t))}`).withEndpointIdentifier("/v3/user/username/{username}").withBody(r.finish()).withoutMarket().send()}(e,t,a),void 0!==r&&(null!==r?await async function(e,t,a){await e.build().withHost(nt).withMethod("POST").withPath(`/v3/profile-image/${encodeURIComponent((0,We.C)(t))}/${a}`).withEndpointIdentifier("/v3/profile-image/{username}/{uploadToken}").withoutMarket().send()}(e,t,r):await async function(e,t){await e.build().withHost(nt).withMethod("DELETE").withPath(`/v3/profile-image/${encodeURIComponent((0,We.C)(t))}`).withEndpointIdentifier("/v3/profile-image/{username}").withoutMarket().send()}(e,t))}var st=a(87961);const ut={type:"error",get message(){return c.ag.get("user.edit-details.error.file-size-exceeded",10)}},ct={type:"error",get message(){return c.ag.get("user.edit-details.error.too-small",300,300)}},mt={type:"error",get message(){return c.ag.get("user.edit-details.error.missing-name")}},dt={type:"error",get message(){return c.ag.get("user.edit-details.error.failed-to-save")}},gt={type:"error",get message(){return c.ag.get("user.edit-details.error.file-upload-failed")}};function pt(e){return{type:"setLoading",loading:e}}function ft(e){return{type:"setMessage",message:e}}function ht(e,t){switch(t.type){case"setName":return{...e,name:t.name};case"setMessage":return{...e,message:t.message,loading:!1};case"setLoading":return{...e,loading:t.loading,message:null};case"setImageData":return{...e,imageData:t.data,removeImage:!1};case"setImageToken":return{...e,imageToken:t.token,removeImage:!1};case"removeImage":return{...e,imageToken:void 0,imageData:void 0,image:void 0,removeImage:!0};default:return e}}const vt="XwNfIrI6_hCa_9_T2cQB",Et="so0bdX3oZH6YW5_nGxIR",bt="aM3plU4zzDqjWlvUHGYb",yt="zHeo4VUxytwm6Ptr0QyA",kt="vAeyAmeLkDEDKdL9Hou0",It="dnmzO6yYKkxUV8jl7O1Z",Pt="oN9QVvJKEtdTH3HGfCu1",Nt="uj7hczcCH1dZpse8Kfmi",_t="wvLAEV5wF5C5ej6rvimT",St="gAQfzAUp1FuSXODeZJfP",wt="dMhJaxli87_22jb_3d9x",Rt="MDb7QhAtHeyM4gKj8j8t",Ut="zGbjZMZ1DTx4futEbN9l",Ct=r.memo((function({uri:e,name:t,image:a,onClose:i,shouldOpenImagePicker:l}){const[n,o]=(0,Ue.Hs)(),[s,m]=function({name:e,image:t}){return(0,r.useReducer)(ht,{loading:!1,message:null,name:e,image:t})}({name:t,image:a}),d=(0,r.useMemo)((()=>{const e=s.imageData||s.image;return e?[{url:e,width:300,height:300}]:[]}),[s.image,s.imageData]);(0,r.useEffect)((()=>{l&&o()}),[o,l]);const g=(0,r.useCallback)((e=>{e===Ue.Hy.FILE_TOO_BIG?m(ft(ut)):e===Ue.Hy.IMAGE_TOO_SMALL&&m(ft(ct))}),[m]),p=(0,r.useCallback)((()=>{m({type:"removeImage"})}),[m]),f=(0,r.useCallback)((async t=>{t.preventDefault();if(0!==s.name.trim().length){m(pt(!0));try{const t=s.removeImage?null:s.imageToken;await async function(e,{name:t,imageUploadToken:a}){await ot(st.b.getInstance(),e,{name:t,imageUploadToken:a})}(e,{name:s.name,imageUploadToken:t}),i({name:s.name,image:s.imageData||s.image})}catch(e){m(ft(dt))}}else m(ft(mt))}),[m,i,s.image,s.imageData,s.imageToken,s.name,s.removeImage,e]);return r.createElement(k.Z,{isOpen:!0,contentLabel:c.ag.get("user.edit-details.title"),onRequestClose:()=>i()},r.createElement("div",{className:vt},r.createElement("div",{className:bt},r.createElement(u.D,{as:"h1",variant:"canon"},c.ag.get("user.edit-details.title")),r.createElement("button",{className:yt,onClick:()=>i(),"aria-label":c.ag.get("close")},r.createElement(b.k,{iconSize:16}))),s.message&&r.createElement(Ce.X,{isErrorMessage:"error"===s.message.type,message:s.message.message}),r.createElement("form",{className:Et,onSubmit:f},r.createElement(Ue.uL,{isOpen:n,minImageWidth:300,minImageHeight:300,maxFileSizeMB:10,onChange:async function(e){if(!e)return;const{imageFile:t,imageDataUrl:a}=e;if(m(ft(null)),m({type:"setImageData",data:a}),t)try{m(pt(!0));const e=await async function(e){const t=await st.b.getInstance().build().withEndpointIdentifier("image-upload/v4/user-profile").withHost("https://image-upload.spotify.com/v4").withMethod("POST").withPath("/user-profile").withBody(e).withoutGlobalHeaders().withHeaders([{key:"Content-Type",value:"image/jpeg"}]).withoutMarket().send();if(!t.body)throw new Error("No upload token recieved");return t.body.uploadToken}(t);m({type:"setImageToken",token:e}),m(pt(!1))}catch{m(ft(gt))}},onError:g}),r.createElement("div",{className:kt},r.createElement(He,{name:t,images:d,onClickEdit:o,onClickRemove:p}),s.loading&&r.createElement("div",{className:It},r.createElement(Re.T,null))),r.createElement("div",{className:Nt},r.createElement("label",{htmlFor:"user-edit-name",className:_t},r.createElement(u.D,{variant:"finaleBold",className:St},c.ag.get("user.edit-details.name-label"))),r.createElement("input",{"data-testid":"user-edit-name-input",id:"user-edit-name",type:"text",dir:"auto",className:re()(Pt,wt),onChange:e=>{m(function(e){return{type:"setName",name:e}}(e.target.value))},placeholder:c.ag.get("user.edit-details.name-placeholder"),maxLength:32,value:s.name})),r.createElement("div",{className:Rt},r.createElement(y.D,{colorSet:"invertedLight",onClick:f,disabled:s.loading},c.ag.get("save"))),r.createElement(u.D,{as:"p",variant:"finaleBold",className:Ut},c.ag.get("image-upload.legal-disclaimer")))))}));var xt=a(13218);const Dt=({className:e,isCurrentUser:t,username:a})=>{const{projects:i,fetchProjects:l}=W(t,a),o=i?.filter((e=>e.publishingState!==D.PUBLISHED)),s=i?.filter((e=>e.publishingState===D.PUBLISHED));return(0,r.useEffect)((()=>{const e=setInterval((()=>{const e=i?.filter((e=>e.publishingState===D.IN_PROGRESS));e&&e.length>0&&l()}),3e4);return()=>clearInterval(e)}),[l,i]),i?r.createElement(r.Fragment,null,o.length>0&&r.createElement("section",{className:e},r.createElement(xt.r,{title:c.ag.get("web-player.soundtrap.unpublished-projects.title"),tagline:c.ag.get("web-player.soundtrap.unpublished-projects.tagline"),seeAllUri:n().profileURI(a,["soundtrap","unpublished"]).toURI(),hasMoreElements:o.length>4}),r.createElement(H,{data:o,isPlayable:!1,username:a,maxNumberOfTracks:4})),s.length>0&&r.createElement("section",{className:e},r.createElement(xt.r,{title:c.ag.get("web-player.soundtrap.published-projects.title"),tagline:c.ag.get("web-player.soundtrap.published-projects.tagline"),seeAllUri:n().profileURI(a,["soundtrap","published"]).toURI(),hasMoreElements:s.length>4}),r.createElement(H,{data:s,isPlayable:!0,username:a,maxNumberOfTracks:4}))):null};var Ot=a(56802),Tt=a(4236),At=a(62515),Lt=a(6902),Mt=a(94321),Ft=a(29255),Ht=a(52983),jt=a(20246),Wt=a(54444),Bt=a(49961),Jt=a(74563),Kt=a(68513),zt=a(18686),Gt=a(49207),Qt=a(95880),Vt=a(47991),$t=a(42922);const qt=r.memo((function({tracks:e,hasHeaderRow:t=!1,nrTracksVisible:a,uri:i}){const l=(0,We.C)(i),o=n().userToplistURI(l,"tracks").toURI(),s=(0,r.useMemo)((()=>a?e.slice(0,a):e),[a,e]),{usePlayContextItem:u}=(0,M.n)({uri:o,pages:[{items:e.map((e=>({type:F.p.TRACK,uri:e.uri,uid:null,provider:null})))}]},{featureIdentifier:"profile",referrerIdentifier:"user_profile"}),m=(0,r.useCallback)(((e,t)=>{const a=(0,Bt.X)(e?.album?.images,{desiredSize:40});return r.createElement(Qt.SS,{key:t+e.uri,index:t,uri:(0,Vt.$)(e),duration_ms:e.duration_ms,name:e.name,artists:e.artists,album:e.album,isPlayable:!0,isExplicit:!!e.explicit,isMOGEFRestricted:!!e.mogef19,imgUrl:a?.url||"",contextUri:o,usePlayContextItem:u})}),[o,u]),g=(0,r.useMemo)((()=>[d.QD.INDEX,d.QD.TITLE,d.QD.ALBUM,d.QD.DURATION]),[]),p=(0,r.useCallback)((e=>e.uri),[]);return r.createElement($t.ZP,{value:"user-top-tracks-tracklist"},r.createElement(d.Pv,{ariaLabel:c.ag.get("top_tracks_this_month"),renderRow:m,nrTracks:s.length,tracks:s,resolveUri:p,hasHeaderRow:t,columns:g}))}),((e,t)=>e.tracks===t.tracks)),Zt=r.memo((function({tracks:e,title:t,tagline:a,seeAllUri:i,className:l,uri:n,spec:o}){const s=(0,Wt.$P)(),u=(0,r.useCallback)((()=>{const e=o.titleLinkFactory().hitUiNavigate({destination:i});s.logInteraction(e)}),[s,i,o]),c=(0,r.useCallback)((()=>{const e=o.titleLinkFactory().hitUiNavigate({destination:i});s.logInteraction(e)}),[s,i,o]);if(!e||0===e.length)return null;const m=e.length>4;return r.createElement("section",{className:l},r.createElement(xt.r,{title:t,tagline:a,seeAllUri:i,hasMoreElements:m,onClickTitle:u,onClickSeeAll:c}),r.createElement(Wt.Nh,{spec:o},r.createElement(qt,{tracks:e,uri:n,nrTracksVisible:4})))}),((e,t)=>e.tracks===t.tracks));function Xt(e,t){switch(t.type){case"OPEN_MODAL":return{isModalOpen:!0,modalVariant:"editProfile",shouldOpenImagePicker:!1};case"OPEN_MODAL_WITH_IMAGEPICKER":return{isModalOpen:!0,modalVariant:"editProfile",shouldOpenImagePicker:!0};case"OPEN_SOUNDTRAP_MODAL":return{isModalOpen:!0,modalVariant:"soundtrap",shouldOpenImagePicker:!1};case"CLOSE_MODAL":return{isModalOpen:!1,modalVariant:null,shouldOpenImagePicker:!1};default:return e}}const Yt=({uri:e})=>{const t=(0,pe.v9)(Ft.Gf),a=(0,pe.v9)(Ft.A$),l=(0,pe.I0)(),o=(0,fe.W6)(Gt.Nf,{loadingValue:!1}),[s,u]=(0,Lt.H)(e),d=(0,r.useMemo)((()=>(0,Bt.X)(a)),[a]),[{isModalOpen:g,modalVariant:p,shouldOpenImagePicker:f},h]=function(){const[e,t]=(0,r.useReducer)(Xt,{isModalOpen:!1,modalVariant:null,shouldOpenImagePicker:!1});return[e,t]}(),v=(0,Ot.o)(),E=!(0,Tt.k)(),{data:b,loading:y}=(0,B.J)(J.n5.getProfile,[{uri:e,playlists:10,artists:10,episodes:10}]),k=b?.public_playlists,I=b?.is_verified,P=b?.is_current_user||!1,N=b?.recently_played_artists,_=b?.user_created_show,S=P?d?.url||"":b?.image_url||"",w=(0,We.C)(e),R=(0,pe.v9)(Mt.C7),U=(P?t:b?.name)||"",C=(0,At.Z)(b?.image_url||null),{userId:D}=(0,i.UO)(),{spec:T,logger:A}=(0,Wt.fU)(he.createDesktopProfileEventFactory,{data:{uri:e,identifier:D}}),L=(0,r.useMemo)((()=>T.sectionTopTracksFactory()),[T]),{data:M,loading:F}=(0,B.J)(J.n5.getFollowing,[e]),H=M?.profiles,{data:j,loading:K}=(0,B.J)(J.n5.getFollowers,[e]),z=j?.profiles,G=(0,r.useMemo)((()=>(e=>e?J.n5.getUserTopArtists:()=>Promise.resolve({status:200,body:{items:[],offset:0,limit:0,total:0,href:"",next:null,previous:null}}))(P)),[P]),Q=(0,r.useMemo)((()=>(e=>e?J.n5.getUserTopTracks:()=>Promise.resolve({status:200,body:{items:[],offset:0,limit:0,total:0,href:"",next:null,previous:null}}))(P&&!R)),[P,R]),{data:$,loading:q}=(0,B.J)(G,[]),{data:X,loading:Y}=(0,B.J)(Q,[]),ee=$?.body,te=X?.body,ae=(0,fe.W6)(Gt.sT,{loadingValue:!1}),{projects:oe}=W(P,D),[ue,ce]=(0,r.useState)(null),me=(0,i.k6)();(0,r.useEffect)((()=>{if(ae&&oe&&"soundtrap_publish"===me.location.state?.referrer&&me.location.state?.newProjectId){const e=oe?.find((e=>e.soundtrapProjectId===me.location.state.newProjectId));e&&(ce(e),h({type:"OPEN_SOUNDTRAP_MODAL"}))}}),[me,ae,h,oe]);const de=(0,r.useCallback)((()=>{v({targetUri:e,intent:s?"unfollow":"follow",type:"click"});const t=T.actionBarFactory().followButtonFactory();s?(u(!1),A.logInteraction(t.hitUnfollow({itemToBeUnfollowed:e}))):(u(!0),A.logInteraction(t.hitFollow({itemToBeFollowed:e})))}),[s,A,v,u,T,e]),ge=(0,r.useCallback)((e=>{h({type:"CLOSE_MODAL"}),e&&(l((0,Ht.dL)(e.name)),l((0,Ht.GR)(e.image?[{url:e.image,height:null,width:null}]:[])))}),[l,h]),Re=(0,r.useCallback)((()=>{h({type:"OPEN_MODAL"});const e=T.headerFactory().usernameFactory().hitUiReveal();A.logInteraction(e)}),[A,h,T]),Ue=(0,r.useCallback)((()=>{h({type:"OPEN_MODAL_WITH_IMAGEPICKER"});const e=T.headerFactory().profileImageFactory().hitUiReveal();A.logInteraction(e)}),[A,h,T]),Ce=(0,r.useMemo)((()=>[{url:S}]),[S]),xe=(0,r.useCallback)((()=>{const e=T.headerFactory().usernameFactory().hitUiReveal();A.logInteraction(e)}),[A,T]),De=(0,r.useCallback)(((e,t)=>{if(!t)return;const a=T.headerFactory().followersLinkFactory().hitUiNavigate({destination:t});A.logInteraction(a)}),[A,T]),Oe=(0,r.useCallback)(((e,t)=>{if(!t)return;const a=T.headerFactory().followersLinkFactory().hitUiNavigate({destination:t});A.logInteraction(a)}),[A,T]),Te=(0,r.useCallback)((()=>{const e=T.actionBarFactory().contextMenuButtonFactory().hitUiReveal();A.logInteraction(e)}),[A,T]);if(!b||y||F||K||Y||q)return r.createElement(m.h,{hasError:!1,errorMessage:c.ag.get("error.not_found.title.page")});const Ae={total:b.followers_count},Le=re()("contentSpacing",ne);function Me(e){return _&&o?e:e-1}return r.createElement("div",{className:le},r.createElement(V.$,null,U),r.createElement(Pe.gF,{backgroundColor:C},r.createElement(_e.W,null,r.createElement(Se.i,{text:U})),r.createElement(O._,{menu:r.createElement(ke.I,{uri:b.uri})},r.createElement("div",{className:se},r.createElement(Ie.T,{canEdit:P,name:U,images:Ce,onClick:Ue,placeholderType:"user",shape:Pe.Kc.CIRCLE}))),r.createElement(Pe.sP,null,r.createElement(Pe.dy,{small:!0,uppercase:!0},I?r.createElement(Kt.S,{text:c.ag.get("card.tag.profile")}):c.ag.get("card.tag.profile")),r.createElement(O._,{menu:r.createElement(ke.I,{uri:b.uri})},r.createElement(Pe.xd,{canEdit:P,editTitle:c.ag.get("playlist.edit-details.title"),onClick:Re},U)),r.createElement(Pe.QS,{totalFollowers:Ae.total,totalFollowing:H?.length,publicPlaylists:b.total_public_playlists_count,userUri:e,onCreatorClick:xe,onTotalFollowersClick:De,onTotalFollowingClick:Oe}))),r.createElement(ve.o,{backgroundColor:C},r.createElement(ve.F,null,!P&&r.createElement(Ne.r,null,r.createElement(we.e,{isFollowing:Boolean(s),onClick:de,disabled:E})),r.createElement(jt.y,{menu:r.createElement(ke.I,{uri:b.uri,onEditProfileCallback:Re})},r.createElement(Ee.z,{label:c.ag.get("more.label.context",U),onClick:Te})))),r.createElement(Wt.Nh,{spec:T},ae&&r.createElement(Dt,{className:Le,username:D,isCurrentUser:P}),_&&o&&r.createElement(zt.q,{className:Le,total:_.total_episode_count,title:c.ag.get("episodes"),seeAllUri:n().profileURI(w,["episodes"]).toURI(),id:"episodes",index:0},_.episodes?.map(((e,t)=>r.createElement(Z.B,{index:t,key:e.uri,uri:e.uri,name:e.name,images:e.images,durationMilliseconds:1e3*parseInt(e.duration,10),releaseDate:e.publish_time?.toISOString(),description:`Stream count ${e.stream_count}`,showImages:[],resume_point:null,isExplicit:!1,is19PlusOnly:!1,sharingInfo:null})))),r.createElement(zt.q,{className:Le,total:ee?.total||0,title:c.ag.get("top_artists_this_month"),tagline:c.ag.get("only_visible_to_you"),seeAllUri:n().profileURI(w,["top","artists"]).toURI(),id:"top-artists",index:Me(1)},ee?.items.map(((e,t)=>r.createElement(be.I,{index:t,key:e.uri,uri:e.uri,name:e.name,images:e.images})))),r.createElement(Zt,{className:Le,title:c.ag.get("top_tracks_this_month"),tagline:c.ag.get("only_visible_to_you"),seeAllUri:n().profileURI(w,["top","tracks"]).toURI(),uri:e,tracks:te?.items,spec:L}),r.createElement(zt.q,{className:Le,total:b.total_public_playlists_count,title:c.ag.get("public_playlists"),seeAllUri:n().profileURI(w,["playlists"]).toURI(),id:"playlists",index:Me(2)},k?.map(((e,t)=>r.createElement(ye.Z,{index:t,key:e.uri,uri:e.uri,name:e.name,images:[{url:(0,Jt.p)({imageUriOrUrl:e.image_url}),width:300,height:300}],authorName:e.owner_name,description:e.followers_count?c.ag.get("user.followers",e.followers_count):""})))),N?.length?r.createElement(zt.q,{className:Le,total:N?.length,title:c.ag.get("recently_played_artists"),seeAllUri:n().profileURI(w,["recently-played-artists"]).toURI(),id:"recently-played-artists",index:Me(3)},N?.map(((e,t)=>r.createElement(be.I,{index:t,key:e.uri,uri:e.uri,name:e.name,images:[{url:e.image_url}]})))):null,z?.length?r.createElement(zt.q,{className:Le,title:c.ag.get("followers"),total:z?.length,seeAllUri:n().profileURI(w,["followers"]).toURI(),id:"followers",index:Me(4)},z?.map(((e,t)=>r.createElement(ie.P,{key:e.uri,index:t,uri:e.uri,name:e.name,images:[{url:e.image_url}]})))):null,H?.length?r.createElement(zt.q,{className:Le,title:c.ag.get("following"),total:H?.length,seeAllUri:n().profileURI(w,["following"]).toURI(),id:"following",index:Me(5)},H?.map(((e,t)=>r.createElement(ie.P,{key:e.uri,index:t,uri:e.uri,name:e.name,images:[{url:e.image_url}]})))):null,P&&g&&("editProfile"===p?r.createElement(Ct,{uri:e,name:U,image:S,onClose:ge,shouldOpenImagePicker:f}):"soundtrap"===p&&ae&&ue?r.createElement(x,{project:ue,username:t,onClose:ge}):null)))},ea=e=>{const{uri:t}=e,{data:a,loading:i,error:l}=(0,B.J)(J.n5.getPlaylists,[{uri:t}]),{public_playlists:n,total_public_playlists_count:o=0}=a||{};return i?r.createElement(m.h,{hasError:null!==l,errorMessage:c.ag.get("error.not_found.title.page")}):r.createElement(X.P,{className:re()("contentSpacing",oe),total:o,title:c.ag.get("public_playlists"),showAll:!0},n?.map(((e,t)=>r.createElement(ye.Z,{index:t,key:e.uri,uri:e.uri,name:e.name,authorName:e.owner_name,description:e.followers_count?c.ag.get("user.followers",e.followers_count):"",images:[{url:(0,Jt.p)({imageUriOrUrl:e.image_url}),width:300,height:300}]}))))},ta=e=>{const{uri:t}=e,{data:a,loading:i,error:l}=(0,B.J)(J.n5.getRecentlyPlayedArtists,[{uri:t,limit:50}]),n=a?.artists;return i?r.createElement(m.h,{hasError:null!==l,errorMessage:c.ag.get("error.not_found.title.page")}):r.createElement(X.P,{className:re()("contentSpacing",oe),total:n?.length,title:c.ag.get("recently_played_artists"),showAll:!0},n?.map(((e,t)=>r.createElement(be.I,{index:t,key:e.uri,name:e.name,uri:e.uri,images:[{url:e.image_url}]}))))},aa=()=>{const{data:e,loading:t,error:a}=(0,B.J)(J.n5.getUserTopArtists),i=e?.body;return t?r.createElement(m.h,{hasError:null!==a,errorMessage:c.ag.get("error.not_found.title.page")}):i?r.createElement(X.P,{className:re()("contentSpacing",oe),total:i.items.length,title:c.ag.get("top_artists_this_month"),tagline:c.ag.get("only_visible_to_you"),showAll:!0},i.items.map(((e,t)=>r.createElement(be.I,{key:e.uri,index:t,uri:e.uri,name:e.name,images:e.images})))):null},ra=({uri:e})=>{const{data:t,loading:a,error:i}=(0,B.J)(J.n5.getProfile,[{uri:e}]);return t&&!a&&(t?.is_current_user||!1)?r.createElement(aa,null):r.createElement(m.h,{hasError:null!==i,errorMessage:c.ag.get("error.not_found.title.page")})},ia=({uri:e})=>{const{data:t,loading:a,error:i}=(0,B.J)(J.n5.getUserTopTracks,[{offset:0,limit:50}]),l=t?.body;return a?r.createElement(m.h,{hasError:null!==i,errorMessage:c.ag.get("error.not_found.title.page")}):l?r.createElement("div",{className:re()("contentSpacing",oe,ue)},r.createElement("div",{className:ce},r.createElement(u.D,{as:"h1",variant:"canon",className:me},c.ag.get("top_tracks_this_month")),r.createElement(u.D,{as:"p",variant:"mesto"},c.ag.get("only_visible_to_you"))),r.createElement(qt,{tracks:l.items,uri:e,hasHeaderRow:!0})):null},la=({uri:e})=>{const{data:t,loading:a,error:i}=(0,B.J)(J.n5.getProfile,[{uri:e}]);return t&&!a&&(t?.is_current_user||!1)?r.createElement(ia,{uri:e}):r.createElement(m.h,{hasError:null!==i,errorMessage:c.ag.get("error.not_found.title.page")})},na=r.memo((function(){const{userId:e}=(0,i.UO)(),t=decodeURIComponent(e),a=n().profileURI(t).toURI();return r.createElement("section",null,r.createElement(s.l,{exact:!0,path:"/user/:userId/playlists",pageId:o.Wg.PROFILE_PLAYLISTS},r.createElement(ea,{uri:a})),r.createElement(s.l,{exact:!0,path:"/user/:userId/top/tracks",pageId:o.Wg.PROFILE_TOP_TRACKS},r.createElement(la,{uri:a})),r.createElement(s.l,{exact:!0,path:"/user/:userId/top/artists",pageId:o.Wg.PROFILE_TOP_ARTISTS},r.createElement(ra,{uri:a})),r.createElement(s.l,{exact:!0,path:"/user/:userId/soundtrap/unpublished"},r.createElement(Q,{uri:a,published:!1})),r.createElement(s.l,{exact:!0,path:"/user/:userId/soundtrap/published"},r.createElement(Q,{uri:a,published:!0})),r.createElement(s.l,{exact:!0,path:"/user/:userId/recently-played-artists",pageId:o.Wg.PROFILE_RECENTLY_PLAYED_ARTISTS},r.createElement(ta,{uri:a})),r.createElement(s.l,{exact:!0,path:"/user/:userId/following",pageId:o.Wg.PROFILE_FOLLOWING},r.createElement(ge,{uri:a})),r.createElement(s.l,{exact:!0,path:"/user/:userId/followers",pageId:o.Wg.PROFILE_FOLLOWERS},r.createElement(de,{uri:a})),r.createElement(s.l,{exact:!0,path:"/user/:userId/episodes",pageId:o.Wg.PROFILE_EPISODES},r.createElement(te,{uri:a})),r.createElement(s.l,{exact:!0,path:"/user/:userId",pageId:o.Wg.PROFILE},r.createElement(Yt,{uri:a})))}))},47991:(e,t,a)=>{a.d(t,{$:()=>r});const r=e=>e?.linked_from?.uri||e.uri}}]);
//# sourceMappingURL=xpui-routes-profile.js.map