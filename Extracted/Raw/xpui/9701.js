"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[9701],{43683:(e,t,a)=>{a.d(t,{q:()=>D,o:()=>k});var n=a(67294),l=a(94184),c=a.n(l),o=a(69518),E=a.n(o),s=a(59440),r=a(97081),i=a(96206),S=a(4236),d=a(83692),I=a(26010),_=a(69010),u=a(18597),m=a(75012),Z=a(40080),w=a(14130);const g="x-downloadButton-cancelDownloadButton",f="x-downloadButton-DownloadButton",p="x-downloadButton-button",N="x-downloadButton-removeDownload",h="x-downloadButton-cancelDownload",b="x-downloadButton-progress",O="z3zia5snl987x676qe5w";let D;!function(e){e[e.sm=24]="sm",e[e.md=32]="md"}(D||(D={}));const C=e=>{const{currentTarget:t,detail:a}=e;a>0&&t&&t.blur()},k=({uri:e,isFollowing:t,canDownload:a,onFollow:l,size:o=D.sm,className:k,onClick:y=(()=>{})})=>{const R={"--size":`${o}px`},{useDownloading:v,useDownloadCapability:A}=(0,n.useContext)(I.I),[L,T]=(0,n.useState)(!1),[x,z]=A(E().isEpisode(e)),[V,$]=(0,n.useState)(!1),{currentAvailability:B,progress:M,beginDownload:U,clearDownload:Y}=v(e);((e,t)=>{const a=(0,w.r)(),l=(0,n.useRef)(!1);(0,n.useEffect)((()=>{e===_.V8.DOWNLOADING&&!1===l.current&&(l.current=!0,a.say(i.ag.get("download.downloading",t.totalItems)))}),[a,e,t]);const c=(0,Z.D)(e);(0,n.useEffect)((()=>{c===_.V8.DOWNLOADING&&e===_.V8.YES&&(l.current=!1,a.say(i.ag.get("download.complete")))}),[a,c,e])})(B,M);const G=(0,n.useCallback)((e=>{z===_.v$.DOWNLOADING_NOT_ALLOWED?($(!0),y(e,_.mc.notAllowed)):(!1===t?(l(),T(!0)):U(),y(e,_.mc.download)),C(e)}),[U,z,t,y,l]),q=(0,n.useCallback)((e=>{Y(),C(e),y(e,_.mc.clear)}),[Y,y]);(0,n.useEffect)((()=>{!0===L&&!0===t&&(U(),T(!1))}),[t,L,U]);const F=(0,S.k)(),K="boolean"==typeof a?a:F,W=B===_.V8.YES;return x===_.PQ.NO_DOWNLOAD_CAPABILITY?null:K||W?z===_.v$.DOWNLOADING_NOT_ALLOWED?n.createElement("div",{className:f},n.createElement(d.w,{label:i.ag.get("download.download")},n.createElement("button",{className:c()(p,k),role:"switch",onClick:G,"aria-label":i.ag.get("download.download"),"aria-checked":!1},n.createElement(s.D,{iconSize:o}))),V&&n.createElement("div",{className:O},n.createElement(u.E,{withTopLeftPointer:!0,horizontal:!0,onClose:()=>{$(!1)}},i.ag.get("download.upsell")))):W?n.createElement(d.w,{label:i.ag.get("download.remove")},n.createElement("button",{className:c()(p,k,N),role:"switch",onClick:q,"aria-label":i.ag.get("download.remove"),"aria-checked":!0},n.createElement(r.E,{iconSize:o}))):B===_.V8.NO?n.createElement(d.w,{label:i.ag.get("download.download")},n.createElement("button",{className:c()(p,k),role:"switch",onClick:G,"aria-label":i.ag.get("download.download"),"aria-checked":!1},n.createElement(s.D,{iconSize:o}))):n.createElement("div",{className:c()(h,k),role:"switch","aria-checked":!0},n.createElement(d.w,{label:i.ag.get("download.cancel")},n.createElement("button",{style:R,className:c()(p,g,k),onClick:q,"aria-label":i.ag.get("download.cancel")})),n.createElement("span",{style:R,className:c()(b,g)},n.createElement(m.e,{"aria-valuetext":i.ag.get("progress.downloading-tracks"),percentage:M.percentage,size:o}))):null}},22578:(e,t,a)=>{a.d(t,{$:()=>d});var n=a(67294),l=a(64593),c=a(96206),o=a(69691),E=a(8341),s=a(89952),r=a(51615),i=a(24183);function S(e){return e.includes("Spotify")?e:`Spotify – ${e}`}const d=({children:e,usePlayingItem:t})=>{let a=S(e);(e=>{const{mainLandmarkRef:t}=(0,i.Oh)(),a=(0,r.k6)(),l=a.location?.state?.preventMoveFocus,c=(0,n.useRef)(a.length<2);c.current=a.length<2,(0,n.useEffect)((()=>{const a=t.current;!l&&!c.current&&a&&e&&(a.setAttribute("aria-label",e),a.focus())}),[e,t,l])})(e);const{isPlaying:d}=(0,o.IK)(),I=(0,E.Y)((e=>e?.item));return I&&(d||t)&&((0,s.G_)(I)?a=[I.name,I.artists.map((e=>e.name)).join(c.ag.getSeparator())].join(" • "):(0,s.iw)(I)?a=[I.name,I.show.name].join(" • "):(0,s.k6)(I)&&(a=S(c.ag.get("ad-formats.advertisement")))),n.createElement(l.q,{defaultTitle:"Spotify",defer:!1},n.createElement("title",null,a))}},37761:(e,t,a)=>{a.d(t,{O:()=>D,K:()=>O});var n=a(67294),l=a(94184),c=a.n(l),o=a(89104),E=a(7469);const s="x-entityImage-xsmall",r="x-entityImage-small",i="x-entityImage-medium",S="x-entityImage-large",d="x-entityImage-square",I="x-entityImage-circle",_="x-entityImage-image",u="x-entityImage-imageContainer",m="x-entityImage-imagePlaceholder",Z="x-entityImage-defaultSize";var w=a(42781),g=a(86250),f=a(39278),p=a(61251),N=a(38370),h=a(24524);const b=({title:e,type:t,className:a})=>{const l=(e=>{switch(e){case w.p.ALBUM:return n.createElement(g.c,{className:Z});case w.p.ARTIST:return n.createElement(f.a,{className:Z});case w.p.SHOW:case w.p.EPISODE:return n.createElement(p.J,{className:Z});case w.p.USER:return n.createElement(N.f,{className:Z});case w.p.PLAYLIST:default:return n.createElement(h.U,{className:Z})}})(t);return n.createElement("div",{"aria-label":e,className:c()(m,a)},l)};let O;!function(e){e[e.ROUNDED_CORNERS=0]="ROUNDED_CORNERS",e[e.CIRCLE=1]="CIRCLE",e[e.SQUARE=2]="SQUARE"}(O||(O={}));const D=n.memo((function({loadingMode:e="lazy",type:t,title:a,images:l=[],shape:m=O.SQUARE,size:Z=E.m$.SIZE_56,className:w,onContextMenu:g=(()=>{}),onTouchStart:f=(()=>{}),onTouchEnd:p=(()=>{})}){const N=function(e=[]){const t=e.filter((e=>Boolean(e.width))),a=t.filter((e=>e.url&&e.width&&e.width>=E.eM[E.m$.SIZE_56])).sort(((e,t)=>e.width-t.width));return a.length?a:t}(l),h=N.length>0?N[0].url:"",D=N.map((({url:e,width:t})=>`${e} ${t/2}w, ${e} ${t}w`)).join(", "),C=()=>({[s]:E.pj.includes(Z),[r]:E.wL.includes(Z),[i]:E.VZ.includes(Z),[S]:E.B_.includes(Z)});return n.createElement("div",{className:c()(u,w),onContextMenu:g,onTouchStart:f,onTouchEnd:p,style:{width:`${E.eM[Z]}px`,height:`${E.eM[Z]}px`}},n.createElement(o.E,{loading:e,src:h,alt:a,ariaHidden:!0,className:c()(_,{[I]:m===O.CIRCLE,[d]:m===O.SQUARE,...C()}),srcSet:D||void 0,testid:"entity-image"},n.createElement(b,{title:a,type:t,className:c()({[I]:m===O.CIRCLE,[d]:m===O.SQUARE,...C()})})))}))},7469:(e,t,a)=>{let n;a.d(t,{B_:()=>s,VZ:()=>E,eM:()=>l,m$:()=>n,pj:()=>c,wL:()=>o}),function(e){e[e.SIZE_48=0]="SIZE_48",e[e.SIZE_56=1]="SIZE_56",e[e.SIZE_64=2]="SIZE_64",e[e.SIZE_72=3]="SIZE_72",e[e.SIZE_80=4]="SIZE_80",e[e.SIZE_96=5]="SIZE_96",e[e.SIZE_104=6]="SIZE_104",e[e.SIZE_112=7]="SIZE_112",e[e.SIZE_120=8]="SIZE_120",e[e.SIZE_128=9]="SIZE_128",e[e.SIZE_136=10]="SIZE_136",e[e.SIZE_144=11]="SIZE_144",e[e.SIZE_152=12]="SIZE_152",e[e.SIZE_160=13]="SIZE_160",e[e.SIZE_168=14]="SIZE_168",e[e.SIZE_176=15]="SIZE_176",e[e.SIZE_184=16]="SIZE_184",e[e.SIZE_200=17]="SIZE_200",e[e.SIZE_232=18]="SIZE_232"}(n||(n={}));const l={[n.SIZE_48]:48,[n.SIZE_56]:56,[n.SIZE_64]:64,[n.SIZE_72]:72,[n.SIZE_80]:80,[n.SIZE_96]:96,[n.SIZE_104]:104,[n.SIZE_112]:112,[n.SIZE_120]:120,[n.SIZE_128]:128,[n.SIZE_136]:136,[n.SIZE_144]:144,[n.SIZE_152]:152,[n.SIZE_160]:160,[n.SIZE_168]:168,[n.SIZE_176]:176,[n.SIZE_184]:184,[n.SIZE_200]:200,[n.SIZE_232]:232},c=[n.SIZE_48,n.SIZE_56,n.SIZE_64],o=[n.SIZE_72,n.SIZE_80,n.SIZE_96,n.SIZE_104,n.SIZE_112,n.SIZE_120,n.SIZE_128],E=[n.SIZE_136,n.SIZE_144,n.SIZE_152,n.SIZE_160,n.SIZE_168,n.SIZE_176],s=[n.SIZE_184,n.SIZE_200,n.SIZE_232]},40080:(e,t,a)=>{a.d(t,{D:()=>l});var n=a(67294);function l(e){const t=(0,n.useRef)();return(0,n.useEffect)((()=>{t.current=e}),[e]),t.current}}}]);
//# sourceMappingURL=9701.js.map