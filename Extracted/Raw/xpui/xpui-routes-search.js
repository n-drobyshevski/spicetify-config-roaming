"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[2219,8419],{43914:(e,n,i)=>{i.d(n,{D:()=>o});var a=i(67294),t=i(96206),l=i(65830),s=i(88503),r=i(56802),d=i(53678);const o=({id:e,children:n,targetURI:i,fadeOut:o=!1})=>{const m=(0,a.useCallback)((()=>{window.open((0,s.cd)(i).href)}),[i]),c={getTitle:()=>t.ag.get("action-trigger.available-in-app-only"),getDescription:()=>t.ag.get("action-trigger.listen-mixed-media-episode"),primaryButtonText:()=>t.ag.get("action-trigger.button.get-app"),secondaryButtonText:()=>t.ag.get("action-trigger.button.not-now"),isCTA:!0,intentPrimaryButton:"download-app",onLogInteraction:(0,r.o)(),shouldHideOnScroll:!0,fadeOut:o};return a.createElement(l.P,{className:d.Z.container,id:e,onPrimaryButtonClick:m,options:c},n)}},51216:(e,n,i)=>{i.d(n,{c:()=>k});var a=i(67294),t=i(32667),l=i(9348),s=i(18261),r=i(28137),d=i(36590),o=i(8498),m=i(21610),c=i(16257);const u="Xk3_ws6o9K6gsByypayv",k=({name:e,uri:n,images:i,authorName:k,isHero:p,onClick:v,testId:N,index:S,requestId:g,isLocked:y=!1})=>{let f;return f=p?a.createElement(m.Z,{index:S,onClick:v,headerText:e,featureIdentifier:"audiobook",uri:n,isPlayable:!1,renderCardImage:()=>a.createElement(o.x,{isHero:!0,images:i}),renderSubHeaderContent:()=>a.createElement(a.Fragment,null,a.createElement(t.D,{variant:"mesto"},k),a.createElement(c.k,null,"AUDIOBOOK")),testId:N,requestId:g}):a.createElement(d.C,{index:S,onClick:v,headerText:e,featureIdentifier:"audiobook",uri:n,isPlayable:!1,renderCardImage:()=>a.createElement(o.x,{images:i}),renderSubHeaderContent:()=>a.createElement(a.Fragment,null,y&&a.createElement(l.W,{iconSize:16,className:u}),a.createElement(t.D,{as:"span",variant:"mesto"},k)),testId:N,requestId:g}),a.createElement(s._,{menu:a.createElement(r.X,{uri:n})},f)}},54543:(e,n,i)=>{i.d(n,{q:()=>E});var a=i(87462),t=i(67294),l=i(69518),s=i.n(l),r=i(63495),d=i(36590),o=i(8498),m=i(21610),c=i(16257);const u=({name:e="",uri:n="",images:i=[],isHero:a,onClick:l,testId:s,index:r})=>a?t.createElement(m.Z,{featureIdentifier:"unknown",index:r,onClick:l,headerText:e,uri:n,isPlayable:!1,renderCardImage:()=>t.createElement(o.x,{isHero:a,images:i}),renderSubHeaderContent:()=>t.createElement(c.k,null),testId:s}):t.createElement(d.C,{index:r,featureIdentifier:"unknown",onClick:l,headerText:e,uri:n,isPlayable:!1,renderCardImage:()=>t.createElement(o.x,{isHero:a,images:i}),renderSubHeaderContent:()=>t.createElement("span",null),testId:s});var k=i(73425),p=i(143),v=i(64269),N=i(3634),S=i(89477),g=i(61864),y=i(46309),f=i(30523),h=i(52778),b=i(95332),F=i(97891);const E=({entity:e,index:n,testId:i,isHero:l=!1})=>{const d=(s().from(e.uri)||{}).type,o={testId:i,isHero:l,index:n,sharingInfo:e.sharingInfo};switch(d){case s().Type.ALBUM:case s().Type.COLLECTION_ALBUM:{const n=e;return t.createElement(N.r,(0,a.Z)({},o,{name:n.name,uri:n.uri,images:n.images,artists:n.artists}))}case s().Type.ARTIST:{const n=e;return t.createElement(S.I,(0,a.Z)({},o,{name:n.name,uri:n.uri,images:n.images}))}case s().Type.EPISODE:{const n=e;return t.createElement(g.B,(0,a.Z)({},o,{name:n.name,uri:n.uri,images:n.images,showImages:n.show?.images||[],durationMilliseconds:n.duration_ms,releaseDate:n.release_date,resume_point:n.resume_point,description:n.description,isExplicit:n.explicit,is19PlusOnly:!!n.tags?.includes("MOGEF-19+")}))}case s().Type.PLAYLIST:case s().Type.PLAYLIST_V2:{const n=e,i=n.owner?.display_name||e.owner?.displayName||"";return t.createElement(y.Z,(0,a.Z)({},o,{name:n.name,uri:n.uri,images:n.images,description:n.description,authorName:i}))}case s().Type.USER:return t.createElement(f.P,(0,a.Z)({},o,{name:e.name,uri:e.uri,images:e.images}));case s().Type.SHOW:{const n=e;return t.createElement(b._,(0,a.Z)({},o,{name:n.name,uri:n.uri,images:n.images,publisher:n.publisher,mediaType:{audio:p.E.AUDIO,video:p.E.VIDEO,mixed:p.E.MIXED}[n.media_type]??p.E.AUDIO}))}case s().Type.APPLICATION:return t.createElement(r.s,(0,a.Z)({},o,{name:e.name,uri:e.uri,images:e.images,description:e.description}));case s().Type.RADIO:return t.createElement(h.I,{testId:i,index:n,name:e.name,uri:e.uri,images:e.images});case s().Type.TRACK:{const n=e;return t.createElement(F.G,(0,a.Z)({},o,{name:n.name,uri:n.uri,images:n.album?.images||[],artists:n.artists,album:n.album,isExplicit:n.explicit,is19PlusOnly:n.tags?.includes("MOGEF-19+")}))}case s().Type.COLLECTION:return e.uri.endsWith("your-episodes")?t.createElement(v.T,{index:n}):t.createElement(k.p,{index:n});default:return console.warn("Rendering a generic Card for unknown type:",d),t.createElement(u,(0,a.Z)({},o,{name:e.name,uri:e.uri,images:e.images}))}}},63495:(e,n,i)=>{i.d(n,{s:()=>o});var a=i(67294),t=i(96206),l=i(36590),s=i(8498),r=i(21610),d=i(16257);const o=({name:e,uri:n,images:i,isHero:o,onClick:m,testId:c,description:u,index:k,requestId:p})=>o?a.createElement(r.Z,{featureIdentifier:"genre",index:k,onClick:m,headerText:e,uri:n,isPlayable:!1,renderCardImage:()=>a.createElement(s.x,{isHero:o,images:i}),renderSubHeaderContent:()=>a.createElement(d.k,null,u||t.ag.get("card.tag.genre")),testId:c,requestId:p}):a.createElement(l.C,{index:k,featureIdentifier:"genre",onClick:m,headerText:e,uri:n,isPlayable:!1,renderCardImage:()=>a.createElement(s.x,{isHero:o,images:i}),renderSubHeaderContent:()=>a.createElement("span",null,u||""),testId:c,requestId:p})},30523:(e,n,i)=>{i.d(n,{P:()=>k});var a=i(87462),t=i(67294),l=i(39278),s=i(96206),r=i(18261),d=i(43480),o=i(36590),m=i(8498),c=i(21610),u=i(16257);const k=t.memo((function(e){const{images:n,name:i,uri:k,onClick:p,isHero:v,testId:N,index:S,requestId:g}=e;let y;const f=(0,t.useCallback)((()=>t.createElement(m.x,{isCircular:!0,isHero:v,images:n,FallbackComponent:e=>t.createElement(l.a,(0,a.Z)({iconSize:64},e))})),[n,v]),h=(0,t.useCallback)((()=>v?t.createElement(u.k,null,s.ag.get("card.tag.profile")):s.ag.get("card.tag.profile")),[v]);return y=v?t.createElement(c.Z,{index:S,onClick:p,headerText:i,featureIdentifier:"profile",uri:k,isPlayable:!1,renderCardImage:f,renderSubHeaderContent:h,testId:N,requestId:g}):t.createElement(o.C,{index:S,onClick:p,headerText:i,featureIdentifier:"profile",uri:k,isPlayable:!1,renderCardImage:f,renderSubHeaderContent:h,testId:N,requestId:g}),t.createElement(r._,{menu:t.createElement(d.I,{uri:k})},y)}))},55145:(e,n,i)=>{i.d(n,{g:()=>N});var a=i(67294),t=i(94184),l=i.n(t);function s(){const e=(e,n)=>{switch(n.type){case"INVALIDATE":return{...e,isValid:!1};case"CACHE_ITEMS":return e.isValid?{...e,items:{...e.items,...n.data},hasData:!0}:{isValid:!0,items:{...n.data},hasData:!0};default:throw new Error("Action not supported")}},[n,i]=(0,a.useReducer)(e,{items:{},isValid:!0,hasData:!1});return{cacheItems:(0,a.useCallback)(((e,n)=>{const a=e.reduce(((e,i,a)=>(e[a+n]=i,e)),{});i({type:"CACHE_ITEMS",data:a})}),[i]),getCachedItems:(0,a.useCallback)(((e,i)=>{const a=[],t=[];for(let l=e;l<=i;l++)n.items[l]||a.push(l),t.push(n.items[l]);return n.isValid?{items:t,missing:a.length>0?{firstMissingIndex:Math.min(...a),lastMissingIndex:Math.max(...a)}:null}:{items:t,missing:{firstMissingIndex:e,lastMissingIndex:i}}}),[n]),invalidateCache:(0,a.useCallback)((()=>{i({type:"INVALIDATE"})}),[i]),hasCachedData:n.hasData}}var r=i(10912);var d=i(48817),o=i(68828);const m=({renderItems:e,nrItems:n,estimatedItemMaxHeight:i,scrollNodeRef:t,nrRowsOverscan:l=5})=>{const s=(0,a.useRef)(null),r=(0,a.useRef)(null),m=(0,a.useRef)(null),c=(0,a.useRef)(0),u=(0,a.useRef)({rowCount:0,rowHeight:i,columnCount:1}),[k,p]=(0,a.useState)({firstItemToRender:0,lastItemToRender:-1}),v=(0,a.useCallback)(((e,n)=>{const i=t.current;if(!i)return;const a=Math.floor(i.offsetHeight/n)+2*l;u.current={rowCount:a,rowHeight:n,columnCount:e}}),[l,t]),N=(0,a.useCallback)((()=>{const e=t.current;if(!e)return;const i=Math.floor((e.scrollTop-c.current)/u.current.rowHeight),a=Math.max(i-l,0),s=a*u.current.columnCount,r=Math.min((a+u.current.rowCount-1)*u.current.columnCount-1,n-1);s===k.firstItemToRender&&r===k.lastItemToRender||p({firstItemToRender:s,lastItemToRender:r})}),[k.firstItemToRender,k.lastItemToRender,n,l,t]),S=(0,a.useCallback)((n=>e(k.firstItemToRender,k.lastItemToRender,n)),[k.firstItemToRender,k.lastItemToRender,e]),g=(0,a.useCallback)((({columnCount:e,rowHeight:n})=>{const i=n+d.w;i!==u.current.rowHeight&&e>0&&(v(e,i),N())}),[v,N]);(0,a.useEffect)((()=>{const e=m.current,n=t.current;e&&n&&(c.current=e.getBoundingClientRect().top-n.getBoundingClientRect().top+n.scrollTop)}),[t]),(0,a.useEffect)((()=>{if(!window.IntersectionObserver)return()=>{};const e=new window.IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&N()}))}));return s.current&&e.observe(s.current),r.current&&e.observe(r.current),()=>{e.disconnect()}}),[N]);const y=Math.ceil(n/u.current.columnCount),f=Math.min(y*u.current.rowHeight,u.current.rowHeight*(l-2)),h=u.current.rowHeight*(k.firstItemToRender/u.current.columnCount),b=k.lastItemToRender/u.current.columnCount+1<y?u.current.rowHeight*(y-u.current.rowCount)-h:0;return a.createElement("div",{ref:m,className:o.Z.wrapper,style:{height:y*u.current.rowHeight+"px"}},a.createElement("div",{ref:s,className:o.Z.topSentinel,style:{height:`${h+f}px`}},a.createElement("div",{style:{height:`${f}px`}})),a.createElement("div",{style:{transform:`translateY(${h}px)`}},a.createElement(d.T,{render:S,onLayoutChange:g})),a.createElement("div",{ref:r,className:o.Z.bottomSentinel,style:{height:`${b+f}px`}},a.createElement("div",{style:{height:`${f}px`}})))};var c=i(32648),u=i(36590),k=i(8498);const p=a.memo((function({index:e}){return a.createElement(u.C,{index:e,headerText:"",uri:"",renderCardImage:()=>a.createElement(k.x,{images:[]}),featureIdentifier:"unknown"})})),v="lA3jnNwnLc3CoYKT06Vz";function N({renderCard:e,nrCards:n,fetchData:i,limit:t=50,cardGridApiRef:d}){const{scrollNodeRef:o}=(0,a.useContext)(c.VX),{invalidateCache:u,getItemsFromCache:k,hasCachedData:N}=function(e){const{getCachedItems:n,cacheItems:i,invalidateCache:t,hasCachedData:l}=s(),d=(0,a.useRef)(!1),o=(0,r.t)(),m=(0,a.useCallback)(((n,a)=>{const t=Math.max(n,0);d.current||(d.current=!0,e(t,a).then((e=>{d.current=!1,e.length>0&&o()&&i(e,t)})))}),[i,e,o]);return{invalidateCache:t,getItemsFromCache:(0,a.useCallback)(((e,i,a)=>{const{items:t,missing:l}=n(e,i);if(l){const{firstMissingIndex:n,lastMissingIndex:t}=l;t===i?m(n,a):n===e?m(t-a+1,a):m(n,t-n+1)}return t}),[m,n]),hasCachedData:l}}(i);(0,a.useImperativeHandle)(d,(()=>({update:()=>u()})));return a.createElement("div",{className:l()({[v]:!N})},a.createElement(m,{renderItems:(i,l,s)=>{const r=k(i,l,t);return-1===l&&n>0?[a.createElement(p,{key:"placeholder",index:0})]:r.map(((n,t)=>(n?e(n,i+t,s):null)??a.createElement(p,{key:t,index:t})))},scrollNodeRef:o,nrItems:n,estimatedItemMaxHeight:500}))}},18419:(e,n,i)=>{i.r(n),i.d(n,{SeeAll:()=>m,default:()=>c});var a=i(67294),t=i(94184),l=i.n(t),s=i(32667),r=i(96206),d=i(67892);const o="search-recentSearches-seeAll",m=a.memo((function(e){const{link:n,pageId:i,className:t,label:m,state:c,pathname:u,onClick:k}=e;return a.createElement(d.Z,{to:n,className:l()(o,t),pageId:i,state:c,pathname:u,"data-testid":e["data-testid"],onClick:k},a.createElement(s.D,{variant:"minuetBold"},m||r.ag.get("search.see-all")))})),c=m},57677:(e,n,i)=>{i.r(n),i.d(n,{default:()=>Sa});var a=i(67294),t=i(62808),l=i.n(t),s=i(87577),r=i(73305),d=i(96206),o=i(26700),m=i(58333),c=i(58679),u=i(58548),k=i(36790),p=i(54444),v=i(49207),N=i(18686),S=i(39714),g=i(3634),y=i(89477),f=i(51216),h=i(54543),b=i(61864),F=i(63495),E=i(46309),T=i(30523),I=i(95332),C=i(97891),D=i(42781);const A=({entity:e,index:n,testId:i,onClick:t,isHero:l=!1})=>{switch(e.type){case D.p.ALBUM:return a.createElement(g.r,{key:e.uri,testId:i,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,artists:e.artists,year:e.year,sharingInfo:null,requestId:e.requestId});case D.p.ARTIST:return a.createElement(y.I,{key:e.uri,testId:i,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,requestId:e.requestId});case D.p.AUDIOBOOK:return a.createElement(f.c,{key:e.uri,testId:i,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,authorName:e.authorName,requestId:e.requestId});case D.p.EPISODE:return a.createElement(b.B,{key:e.uri,testId:i,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,showImages:e.show.images,durationMilliseconds:e.duration.milliseconds,releaseDate:e.release.date,resume_point:null,description:e.description,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,sharingInfo:null,requestId:e.requestId});case D.p.GENRE:return a.createElement(F.s,{key:e.uri,testId:i,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,requestId:e.requestId});case D.p.PLAYLIST:return a.createElement(E.Z,{key:e.uri,testId:i,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,description:"",authorName:e.owner.displayName,requestId:e.requestId});case D.p.USER:return a.createElement(T.P,{key:e.uri,testId:i,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,requestId:e.requestId});case D.p.SHOW:return a.createElement(I._,{key:e.uri,testId:i,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,mediaType:e.mediaType,sharingInfo:null,requestId:e.requestId});case D.p.TRACK:return a.createElement(C.G,{key:e.uri,testId:i,onClick:t,isHero:l,index:n,name:e.name,uri:e.uri,images:e.album?.images||[],artists:e.artists,album:e.album,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,sharingInfo:null,requestId:e.requestId,isLyricsMatch:e.isLyricsMatch});default:return console.warn('Rendering SearchEntityCard using the old method <DeprecatedEntityCardByUriType /> as the entity doesn\'t contain the new "type" EntityType enum.'),a.createElement(h.q,{testId:i,onClick:t,isHero:l,index:n,entity:e})}},V="x-searchHistoryEntries-searchHistoryEntry",R="x-searchHistoryEntries-clearSingleSearchHistory",x="x-searchHistoryEntries-clearSingleSearchHistoryButton",w=({entity:e,index:n,clearSearchHistory:i})=>a.createElement("div",{className:V,key:e.uri},a.createElement(A,{entity:{...e,requestId:void 0},index:n}),a.createElement("div",{className:R},a.createElement("button",{className:x,onClick:()=>i(e.uri),"aria-label":d.ag.get("remove")},a.createElement(S.k,{iconSize:16}))));var q=i(42922),P=i(16375);const O=()=>{const{searchHistory:e,clearSearchHistory:n}=(0,P.u)();return 0===e.length?null:a.createElement(N.q,{index:0,id:"recent-searches",total:e.length,seeAllUri:"spotify:app:recent-searches",title:d.ag.get("search.title.recent-searches")},e.map(((e,i)=>a.createElement(q.ZP,{key:e.uri,index:i,value:"search-history"},a.createElement(w,{entity:e,index:i,clearSearchHistory:n})))))},_=()=>{const{spec:e,UBIFragment:n}=(0,p.fU)(m.createDesktopFindEventFactory,{data:{uri:"search:find"}}),{recentSearchesSpec:i,topGenresSpec:t,browseAllSpec:l}=(0,a.useMemo)((()=>({recentSearchesSpec:e.recentSearchesFactory(),topGenresSpec:e.topGenresFactory(),browseAllSpec:e.browseAllFactory()})),[e]);return a.createElement(a.Fragment,null,a.createElement(n,{spec:i},a.createElement(O,null)),a.createElement(c.F,{property:v.Oe,renderNewExperience:()=>a.createElement(u.T,{browseAllSpec:l}),renderOldExperience:()=>a.createElement(k.T,{topGenresSpec:t,browseAllSpec:l})}))};var U=i(94184),H=i.n(U),M=i(58588),L=i(54214),B=i(86706),W=i(98197),G=i(86604),Z=i(12324),$=i(69559);const z="search-searchCategory-contentArea",j="search-searchCategory-catergoryGrid",X="search-searchCategory-carousel",K="search-searchCategory-carouselButton",Y="search-searchCategory-carouselButtonVisible",Q="vmaoczSnxcR6Bpq8QEfX",J="Rrh3wAxQPbSfTYPMvAUo";var ee;function ne(e,n){(0,Z.Bu)(e,n),n.scrollIntoView({block:"end",inline:"center"})}function ie(e,n){const i=e.querySelector('[tabindex="0"]')||e.firstElementChild;n===ee.RIGHT&&i.nextElementSibling?ne(i,i.nextElementSibling):n===ee.LEFT&&i.previousElementSibling&&ne(i,i.previousElementSibling)}!function(e){e[e.LEFT=-1]="LEFT",e[e.RIGHT=1]="RIGHT"}(ee||(ee={}));const ae=e=>{const{children:n,className:i,showButtons:t=!0,ariaLabel:l}=e,s=(0,a.useRef)(null),r=(0,a.useRef)(null),[d,o]=(0,a.useState)(!1),[m,c]=(0,a.useState)(!1),u=(0,a.useCallback)((()=>{if(!r.current||!s.current)return;const e=r.current,n=s.current,i=e.scrollWidth-e.clientWidth,a=Math.floor(e.scrollLeft),t=e.scrollWidth>n.clientWidth;c(t&&0!==a),o(t&&Math.abs(a)<i)}),[]);(0,$.a)((()=>{u()}));const k=a.Children.toArray(n).length;(0,a.useEffect)(u,[k,u]);const p=(0,a.useCallback)((e=>{const n=e*(s.current.clientWidth/2);r.current.scrollBy({left:n}),u()}),[u]),v=(0,B.v9)((e=>e.ui?.textDirection?.isRTL)),N=(0,a.useCallback)((e=>{"ArrowLeft"===e.key?(e.preventDefault(),ie(r.current,v?ee.RIGHT:ee.LEFT)):"ArrowRight"===e.key&&(e.preventDefault(),ie(r.current,v?ee.LEFT:ee.RIGHT))}),[v]),S=v?d:m,g=v?m:d;return a.createElement("div",{ref:s,className:H()(z,i)},a.createElement("div",{ref:r,className:j,onScroll:u,onKeyDown:N,role:"list","aria-label":l,tabIndex:0},n),t&&a.createElement("div",{className:X,dir:"ltr"},a.createElement("button",{className:H()(K,Q,{[Y]:S}),tabIndex:-1,onClick:()=>p(ee.LEFT)},a.createElement(W.e,{semanticColor:"textBase"})),a.createElement("button",{className:H()(K,J,{[Y]:g}),tabIndex:-1,onClick:()=>p(ee.RIGHT)},a.createElement(G.V,{semanticColor:"textBase"}))))};var te=i(67892);const le=(0,a.createContext)(null),se=le.Provider;function re(){const e=(0,a.useContext)(le);if(null===e)throw new Error("Trying to use 'SearchContext' without 'SearchProvider'!");return e}var de=i(7073),oe=i(13218),me=i(73727),ce=i(32667),ue=i(34011);const ke="hngqMWKjlLOEcuxpoHz9",pe="WjLSNZPxuT0Zuw42kxSM",ve="zFOvsuNQpwehjH2VoiLL",Ne="zeGt0Z2HCYRvd6ziu_t9",Se=({forChip:e})=>{const{query:n}=re(),i=`/search/${n}`;return a.createElement("div",{className:ke,"aria-live":"polite"},a.createElement(ce.D,{as:"h1",variant:"canon",className:pe},e?d.ag.get("search.empty-results-title-for-chip",n,e):d.ag.get("search.empty-results-title",n)),a.createElement("p",{className:ve},d.ag.get("search.empty-results-text")),e&&a.createElement(me.rU,{to:i},a.createElement(ue.D,{colorSet:"invertedLight",className:Ne},d.ag.get("search.see-all"))))};var ge=i(70937),ye=i(18864),fe=i(10912),he=i(84242),be=i(47917);const Fe="H2PDjUgJNBIH5eWg59M0",Ee="vRlEuZATPhZt2l04RVIw",Te="Adlh7XTc3j3pXM3jGgr8",Ie=({index:e,item:n})=>{const{episode:i,show:t}=n,{usePlayContextItem:l}=(0,he.n)({uri:n.episode.uri},{featureIdentifier:"search",referrerIdentifier:"search"});return a.createElement("div",{className:Te},a.createElement(be.V,{index:e,episode:i,showMetadata:t,usePlayContextItem:l}),a.createElement("hr",{className:Ee,"aria-hidden":!0}))},Ce=({pageSize:e=30,showTitle:n=!0,displayEmptyPageOnEmptyResults:i=!0,enableInfiniteScroll:t=!1,spec:l})=>{const s=(0,fe.t)(),{query:r,api:d}=re(),o=(0,a.useRef)(null),m=(0,a.useRef)(0),[c,u]=(0,a.useState)(null),{ref:k,breakpoint:v}=(0,ye.Db)({[ye.Uo.MEDIUM]:0,[ye.Uo.LARGE]:600}),N=(0,p.$P)(),S=(0,a.useCallback)((async(n=!1)=>{n&&(m.current=0,o.current=null);let i=e;if(null!==o.current){if(m.current>=o.current)return;m.current+i>o.current&&(i=o.current-m.current)}const a=await d.getFullEpisodes(r,m.current,i);m.current+=i,o.current=a.totalCount||0,s()&&u((e=>(n||null===e?[]:e).concat(a.items)))}),[d,r,e,s]);(0,a.useEffect)((()=>{S(!0)}),[S]);const g=`spotify:app:search:${encodeURIComponent(r)}:${Xe}`;return 0===o.current?i?a.createElement(Se,{forChip:Ye.episodes()}):null:a.createElement(ye.ZU.Provider,{value:v},c&&n&&a.createElement(oe.r,{title:Ye.episodes(),seeAllUri:g,onClickTitle:()=>{l&&N.logInteraction(l.episodesListFactory().episodesListHeaderFactory().titleFactory().hitUiNavigate({destination:g}))},onClickSeeAll:()=>{l&&N.logInteraction(l.episodesListFactory().episodesListHeaderFactory().seeAllLinkFactory().hitUiNavigate({destination:g}))},hasMoreElements:!t&&c.length<(o.current||0)}),a.createElement("div",{ref:k,className:Fe},c&&a.createElement(ge.C,{triggerOnInitialLoad:!1,onReachBottom:()=>{t&&S()}},c.map(((e,n)=>a.createElement(Ie,{item:e,index:n,key:n}))))))};var De=i(69518),Ae=i.n(De),Ve=i(99996),Re=i(28248);var xe=i(85019);const we=e=>{const{title:n,category:i,query:t,results:l,onAddToHistory:s,position:r,showSeeAll:d}=e;if(!l)return null;const{items:o,totalCount:m}=l;return o&&0!==o.length?a.createElement(N.q,{index:r,id:i,total:m||0,title:n,testId:`${i}-search-entity`,seeAllUri:`spotify:app:search:${encodeURIComponent(t)}:${i}`,showSeeAll:d},o.map(((e,n)=>a.createElement(q.ZP,{value:i,index:n,key:e.uri},a.createElement(A,{onClick:()=>s(e),entity:e,index:n}))))):null},qe="pE9ccpPiPFWfTWfDdKT_",Pe=({pageSize:e,results:n})=>{const{query:i,serpId:t,onAddToHistory:l}=re(),s=Ae().searchURI(i).toURI(),{spec:r,UBIFragment:d}=(0,p.fU)(xe.createDesktopSearchPodcastAndShowsEventFactory,{data:{uri:s,reason:t}});return 0===n?.podcasts.totalCount&&0===n?.episodes.totalCount?a.createElement(Se,{forChip:Ye.podcastAndEpisodes()}):a.createElement(d,{spec:r},a.createElement("div",{className:qe},0!==n?.podcasts.totalCount&&a.createElement("div",null,a.createElement(we,{position:0,category:"podcasts",title:Ye.podcastAndEpisodes(),query:i,results:n?.podcasts,onAddToHistory:l})),0!==n?.episodes.totalCount&&a.createElement("div",null,a.createElement(Ce,{displayEmptyPageOnEmptyResults:!1,pageSize:e,spec:r}))))};var Oe=i(73753),_e=i(78358),Ue=i(48817);const He="bCoyoXohuLs0f6urF2PD",Me={artists:e=>d.ag.get("search.showing-category-query-artist",e),albums:e=>d.ag.get("search.showing-category-query-albums",e),playlists:e=>d.ag.get("search.showing-category-query-playlists",e),podcasts:e=>d.ag.get("search.showing-category-query-podcasts",e),audiobooks:e=>`All audiobooks for ${e}`,episodes:e=>d.ag.get("search.showing-category-query-episodes",e),users:e=>d.ag.get("search.showing-category-query-profiles",e),genres:e=>d.ag.get("search.showing-category-query-genres",e),tracks:()=>""},Le={shows:"podcasts",profiles:"users"},Be=({showTitle:e=!0,pageSize:n=50})=>{const i=(0,fe.t)(),{category:t,query:l,api:s,serpId:r,onAddToHistory:d}=re(),o=(0,a.useRef)(null),m=(0,a.useRef)(0),[c,u]=(0,a.useState)(null),k=t,v=Le[k]||t,N=(0,a.useCallback)((async(e=!1)=>{e&&(m.current=0,o.current=null);let a=n;if(null!==o.current){if(m.current>=o.current)return;m.current+a>o.current&&(a=o.current-m.current)}const t=await s.getSearchCategoryResults(l,v,m.current,a);m.current+=a,o.current=t.totalCount||0,i()&&u((n=>(e||null===n?[]:n).concat(t.items)))}),[s,v,l,n,i]);(0,a.useEffect)((()=>{N(!0)}),[N]);const S=(0,a.useCallback)(((e,n)=>a.createElement(q.ZP,{value:"card",key:`${e.uri}-${n}`,index:n},a.createElement(A,{entity:e,onClick:()=>d(e),testId:`search-category-card-${n}`,index:n}))),[d]),g=Ae().searchURI(l).toURI(),{spec:y,UBIFragment:f}=(0,p.fU)(_e.createDesktopSearchCategoryEventFactory,{data:{uri:g,reason:r}}),h=(0,a.useMemo)((()=>y.cardsFactory()),[y]);return 0===o.current?a.createElement(Se,{forChip:Ye[k]()}):a.createElement(f,{spec:h},a.createElement("div",{className:He},e&&k in Me&&a.createElement(ce.D,{as:"h1",variant:"canon",semanticColor:"textBase",paddingBottom:Oe.o78},Me[k](l)),c&&a.createElement(ge.C,{onReachBottom:N,triggerOnInitialLoad:!1},a.createElement(Ue.T,{render:()=>c.map(((e,n)=>S(e,n)))}))))};var We=i(13406),Ge=i(47991),Ze=i(49961);const $e=({pageSize:e=100})=>{if(e>100)throw new Error("PathFinder does not support page sizes > 100");const n=(0,fe.t)(),{query:i,api:t,serpId:l}=re(),s=(0,a.useRef)(null),r=(0,a.useRef)(0),[o,m]=(0,a.useState)(null),c=(0,a.useCallback)((async(a=!1)=>{a&&(r.current=0,s.current=null);let l=e;if(null!==s.current){if(r.current>=s.current)return;r.current+l>s.current&&(l=s.current-r.current)}const d=await t.getSearchCategoryResults(i,"tracks",r.current,l);r.current+=l,s.current=d.totalCount||0,n()&&m((e=>(a||null===e?[]:e).concat(d.items)))}),[t,i,e,n]);(0,a.useEffect)((()=>{c(!0)}),[c]);const u=(0,a.useCallback)(((e,n)=>{const i=(0,Ze.X)(e.album?.images,{desiredSize:40}),t=!(!1===e.isPlayable);return a.createElement(Re.e9,{key:n+e.uri,index:n,uri:(0,Ge.$)(e),duration:e.duration,name:e.name,album:e.album,artists:e.artists,isPlayable:t,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,imgUrl:i?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch})}),[]),k=(0,a.useMemo)((()=>[Re.QD.INDEX,Re.QD.TITLE,Re.QD.ALBUM,Re.QD.DURATION]),[]),v=(0,a.useCallback)((e=>e.uri),[]),N=Ae().searchURI(i).toURI(),{spec:S,UBIFragment:g}=(0,p.fU)(Ve.createDesktopSearchTracksEventFactory,{data:{uri:N,reason:l}}),y=(0,a.useMemo)((()=>S.tracksFactory()),[S]),f=d.ag.get("search.showing-category-query-songs",i);return 0===s.current?a.createElement(Se,{forChip:Ye.tracks()}):a.createElement(g,{spec:y},a.createElement(q.ZP,{value:"search-results-tracklist"},a.createElement("div",null,o&&a.createElement(ge.C,{triggerOnInitialLoad:!1,onReachBottom:c},a.createElement(Re.Pv,{ariaLabel:f,hasHeaderRow:!0,columns:k,renderRow:u,resolveUri:v,nrTracks:o.length,headerTop:We.K1+tn,tracks:o})))))};i(55145);const ze="tracks",je="podcastAndEpisodes",Xe="episodesFull",Ke=({results:e})=>{const{category:n}=re();return n===ze?a.createElement($e,null):n===je?a.createElement(Pe,{results:e,pageSize:30}):n===Xe?a.createElement(Ce,{pageSize:30,enableInfiniteScroll:!0,showTitle:!1}):a.createElement(Be,{showTitle:!1,pageSize:30})},Ye={artists:()=>d.ag.get("search.title.artists"),albums:()=>d.ag.get("search.title.albums"),playlists:()=>d.ag.get("search.title.playlists"),podcasts:()=>d.ag.get("search.title.shows"),episodes:()=>d.ag.get("search.title.episodes"),audiobooks:()=>d.ag.get("search.title.audiobooks"),users:()=>d.ag.get("search.title.profiles"),genres:()=>d.ag.get("search.title.genres-and-moods"),tracks:()=>d.ag.get("search.title.tracks"),[je]:()=>d.ag.get("search.title.podcast-and-shows")},Qe=["artists","albums","playlists","podcasts","episodes","audiobooks","users","genres"],Je="search-searchCategory-SearchCategory",en="search-searchCategory-container",nn="search-searchCategory-wrapper",an="search-searchCategory-categoryGridItem",tn=48,ln={[de.xN.Podcasts]:["podcasts",je],[de.xN.Episodes]:["episodes",je],[de.xN.TopResults]:[null,null],[de.xN.Artists]:["artists","artists"],[de.xN.Albums]:["albums","albums"],[de.xN.Playlists]:["playlists","playlists"],[de.xN.Tracks]:["tracks","tracks"],[de.xN.Audiobooks]:["audiobooks","audiobooks"],[de.xN.Genres]:["genres","genres"],[de.xN.Users]:["users","users"]},sn=({to:e,title:n,selected:i,onClick:t})=>a.createElement(te.Z,{replace:!0,to:e,tabIndex:-1,onClick:t,className:an},a.createElement(M.A,{selected:i,selectedColorSet:"invertedLight",tabIndex:-1},n)),rn=({results:e})=>{const{query:n,category:i}=re(),{spec:t,logger:l}=(0,p.fU)(L.createDesktopSearchChipsEventFactory,{});if(!n)return null;if("podcasts"===i||"episodes"===i||i===Xe)return null;const s=e?.chipOrder?.items||[],r=s.reduce(((n,a)=>{if(!a.typeName)return n;const[t,l]=ln[a.typeName];return l&&t&&(i===l||e?.[t]?.items?.length)?(n.add(l),n):n}),new Set([])),o=encodeURIComponent(n);return a.createElement("div",{className:Je},a.createElement("div",{className:H()("contentSpacing",en)},a.createElement("div",{className:nn},a.createElement(ae,null,s.length>0&&a.createElement(sn,{key:"all",to:`spotify:app:search:${o}`,title:d.ag.get("search.title.all"),selected:void 0===i,onClick:()=>{l.logInteraction(t.chipFactory({identifier:"all",position:0}).hitUiNavigate({destination:`spotify:app:search:${o}`}))}}),Array.from(r).map(((e,n)=>{const s=Ye[e]?.();return a.createElement(sn,{key:e,to:`spotify:app:search:${o}:${e}`,title:s,selected:i===e,onClick:()=>{l.logInteraction(t.chipFactory({identifier:e,position:n+1}).hitUiNavigate({destination:`spotify:app:search:${o}:${e}`}))}})}))))))};var dn=i(43675),on=i(19480);const mn="Ul_eSpTV7OKDhvXcgfzw",cn="HFNTjI36ujrPacyLOwTT",un=()=>{const{searchHistory:e,clearSearchHistory:n}=(0,P.u)(),{onSearchRequest:i}=re(),{spec:t,logger:l,UBIFragment:s}=(0,p.fU)(dn.createDesktopRecentSearchesEventFactory,{data:{uri:"spotify:app:recent-searches"}}),r=(0,a.useMemo)((()=>t.recentSearchesCardsFactory()),[t]),o=(0,a.useCallback)((()=>{const e=t.clearButtonFactory().hitClearRecentSearches();l.logInteraction(e),n(),i("")}),[n,i,l,t]);return 0===e.length?null:a.createElement("div",{className:mn},a.createElement(s,{spec:r},a.createElement(on.P,{title:d.ag.get("search.title.recent-searches"),showAll:!0},e.map(((e,i)=>a.createElement(q.ZP,{key:e.uri,index:i,value:"search-history"},a.createElement(w,{clearSearchHistory:n,entity:e,index:i})))))),a.createElement("button",{onClick:o,className:cn},a.createElement(ce.D,{variant:"minuetBold"},d.ag.get("search.clear-recent-searches"))))};var kn=i(87961),pn=i(3775),vn=i(22578),Nn=i(28638),Sn=i(13983);const gn=(e,n)=>{const i=("object"==typeof e?.requestIds?e?.requestIds:void 0)?.[n],a="object"==typeof i?i:void 0;return"string"==typeof a?.["search-api"]?a?.["search-api"]:void 0},yn=e=>gn(e,"/searchV2"),fn=e=>gn(e,"/searchV2/topResults");i(98984);var hn=i(52200),bn=i(69415),Fn=i(2678);const En={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchAlbumDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}}]}}]}}]}}]},Tn={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchArtistDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]}}]}}]}}]},In={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchEpisodeDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"podcast"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}}]}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]}}]}}]},Cn={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchGenreDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenreResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Genre"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]}}]}}]},Dn={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchPlaylistDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"username"}}]}}]}}]}}]}}]},An={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchPodcastDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}}]}}]}}]}}]},Vn={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchAudiobookDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}}]}}]}}]}}]},Rn={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchTrackDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}}]}}]}}]}}]},xn={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchUserDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",alias:{kind:"Name",value:"displayName"},name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"smallImageUrl"}},{kind:"Field",name:{kind:"Name",value:"largeImageUrl"}}]}}]}}]}}]}}]},wn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchFullEpisodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchFullEpisodeDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"searchFullEpisodeDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastEpisode"}},{kind:"Field",name:{kind:"Name",value:"podcast"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastMetadataV2"}}]}}]}}]}}]}},...Fn.n0.definitions,...hn.rD.definitions,...hn.rA.definitions,...bn.Zl.definitions,...hn.TS.definitions,...Fn.Rr.definitions]};var qn=i(67691);function Pn(e){return null!==e}function On(e,n){return e.map((e=>function(e,n){if("Episode"!==e.data?.__typename)return null;return{requestId:n,episode:(0,qn.YS)(e.data),show:(0,qn.XU)(e.data.podcast)}}(e,n))).filter(Pn)}async function _n(e,n){const i=await e(wn,n),a=i?.data?.searchV2?.episodes;return a?function(e,n){return{items:On(e?.items||[],n),totalCount:e?.totalCount||0}}(a,yn(i?.extensions)):null}const Un={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchDesktop"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"audiobooks"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tracksV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemsV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}}}]}]}]}}]}},{kind:"Field",name:{kind:"Name",value:"featured"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"chipOrder"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"typeName"}}]}}]}}]}}]}},...En.definitions,...hn.rD.definitions,...hn.rA.definitions,...Tn.definitions,...In.definitions,...Cn.definitions,...Dn.definitions,...An.definitions,...Vn.definitions,...Rn.definitions,...xn.definitions]};function Hn(e,n){return{items:Mn(e?.items||[],n),totalCount:e?.totalCount||0}}function Mn(e,n){return e.map((e=>Ln(e,n))).filter(Pn)}function Ln(e,n){if("Album"!==e.data?.__typename)return null;const i=e.data;return{type:D.p.ALBUM,name:i.name,uri:i.uri,images:i.coverArt?.sources||[],artists:i.artists.items.map((e=>({type:D.p.ARTIST,name:e.profile.name,uri:e.uri}))),year:i.date?.year,requestId:n}}const Bn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAlbums"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...En.definitions,...hn.rD.definitions,...hn.rA.definitions]},Wn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAlbumsMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function Gn(e,n){return{items:Zn(e?.items||[],n),totalCount:e?.totalCount||0}}function Zn(e,n){return e.map((e=>$n(e,n))).filter(Pn)}function $n(e,n){if("Artist"!==e.data?.__typename)return null;const i=e.data;return{type:D.p.ARTIST,name:i.profile.name,images:i.visuals?.avatarImage?.sources||[],uri:i.uri,requestId:n}}const zn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchArtists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Tn.definitions,...hn.rD.definitions,...hn.rA.definitions]},jn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchArtistsMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function Xn(e,n){return{items:Kn(e?.items||[],n),totalCount:e?.totalCount}}function Kn(e,n){return e.map((e=>Yn(e,n))).filter(Pn)}function Yn(e,n){if("Audiobook"!==e.data?.__typename)return null;const i=e.data;return{type:D.p.AUDIOBOOK,uri:i.uri,name:i.name,images:i.coverArt?.sources||[],authorName:i.publisher?.name||"",requestId:n}}const Qn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAudiobooks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"audiobooks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Vn.definitions,...hn.rD.definitions,...hn.rA.definitions]},Jn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAudiobooksMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"audiobooks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};var ei=i(72169);function ni(e,n){return{items:ii(e?.items||[],n),totalCount:e?.totalCount||0}}function ii(e,n){return e.map((e=>ai(e,n))).filter(Pn)}function ai(e,n){if("Episode"!==e.data?.__typename)return null;const i=e.data;return{type:D.p.EPISODE,name:i.name,images:i.coverArt?.sources||[],uri:i.uri,duration:{milliseconds:i.duration.totalMilliseconds},isExplicit:i.contentRating?.label===de.KS.Explicit,release:(0,ei.dR)(i.releaseDate),description:i.description||"",is19PlusOnly:i.contentRating?.label===de.KS.NineteenPlus,show:{type:D.p.SHOW,uri:i.podcast.uri,name:i.podcast.name,publisher:i.podcast.publisher?.name||"",mediaType:(0,ei.x7)(i.podcast.mediaType),images:i.podcast.coverArt?.sources||[]},requestId:n}}const ti={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchEpisodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...In.definitions,...hn.rD.definitions,...hn.rA.definitions]},li={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchEpisodesMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function si(e,n){return{items:ri(e?.items||[],n),totalCount:e?.totalCount||0}}function ri(e,n){return e.map((e=>di(e,n))).filter(Pn)}function di(e,n){if("Genre"!==e.data?.__typename)return null;const i=e.data,a=Ae().from(i.uri);return{type:D.p.GENRE,name:i.name,uri:a?i.uri:`spotify:app:genre:${i.uri}`,images:i.image?.sources||[],requestId:n}}const oi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchGenres"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Cn.definitions,...hn.rD.definitions,...hn.rA.definitions]},mi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchGenresMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function ci(e,n){return{items:ui(e?.items||[],n),totalCount:e?.totalCount||0}}function ui(e,n){return e.map((e=>ki(e,n))).filter(Pn)}function ki(e,n){if("Playlist"!==e.data?.__typename)return null;const i=e.data;return{type:D.p.PLAYLIST,uri:i.uri,name:i.name,images:i.images?.items.flatMap((e=>e.sources))||[],owner:{type:D.p.USER,uri:i.owner?.uri||"",displayName:i.owner?.name||"",username:i.owner?.username||"",images:i.images?.items.flatMap((e=>e.sources))||[]},requestId:n}}const pi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPlaylists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Dn.definitions,...hn.rD.definitions,...hn.rA.definitions]},vi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPlaylistsMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function Ni(e,n){return{items:Si(e?.items||[],n),totalCount:e?.totalCount||0}}function Si(e,n){return e.map((e=>gi(e,n))).filter(Pn)}function gi(e,n){if("Podcast"!==e.data?.__typename)return null;const i=e.data;return{type:D.p.SHOW,uri:i.uri,name:i.name,images:i.coverArt?.sources||[],mediaType:(0,ei.x7)(i.mediaType),publisher:i.publisher?.name||"",requestId:n}}const yi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPodcasts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...An.definitions,...hn.rD.definitions,...hn.rA.definitions]},fi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPodcastsMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};const hi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchTopResults"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTopResults"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"searchTopResults"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TopResultsV2"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemsV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"featured"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}}]}},...En.definitions,...hn.rD.definitions,...hn.rA.definitions,...Tn.definitions,...In.definitions,...Cn.definitions,...Dn.definitions,...An.definitions,...Vn.definitions,...Rn.definitions,...xn.definitions]};function bi(e,n){return{items:Fi(e,n),totalCount:e?.totalCount||0}}function Fi(e,n){return e?.items.map((e=>Ei(e,n))).filter(Pn)||[]}function Ei({item:e,matchedFields:n},i){if("Track"!==e.data?.__typename)return null;const a=e.data,t=a.albumOfTrack;return{type:D.p.TRACK,uri:a.uri,name:a.name,isPlayable:a.playability.playable,album:{type:D.p.ALBUM,uri:t?.uri||"",name:t?.name||"",images:t?.coverArt?.sources||[]},artists:a.artists.items.map((e=>({type:D.p.ARTIST,name:e.profile.name,uri:e.uri}))),duration:{milliseconds:a.duration.totalMilliseconds},isExplicit:"EXPLICIT"===a.contentRating?.label,is19PlusOnly:"NINETEEN_PLUS"===a.contentRating?.label,requestId:i,isLyricsMatch:!!n?.includes(de.$C.Lyrics)}}const Ti={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchTracks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"tracksV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Rn.definitions,...hn.rD.definitions,...hn.rA.definitions]},Ii={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchTracksMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};var Ci=i(74563);function Di(e,n){return{items:Ai(e?.items||[],n),totalCount:e?.totalCount||0}}function Ai(e,n){return e.map((e=>Vi(e,n))).filter(Pn)}function Vi(e,n){if("User"!==e.data?.__typename)return null;const i=e.data,a=(0,Ci.p)({imageUriOrUrl:i.image?.largeImageUrl||i.image?.smallImageUrl||""});return{type:D.p.USER,uri:i.uri,name:i.displayName||i.username,images:[{url:a,width:NaN,height:NaN}],requestId:n}}const Ri={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...xn.definitions]},xi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchUsersMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function wi(e,n){return{items:(e?.itemsV2??[]).map((e=>{const{item:i}=e;switch(i?.data?.__typename){case"Album":return Ln(i,n);case"Artist":return $n(i,n);case"Audiobook":return Yn(i,n);case"Episode":return ai(i,n);case"Genre":return di(i,n);case"Playlist":return ki(i,n);case"Podcast":return gi(i,n);case"Track":return Ei(e,n);case"User":return Vi(i,n);default:return console.warn("Unable to determine the correct type for item",i),null}})).filter(Pn)}}function qi(e,n){const i=e?.featured||[];return{artistName:i.length?Pi(e):"",items:i?.map((e=>ki(e,n))).filter(Pn)||[],totalCount:i.length||0}}function Pi(e){const n=(0,ei.wY)(e,"itemsV2",[]);try{return(0,ei.U2)(n.map((({item:e})=>e)).filter(Boolean),"0.data")?.profile?.name||""}catch{return""}}const Oi={items:[],artistName:"",totalCount:0};const _i={items:[],totalCount:0},Ui={albums:_i,artists:_i,episodes:_i,genres:_i,playlists:_i,podcasts:_i,audiobooks:_i,topResults:{items:[]},tracks:_i,users:_i,topRecommendations:{artistName:"",items:[],totalCount:0},chipOrder:{items:[]}},Hi={albums:async function(e,n){const i=await e(Bn,n),a=i?.data?.searchV2?.albums;return a?Hn(a,yn(i?.extensions)):null},artists:async function(e,n){const i=await e(zn,n),a=i?.data?.searchV2?.artists;return a?Gn(a,yn(i?.extensions)):null},episodes:async function(e,n){const i=await e(ti,n),a=i?.data?.searchV2?.episodes;return a?ni(a,yn(i?.extensions)):null},genres:async function(e,n){const i=await e(oi,n),a=i?.data?.searchV2?.genres;return a?si(a,yn(i?.extensions)):null},playlists:async function(e,n){const i=await e(pi,n),a=i?.data?.searchV2?.playlists;return a?ci(a,yn(i?.extensions)):null},podcasts:async function(e,n){const i=await e(yi,n),a=i?.data?.searchV2?.podcasts;return a?Ni(a,yn(i?.extensions)):null},audiobooks:async function(e,n){const i=await e(Qn,n),a=i?.data?.searchV2?.audiobooks;return a?Xn(a,yn(i?.extensions)):null},tracks:async function(e,n){const i=await e(Ti,n),a=i?.data?.searchV2?.tracksV2;return a?bi(a,yn(i?.extensions)):null},users:async function(e,n){const i=await e(Ri,n),a=i?.data?.searchV2?.users;return a?Di(a,yn(i?.extensions)):null}},Mi={albums:async function(e,n){return{items:[],totalCount:(await e(Wn,n))?.data?.searchV2?.albums?.totalCount||0}},artists:async function(e,n){return{items:[],totalCount:(await e(jn,n))?.data?.searchV2?.artists?.totalCount||0}},episodes:async function(e,n){return{items:[],totalCount:(await e(li,n))?.data?.searchV2?.episodes?.totalCount||0}},genres:async function(e,n){return{items:[],totalCount:(await e(mi,n))?.data?.searchV2?.genres?.totalCount||0}},playlists:async function(e,n){return{items:[],totalCount:(await e(vi,n))?.data?.searchV2?.playlists?.totalCount||0}},podcasts:async function(e,n){return{items:[],totalCount:(await e(fi,n))?.data?.searchV2?.podcasts?.totalCount||0}},audiobooks:async function(e,n){return{items:[],totalCount:(await e(Jn,n))?.data?.searchV2?.audiobooks?.totalCount||0}},tracks:async function(e,n){return{items:[],totalCount:(await e(Ii,n))?.data?.searchV2?.tracks?.totalCount||0}},users:async function(e,n){return{items:[],totalCount:(await e(xi,n))?.data?.searchV2?.users?.totalCount||0}}};class Li{constructor(e){this._request=e}async getSearchResults(e,n=!1,i=0,a=10,t=5){const l={searchTerm:e,offset:i,limit:a,numberOfTopResults:t,includeAudiobooks:n},s=await this._request(Un,l),r=s?.data.searchV2;if(!r)return Ui;const d=yn(s?.extensions),o=fn(s?.extensions);return{albums:Hn(r.albums,d),artists:Gn(r.artists,d),episodes:ni(r.episodes,d),genres:si(r.genres,d),playlists:ci(r.playlists,d),podcasts:Ni(r.podcasts,d),audiobooks:Xn(r.audiobooks??null,d),tracks:bi(r.tracksV2,d),users:Di(r.users,d),topResults:wi(r.topResults,o),topRecommendations:qi(r.topResults,o),chipOrder:r.chipOrder}}async getSearchCategoryResults(e,n,i=0,a=25,t=10){const l={searchTerm:e,offset:i,limit:a,numberOfTopResults:t};return await Hi[n](this._request,l)||_i}async getSearchCategoryResultsMeta(e,n){const i={searchTerm:e,limit:1,offset:0,numberOfTopResults:10};return await Mi[n](this._request,i)||_i}async getFullEpisodes(e,n=0,i=25){const a={searchTerm:e,offset:n,limit:i};return await _n(this._request,a)||_i}getTopRecommendations(e){return async function(e,n){const i=await e(hi,{searchTerm:n,numberOfTopResults:10}),a=i?.data?.searchV2?.topResults;return a?qi(a,fn(i?.extensions)):Oi}(this._request,e)}}var Bi=i(15416),Wi=i(62572),Gi=i(73012),Zi=i(50060),$i=i(18419);const zi=a.memo((function({tracks:e,query:n}){const i=(0,a.useCallback)(((e,n)=>{const i=(0,Ze.X)(e.album?.images,{desiredSize:40}),t=!(!1===e.isPlayable);return a.createElement(Re.pt,{key:e.uri,uri:(0,Ge.$)(e),duration:e.duration,name:e.name,album:e.album,artists:e.artists,isPlayable:t,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,index:n,imgUrl:i?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch})}),[]),t=(0,a.useMemo)((()=>[Re.QD.TITLE,Re.QD.DURATION]),[]),l=(0,a.useCallback)((e=>e.uri),[]);return e&&a.createElement(q.ZP,{value:"search-results-tracklist"},a.createElement(Re.Pv,{key:n,ariaLabel:d.ag.get("search.a11y.songs-search-results"),renderRow:i,rowPlaceholder:Re.hU,nrTracks:Math.min(e.length,4),tracks:e,resolveUri:l,columns:t}))}),((e,n)=>e.tracks===n.tracks)),ji="search-searchResult-tracklistHeader",Xi="search-searchResult-tracklistHeaderWrapper",Ki="search-searchResult-tracklistHeaderText",Yi="VL6wjp4Br_D3FEWrUGGR",Qi="search-searchResult-tracklistContainer",Ji="search-searchResult-tracklist",ea=({tracks:e,query:n,className:i,showSeeAll:t=!0,spec:l})=>{const s=(0,p.$P)(),r=(0,a.useCallback)((()=>a.createElement("div",{className:Ji},a.createElement(a.Suspense,{fallback:null},a.createElement(zi,{tracks:e.items,query:n})))),[n,e]),o=`spotify:app:search:${encodeURIComponent(n)}:tracks`,m=(0,a.useCallback)((()=>{const e=l.headerFactory().titleFactory().hitUiNavigate({destination:o});s.logInteraction(e)}),[s,l,o]),c=(0,a.useCallback)((()=>{const e=l.headerFactory().seeAllFactory().hitUiNavigate({destination:o});s.logInteraction(e)}),[s,l,o]);return e.items.length?a.createElement("section",{className:H()(Qi,i),"aria-label":d.ag.get("search.title.tracks"),"data-testid":"search-tracks-result"},a.createElement("div",{className:ji},e.items.length>3?a.createElement("div",{className:Xi},a.createElement("div",{className:Ki},a.createElement(ce.D,{as:"h2",variant:"canon"},t?a.createElement(te.r,{to:o,className:Yi,onClick:m},d.ag.get("search.title.tracks")):a.createElement("span",{className:Yi},d.ag.get("search.title.tracks")))),t&&a.createElement($i.SeeAll,{link:o,onClick:c})):a.createElement(ce.D,{as:"h2",variant:"canon",className:Yi},d.ag.get("search.title.tracks"))),a.createElement(p.Nh,{spec:l},a.createElement(Ue.T,{render:r}))):null},na=({topRecommendations:e,query:n,className:i,onAddToHistory:t,position:l,showSeeAll:s})=>{const r=e.totalCount||0;return a.createElement(N.q,{index:l,id:"top-recommendations",className:i,total:r,title:d.ag.get("artist-page.featuring",e.artistName),seeAllUri:`spotify:app:search:${encodeURIComponent(n)}:topRecommendations`,showSeeAll:s},e.items.map(((e,n)=>a.createElement(q.ZP,{index:n,key:e.uri,value:"top-recommendations"},a.createElement(A,{onClick:()=>t(e),entity:e,index:n})))))},ia="search-searchResult-topResult",aa="search-searchResult-topResultCard",ta="search-searchResult-searchResultGrid",la="EFHPppToKFxfm6SRhL6K",sa="search-searchResult-tracklistShort",ra="search-searchResult-tracklistLong",da="FTRmZyHUkeVY_X3RawUc",oa="Tx_CKMgRE8CpW5vLdpAe",ma=({topResults:e,onAddToHistory:n})=>{const[i]=e.items;return i&&a.createElement(on.P,{total:1,className:ia,title:d.ag.get("search.title.top-result")},[a.createElement("div",{"aria-live":"polite","data-testid":"top-result-card",key:"top-result-item",className:aa},a.createElement(q.ZP,{value:"top-result-card"},a.createElement(A,{isHero:!0,index:0,onClick:()=>n(i),entity:i})))])},ca=({results:e,showSeeAll:n})=>{const{query:i,onAddToHistory:t,serpId:l}=re(),s=Ae().searchURI(i).toURI(),{spec:r,UBIFragment:d}=(0,p.fU)(Zi.createDesktopSearchEventFactory,{data:{uri:s,reason:l}}),o=e.topResults.items.length>0,m=e.tracks.items.length>0,c=e.topRecommendations.items.length>0,u=(0,a.useMemo)((()=>({topResult:r.topResultFactory(),trackList:r.trackListFactory(),shelves:r.shelvesFactory()})),[r]);return a.createElement(Ue.T,{className:ta,rowGap:Gi.mGT,testId:"search-results",render:l=>{let s,r;return o?s=l>3?sa:ra:c&&(l>5&&m?(s=la,r=da):(s=ra,r=oa)),a.createElement(q.ZP,{value:"search-results"},o&&a.createElement(d,{spec:u.topResult},a.createElement(ma,{topResults:e.topResults,onAddToHistory:t})),m&&a.createElement(ea,{spec:u.trackList,className:s,query:i,tracks:e.tracks,onAddToHistory:t,showSeeAll:n}),c&&a.createElement(d,{spec:u.shelves},a.createElement(na,{position:0,query:i,className:r,topRecommendations:e.topRecommendations,onAddToHistory:t,showSeeAll:n})),Qe.map(((l,s)=>a.createElement(d,{spec:u.shelves,key:`search-shelf-${l}`},a.createElement(we,{position:s+1,category:l,title:Ye[l](),query:i,results:e[l],onAddToHistory:t,showSeeAll:n})))))}})},ua="search-recentSearches-searchPageGrid",ka={albums:r.Wg.SEARCH_ALBUMS,artists:r.Wg.SEARCH_ARTISTS,episodes:r.Wg.SEARCH_EPISODES,genres:r.Wg.SEARCH_GENRES,playlists:r.Wg.SEARCH_PLAYLISTS,podcasts:r.Wg.SEARCH_SHOWS,audiobooks:r.Wg.SEARCH_AUDIOBOOKS,tracks:r.Wg.SEARCH_SONGS,users:r.Wg.SEARCH_PROFILES,podcastAndEpisodes:r.Wg.SEARCH_PODCASTS_AND_EPISODES,episodesFull:r.Wg.SEARCH_EPISODES},pa=({query:e,category:n})=>["spotify:app:search",e,n].filter((e=>void 0!==e)).join(":"),va=({results:e,hasResults:n})=>{const i=(0,s.W6)(v.fS);return a.createElement(q.ZP,{value:"search-page"},!i&&a.createElement(Nn.w,null,a.createElement(Wi.M,{isSearchChipsEnabled:!0})),a.createElement(rn,{results:e,hasResults:n}),a.createElement("div",{className:"contentSpacing",id:"searchPage"},a.createElement(Ue.T,{className:ua,render:()=>a.createElement(a.Fragment,null,a.createElement(o.l,{exact:!0,path:"/search",pageId:r.Wg.FIND,entityUri:pa},a.createElement(_,null)),a.createElement(o.l,{exact:!0,path:"/recent-searches",pageId:r.Wg.SEARCH_RECENT},a.createElement(un,null)),a.createElement(o.l,{exact:!0,path:"/search/:query",pageId:r.Wg.SEARCH,entityUri:pa},e&&n&&a.createElement(ca,{results:e,showSeeAll:!1}),e&&!n&&a.createElement(Se,null)),a.createElement(o.l,{path:"/search/:query/:category",entityUri:pa,pageId:({category:e})=>ka[e]},e&&n&&a.createElement(Ke,{results:e}),e&&!n&&a.createElement(Se,null)))})))},Na=a.memo((function(){const e=(0,s.W6)(v.uB),[{category:n,query:i},t]=(0,Bi.l)();(0,Sn.z)("search");const[r,o]=(0,a.useState)(null),m=null!==r&&void 0!==Object.keys(r).find((e=>"chipOrder"!==e&&r[e].items.length>0)),c=(0,a.useMemo)((()=>new Li((0,pn.PQ)(kn.b.getInstance()))),[]),{searchHistory:u,setSearchHistory:k}=(0,P.u)(),p=(0,a.useCallback)((async e=>{e===i&&m||t(e,n,!1)}),[i,n,m,t]);(0,a.useEffect)((()=>{(async()=>{i&&o(await c.getSearchResults(i,e))})()}),[i,n,c,e]),(0,a.useEffect)((()=>{i||o(null)}),[i]);const N=(0,a.useMemo)((()=>l().create().toString()),[n,i]),S={api:c,category:n,query:i,onAddToHistory:e=>{k([e,...u])},onSearchRequest:p,serpId:N};return a.createElement(se,{value:S},a.createElement(vn.$,null,d.ag.get("search.page-title")),a.createElement(va,{results:r,hasResults:m}))})),Sa=Na},47917:(e,n,i)=>{i.d(n,{V:()=>V,e:()=>D});var a=i(67294),t=i(86706),l=i(69518),s=i.n(l),r=i(33702),d=i(84629),o=i(43914),m=i(25988),c=i(91753),u=i(88435),k=i(63567),p=i(56294),v=i(57784),N=i(56802),S=i(38894),g=i(80219),y=i(18261),f=i(87257),h=i(57978),b=i(42922),F=i(18864),E=i(52759),T=i(54444),I=i(7073),C=i(84788);function D(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const A=e=>`activation-trigger-mme-${e}`,V=a.memo((function({index:e=-1,showMetadata:n,episode:i,usePlayContextItem:l,status:V,variant:R}){const x=(0,t.oR)().getState().platform?.isBrowser,w=i.playedState.playPositionMilliseconds,q=i.uri,P=(0,a.useRef)(null),[O,_]=(0,a.useState)(i.playedState.state===I.sY.Completed),U=(0,v.O1)(),H=(0,S.g)(),M=(0,F.jh)(),L=(0,N.o)(),B=(0,t.I0)(),{UBIFragment:W,spec:G,logger:Z}=(0,T.fU)(r.createDesktopEpisodeBlockEventFactory,{data:{uri:q,reason:i.requestId||"",position:e}}),$=(0,T.Wi)(G),{isActive:z,isPlaying:j,togglePlay:X}=l({uri:q}),[K]=(0,E.z)(1e4,(e=>e?.item?.uri===q));(0,a.useEffect)((()=>{j&&(P.current=K)}),[j,K]),(0,a.useEffect)((()=>{!j&&P.current&&i.duration.milliseconds<=P.current&&_(!0)}),[j,i.duration.milliseconds]);const Y=(0,a.useCallback)((e=>{e||(P.current=0),_(e)}),[]),Q=D(n),J=(0,g.s)({...i,coverArt:{sources:i.coverArt}},Q),ee=(0,a.useCallback)((()=>{if(i.episodeType===I.Wf.Episode&&x)k.y.set((()=>({triggerId:A(i.uri),triggerAction:null})));else if(H)J();else{let e;e=j?G.playButtonFactory().hitPause({itemToBePaused:q}):z?G.playButtonFactory().hitResume({itemToBeResumed:q}):G.playButtonFactory().hitPlay({itemToBePlayed:q});const n=Z.logInteraction(e);L({targetUri:q,intent:j?"pause":"play",type:"click"}),X({loggingParams:n})}}),[z,J,L,X,q,j,H,i,x,Z,G]),ne=(0,a.useCallback)((()=>{Z.logInteraction(G.hitUiNavigate({destination:q})),L({type:"click",targetUri:q,intent:"navigate"})}),[q,L,Z,G]),ie=i.podcastSubscription?.isPaywalled??!1,ae=i.podcastSubscription?.isUserSubscribed??!1,te=ie&&!ae,le=ie&&H,{badges:se}=(0,C.r)({contentRating:i.contentRating?.label,isPaywalled:ie}),re=(0,a.useCallback)((()=>B((0,d.RM)(n.uri))),[n.uri,B]),de=(0,a.useCallback)((e=>{let t=e;return(te||le)&&(t=a.createElement(u.l,{enabled:!0,showUri:n.uri},t)),!i.playability.playable&&se.nineteen&&(t=a.createElement("div",{onClick:e=>{e.stopPropagation(),re()}},e)),t=a.createElement(o.D,{id:A(q),targetURI:s().from(q)},t),t}),[q,te,le,n.uri,se.nineteen,i.playability.playable,re]);return a.createElement(W,{spec:G},a.createElement(b.ZP,{value:"row",index:e},a.createElement(y._,{onShow:()=>{Z.logInteraction(G.secondaryHitUiReveal())},menu:a.createElement(m.k,{uri:q,showUri:n.uri,sharingInfo:i.sharingInfo,isPlayed:O,onMarkAsPlayed:Y})},a.createElement(c.X,{ref:$,requestId:i.requestId,index:e,uri:q,size:M,images:i.coverArt||[],name:i.name,showName:n.name,description:i.description,isPlayable:i.playability.playable||te,fullyPlayed:O,durationMs:i.duration.milliseconds,releaseDate:i.releaseDate?.isoString||"",resumePositionMs:P.current??w,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const a=`${i.name}  ${n.name}`;U(e,[q],a,n.uri)},handlePlaybackClick:ee,handleClick:ne,isCurrentlyPlaying:z,isPaywalled:ie,isUserSubscribed:ae,isPlaying:j,position:j?K:void 0,episodeSharingInfo:i.sharingInfo,onMarkAsPlayed:Y,contentInformation:i.contentInformation,badges:a.createElement(a.Fragment,null,se.explicit&&a.createElement(f.N,null),se.paid&&a.createElement(p.g,null),se.nineteen&&a.createElement(h.X,{size:16})),playButtonWrapper:de,onMoreButtonClick:()=>{Z.logInteraction(G.moreButtonFactory().hitUiReveal())},status:V,variant:R}))))}))},80219:(e,n,i)=>{i.d(n,{s:()=>u});var a=i(67294),t=i(56802);const l=e=>e<=64?"small":e>640?"xlarge":e>300?"large":"standard";function s(e,n){return e.filter((e=>e.label?e.label===n:e.width?l(e.width)===n:!!e.height&&l(e.height)===n))[0]}var r=i(67789);function d(e){const n=s(e,"standard"),i=s(e,"large"),a=s(e,"small"),t=s(e,"xlarge");return{image_url:n?.url,image_height:n?.height?.toString(),image_width:n?.width?.toString(),image_url_large:i?.url,image_height_large:i?.height?.toString(),image_width_large:i?.width?.toString(),image_url_small:a?.url,image_height_small:a?.height?.toString(),image_width_small:a?.width?.toString(),image_url_xlarge:t?.url,image_height_xlarge:t?.height?.toString(),image_width_xlarge:t?.width?.toString()}}var o=i(23716),m=i(69691),c=i(42781);function u(e,n){const i=(0,t.o)(),l=(0,o.g)(),{isPlaying:s,isActive:u}=(0,m.$o)(e?.uri||""),{isActive:k}=(0,m.cR)(n?.uri||"");return(0,a.useCallback)((a=>{if(!n||!e)return;const t=function(e,n){const i=(e.coverArt?.sources||[]).sort(((e,n)=>(n.width||0)-(e.width||0))),a=(0,r.Xb)(e,n),t=(0,r.Ie)(n)||a;return{uri:e.uri,title:e.name,subtitle:n.name,type:"episode",album_uri:n.uri,album_title:n.name,artist_uri:n.uri,artist_name:n.name,...d(i),media_type:"audio",externalResolvedUrl:e.audio?.items?.find((e=>e.externallyHosted))?.url,isTrailer:a,anonymousPlaybackAllowed:t}}(e,n);k&&!s&&u&&!a?l.resume():k&&s&&!a?(i({type:"click",intent:"pause",targetUri:e.uri}),l.pause()):(i({type:"click",intent:"play",targetUri:e.uri}),l.play({uri:n.uri,pages:[{items:[{type:c.p.EPISODE,uri:e.uri,uid:null,metadata:t,provider:null}]}]},{referrerIdentifier:l.getReferrer(),featureIdentifier:"episode"},a))}),[u,s,k,l,i,n,e])}},47991:(e,n,i)=>{i.d(n,{$:()=>a});const a=e=>e?.linked_from?.uri||e.uri}}]);
//# sourceMappingURL=xpui-routes-search.js.map