"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[7379],{40771:(e,t,l)=>{l.d(t,{Z:()=>o});var a=l(87462),r=l(67294),n=l(67892);const o=({href:e,children:t,...l})=>r.createElement(n.Z,(0,a.Z)({to:e},l),t)},30731:(e,t,l)=>{l.d(t,{u:()=>S});var a=l(67294),r=l(94184),n=l.n(r),o=l(32667),i=l(34011),c=l(6330),s=l(40771);const u="FvfvGU3jvHRskUU9v9_8",m="Q9AlbZn2EGzy3MTWXa8X",d="mxmxS0y8LiwSs5nueKPT",E="GXxVAveNFStY3pBI_NO4",g="eHcXC2s97InYP7rMNT0H",S=a.memo((function(e){const{children:t,message:l,title:r,linkTitle:S,linkTo:k,onClick:C,renderInline:A=!1}=e,{isXSOnly:D,isSMOnly:y}=(0,c.e)(),b=D||y;return a.createElement("section",{className:n()(u,{[m]:A})},t,a.createElement(o.D,{as:"h1",variant:b?"cello":"alto",className:E},r),a.createElement(o.D,{variant:b?"mesto":"ballad",className:g},l),S&&(k||C)&&a.createElement(i.D,{colorSet:"invertedLight",className:d,href:k,onClick:C,component:s.Z},S))}))},35213:(e,t,l)=>{l.d(t,{l:()=>S});var a=l(67294),r=l(96206),n=l(76119),o=l(78462),i=l(73785);const c={"custom-order":o.HI,title:{column:i.Q.TITLE,order:i.k.ASC},artist:{column:i.Q.TITLE,order:i.k.SECONDARY_ASC},"added-by":{column:i.Q.ADDED_BY,order:i.k.ASC},"added-at":{column:i.Q.ADDED_AT,order:i.k.ASC},duration:{column:i.Q.DURATION,order:i.k.ASC},album:{column:i.Q.ALBUM,order:i.k.ASC},"album-or-podcast":{column:i.Q.ALBUM_OR_PODCAST,order:i.k.ASC},"album-or-show":{column:i.Q.ALBUM_OR_SHOW,order:i.k.ASC}},s={title:i.Q.TITLE,artist:i.Q.TITLE,"added-by":i.Q.ADDED_BY,"added-at":i.Q.ADDED_AT,duration:i.Q.DURATION,album:i.Q.ALBUM,"album-or-podcast":i.Q.ALBUM_OR_PODCAST,"album-or-show":i.Q.ALBUM_OR_SHOW},u={[i.k.NONE]:i.k.NONE,[i.k.ASC]:i.k.DESC,[i.k.DESC]:i.k.ASC,[i.k.SECONDARY_ASC]:i.k.SECONDARY_DESC,[i.k.SECONDARY_DESC]:i.k.SECONDARY_ASC},m={[i.Q.INDEX]:{key:"custom-order",get value(){return r.ag.get("sort.custom-order")}},[i.Q.TITLE]:{key:"title",get value(){return r.ag.get("sort.title")}},[i.Q.ARTIST]:{key:"artist",get value(){return r.ag.get("sort.artist")}},[i.Q.ADDED_BY]:{key:"added-by",get value(){return r.ag.get("sort.added-by")}},[i.Q.ADDED_AT]:{key:"added-at",get value(){return r.ag.get("sort.date-added")}},[i.Q.DURATION]:{key:"duration",get value(){return r.ag.get("sort.duration")}},[i.Q.EVENT_DATE]:null,[i.Q.ALBUM]:{key:"album",get value(){return r.ag.get("sort.album")}},[i.Q.ALBUM_OR_PODCAST]:{key:"album-or-podcast",get value(){return r.ag.get("sort.album-or-podcast")}},[i.Q.ALBUM_OR_SHOW]:{key:"album-or-show",get value(){return r.ag.get("sort.album-or-show")}},[i.Q.PLAYS]:null,[i.Q.RELEASE_DATE]:null,[i.Q.ADD]:null,[i.Q.ACTIONS]:null};var d=l(28248),E=l(1838);function g(e){return!!e}const S=({columns:e,disabled:t,onSort:l})=>{const S=[...e];S.splice(2,0,d.QD.ARTIST);const{sortState:k,setSortState:C}=(0,a.useContext)(o.Gb),A=function(e){return null===e.column?m[d.QD.INDEX]:(0,E.cB)(e.column,e.order)?m[d.QD.ARTIST]:m[e.column]}(k),D=(0,a.useCallback)((e=>{l?.(),C(((e,t,l)=>e?t!==s[e]||"artist"===e&&[i.k.ASC,i.k.DESC].includes(l)||"title"===e&&[i.k.SECONDARY_ASC,i.k.SECONDARY_DESC].includes(l)?c[e]:{column:s[e],order:u[l]}:o.HI)(e,k.column,k.order))}),[l,C,k.column,k.order]),y=(0,a.useCallback)((()=>null!==k.column),[k.column]),b=S.map((e=>m[e])).filter(g);return a.createElement(n.A,{options:b,onSelect:D,selected:A,isSelectionChanged:y,sortOrder:k.order,heading:r.ag.get("drop_down.sort_by"),disabled:t})}},76119:(e,t,l)=>{l.d(t,{A:()=>D});var a=l(67294),r=l(94184),n=l.n(r),o=l(32667),i=l(34142),c=l(47921),s=l(20246),u=l(71379),m=l(78267),d=l(30005),E=l(36652),g=l(21691),S=l(28248);const k=({heading:e,selected:t,onSelect:l,options:r,sortOrder:n})=>{let i;return n&&(n===S.kn.ASC||n===S.kn.SECONDARY_ASC?i=a.createElement(u.C,{iconSize:16}):n!==S.kn.DESC&&n!==S.kn.SECONDARY_DESC||(i=a.createElement(m.B,{iconSize:16}))),a.createElement(d.v,null,e?a.createElement(E.F,null,e):null,r.map((({key:e,value:r})=>a.createElement(g.s,{role:"menuitemradio","aria-checked":e===t.key&&!i,key:e,onClick:()=>l(e),icon:e===t.key&&i},a.createElement(o.D,{variant:"mesto"},r)))))},C="x-sortBox-sortDropdown",A="CbHJjxYxldG7uUPMYMaP";const D=({heading:e,options:t,selected:l,onSelect:r,isSelectionChanged:u,sortOrder:m,variant:d="mesto",semanticColor:E,disabled:g,onClick:S})=>{const[D]=t;l||(l=D);const y=u?u(l):l!==D;return a.createElement(s.y,{menu:a.createElement(k,{selected:l,options:t,onSelect:r,sortOrder:m,heading:e})},((e,t,r)=>a.createElement("button",{className:n()(C,{[A]:y}),onClick:e=>{g||(S?.(e),t(e))},ref:r,type:"button"},a.createElement(o.D,{semanticColor:E,variant:d},l.value),e?a.createElement(i.U,{iconSize:16}):a.createElement(c.i,{iconSize:16}))))}},22566:(e,t,l)=>{l.r(t),l.d(t,{default:()=>F});var a=l(67294),r=l(73012),n=l(56037),o=l(96206),i=l(18270),c=l(30731),s=l(60289),u=l(59482),m=l(72907),d=l(98562),E=l(6158),g=l(55120),S=l(1838),k=l(35213),C=l(22423),A=l(28248),D=l(78462),y=l(72573),b=l(37081),f=l(51441),p=l(72131),v=l(66393),T=l(5229),x=l(84242),_=l(18261),O=l(87257),h=l(42922),I=l(84788),Q=l(26921),N=l(67062),R=l(21509),P=l(28550),U=l(82760);const L=a.memo((function({uri:e,uid:t,name:l,duration_ms:r,artists:n,album:i,is19PlusOnly:c,isExplicit:s,isPlayable:u,index:m,contextUri:d,imgUrl:E,usePlayContextItem:g}){const{filter:S}=(0,a.useContext)(C.fo),{isActive:k,isPlaying:A,triggerPlay:D,togglePlay:y}=g({uid:t,uri:e,index:m}),{badges:b,hasBadges:f}=(0,I.r)({isExplicit:s}),p=n?.map((e=>e.name)).join(o.ag.getSeparator())||"";return a.createElement(h.ZP,{value:"row",index:m},a.createElement(_._,{menu:a.createElement(Q.N,{uri:e,uid:t,contextUri:d})},a.createElement(U.c,{uri:e,contextUri:d,isActive:k,index:m,onTriggerPlay:()=>{D()},ariaRowIndex:m+1,isPlayable:u,ageRestricted:c,dragMetadata:{name:l,createdBy:p}},a.createElement(R.Dd,{ariaColIndex:0},a.createElement(R.Du,{uri:e,playAriaLabel:o.ag.get("tracklist.a11y.play",l,p),isPlaying:A,isActive:k,onClick:()=>{y()}},a.createElement(R.km,null,m+1))),a.createElement(R.vZ,{ariaColIndex:1},a.createElement(R.lD,{src:E}),a.createElement(R.vm,null,a.createElement(R.Wh,{titleText:l},a.createElement(N.o,{searchWords:[S],textToHighlight:l})),f&&a.createElement(R.g3,null,b.explicit?a.createElement(O.N,null):null),a.createElement(R.K9,null,n&&a.createElement(P.o,{nonInteractive:!0,artists:n,filter:S})))),a.createElement(R.UA,{ariaColIndex:2},i?.name&&a.createElement(R.BM,{nonInteractive:!0,uri:i?.uri,name:i?.name},a.createElement(N.o,{searchWords:[S],textToHighlight:i?.name}))),a.createElement(R.mU,{ariaColIndex:3},a.createElement(R.A$,{duration:r}),a.createElement(R.Zv,{menu:a.createElement(Q.N,{uri:e,uid:t,contextUri:d}),label:o.ag.get("more.label.track",l,p)})))))}),((e,t)=>e.uri===t.uri&&e.index===t.index));var M=l(49961);const B=new Set(D.MI),Y=a.memo((function({uri:e,tracks:t,columns:l,sortState:r,handleSort:n,usePlayContextItem:i,tracklistDomRef:c}){const s=(0,a.useRef)(null),u=(0,a.useCallback)(((t,l)=>{const r=(0,M.X)(t.album?.images,{desiredSize:40,desiredLabel:"small"});return a.createElement(L,{key:t.uid,index:l,contextUri:e,uri:t.uri,uid:t.uid,isPlayable:t.isPlayable,duration_ms:t.duration.milliseconds,name:t.name,artists:t.artists,album:t.album,isExplicit:t.isExplicit,is19PlusOnly:t.is19PlusOnly,type:t.type,imgUrl:r?.url||"",usePlayContextItem:i})}),[e,i]);return a.createElement(a.Fragment,null,a.createElement(h.ZP,{value:"playlist-tracklist"},a.createElement(A.Pv,{key:e,ariaLabel:o.ag.get("local-files"),hasHeaderRow:!0,columns:l,sortableColumns:B,sortState:r,onSort:n,renderRow:u,resolveUri:e=>e.uri,resolveUid:e=>e.uid,tracks:t,nrTracks:t.length,limit:100,outerRef:s,outerDomRef:c})))})),w="uCHqQ74vvHOnctGg0X0B",H="feuNq1FTxMbdeOTuFgpA",z=[A.QD.INDEX,A.QD.TITLE,A.QD.ALBUM,A.QD.DURATION],X=()=>{const{filter:e}=(0,a.useContext)(C.fo),{sortState:t,setSortState:l}=(0,a.useContext)(D.Gb),A=(0,a.useContext)(v.t),[_]=(0,T.z)(y.J,!1),[O,h]=(0,a.useState)(),I=(0,b.Y)(r.Fzl),Q=(0,a.useRef)(null),N=(0,a.useCallback)((e=>{l((0,S.VK)(e,t))}),[t,l]),R=(0,a.useCallback)((async()=>{const l=await A.getTracks((0,S._j)(t),e);h(l)}),[A,t,e]);(0,a.useEffect)((()=>{R()}),[R]);const{isPlaying:P,togglePlay:U,usePlayContextItem:L}=(0,x.n)({uri:p.b,pages:[{items:(O??[]).map((e=>({...e,provider:null})))}]},{featureIdentifier:"local_files"});return O?e||O.length&&_?a.createElement("div",{role:"presentation",className:w},a.createElement(s.gF,{backgroundColor:I},a.createElement(u.W,null,a.createElement(g.$,{size:f.qE.sm,onClick:()=>U(),isPlaying:P,uri:p.b}),a.createElement(m.i,{text:o.ag.get("local-files")})),a.createElement(s.sP,null,a.createElement(s.xd,null,o.ag.get("local-files")),a.createElement(s.T0,null,o.ag.get("local-files.description")))),a.createElement(i.o,{backgroundColor:I},a.createElement(i.F,null,a.createElement(g.$,{size:f.qE.xl,onClick:()=>U(),isPlaying:P,uri:p.b}),a.createElement("div",{className:H},a.createElement(a.Suspense,{fallback:null},a.createElement(d.K,{placeholder:o.ag.get("playlist.search_in_playlist"),clearOnEscapeInElementRef:Q})),a.createElement(k.l,{columns:D.MI})))),a.createElement("div",{className:"contentSpacing"},a.createElement(Y,{tracks:O,uri:p.b,columns:z,handleSort:N,sortState:t,usePlayContextItem:L,tracklistDomRef:Q}))):a.createElement(c.u,{linkTo:"/preferences",linkTitle:o.ag.get("local-files.empty-button"),message:o.ag.get("local-files.empty-description"),title:o.ag.get("local-files.empty-header")},a.createElement(n.Y,{iconSize:64})):a.createElement(E.h,{hasError:!1,errorMessage:o.ag.get("error.request-artist-failure")})},F=()=>a.createElement(D.kz,{uri:"spotify:internal:local-files"},a.createElement(C.hz,{uri:"spotify:internal:local-files"},a.createElement(X,null)))}}]);
//# sourceMappingURL=xpui-routes-collection-local-files.js.map