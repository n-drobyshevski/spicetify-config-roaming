(()=>{var e,t={9453:e=>{e.exports={af:"af-ZA",am:"am-ET",ar:"ar",az:"az-AZ",bg:"bg-BG",bn:"bn-IN",bho:"bp",cs:"cs-CZ",da:"da-DK",de:"de-DE",el:"el-GR",es:"es-ES","es-419":"es-LA",et:"et-EE",fa:"fa-IR",fr:"fr-FR",fi:"fi-FI",fil:"fp-PH","fr-CA":"fr-CA",gu:"gu-IN",hu:"hu-HU",he:"he-IL",hi:"hi-IN",hr:"hr-HR",id:"id-ID",is:"is-IS",it:"it-IT",ja:"ja-JP",kn:"kn-IN",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",ml:"ml-IN",mr:"mr-IN",ms:"ms-MY",nb:"nb-NO",ne:"ne-NP",nl:"nl-NL",or:"or-IN","pa-IN":"pa-IN","pa-PK":"pa-PK",pl:"pl-PL","pt-PT":"pt-PT","pt-BR":"pt-BR",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",sr:"sr-RS",sv:"sv-SE",sw:"sw",ta:"ta-IN",te:"te-IN",th:"th-TH",tr:"tr-TR",uk:"uk-UA",ur:"ur",vi:"vi-VN","zh-CN":"zh-CN","zh-TW":"zh-TW",zu:"zu-ZA"}},1097:(e,t,n)=>{"use strict";var r={};n.r(r),n.d(r,{ENTER_LOGIN_MODE:()=>_,ENTER_SETTINGS_MODE:()=>y,ENTER_SIGNUP_MODE:()=>h,ENTER_SIGNUP_MODE_STEP_0:()=>m,ENTER_SIGNUP_MODE_STEP_1:()=>E,ENTER_WELCOME_MODE:()=>f,INTERACTION:()=>S,START_APP:()=>g,enterLoginMode:()=>v,enterSettingsMode:()=>N,enterSignupMode:()=>k,enterSignupModeStep0:()=>C,enterSignupModeStep1:()=>w,enterWelcomeMode:()=>T,interaction:()=>P,openSignupPage:()=>I,startApp:()=>b});var s={};n.r(s),n.d(s,{ABORT_LOGIN_TYPE_ACCOUNTS:()=>se,ACCOUNTS_METHODS:()=>ae,LOADING:()=>X,LOGIN_BEFORE:()=>Y,LOGIN_CLEAR_ERRORS:()=>z,LOGIN_FAIL:()=>J,LOGIN_SUCCESS:()=>q,LOGIN_TYPE_ACCOUNTS:()=>re,LOGIN_TYPE_AUTOLOGIN:()=>ne,LOGIN_TYPE_EMAIL:()=>Q,LOGIN_TYPE_FACEBOOK:()=>ee,LOGIN_TYPE_FACEBOOK_POPUP:()=>te,UTM_PARAMETERS:()=>Z,abortLoginWithAccounts:()=>ge,fetchUTMParameters:()=>me,loading:()=>ce,login:()=>ue,loginClearErrors:()=>_e,loginFailed:()=>le,loginSuccess:()=>ie,loginWithAccounts:()=>pe,loginWithFacebookPopup:()=>he,receivedUTMParameters:()=>Ee});var a={};n.r(a),n.d(a,{CLEAR_ALL_ERRORS:()=>Be,COUNTRY_NOT_LAUNCHED:()=>Ge,FACEBOOK_SIGNUP_ATTEMPT:()=>De,FACEBOOK_SIGNUP_FAILURE:()=>Oe,FACEBOOK_SIGNUP_SUCCESS:()=>Me,SIGNUP_ATTEMPT:()=>Pe,SIGNUP_FAILURE:()=>Ae,SIGNUP_RESTRICTIONS_FAILURE:()=>Ie,SIGNUP_RESTRICTIONS_SUCCESS:()=>Ne,SIGNUP_SUCCESS:()=>Fe,UPDATE_SIGNUP_DATA:()=>xe,VALIDATE_FIELD_ATTEMPT:()=>Le,VALIDATE_FIELD_FAILURE:()=>Re,VALIDATE_FIELD_SUCCESS:()=>Ue,clearAllErrors:()=>st,countryNotLaunched:()=>rt,facebookSignup:()=>Je,facebookSignupFailure:()=>Ze,facebookSignupSuccess:()=>Xe,getSignupRestrictions:()=>$e,signup:()=>He,signupAttempt:()=>Ke,signupFailure:()=>qe,signupRestrictionsFailure:()=>We,signupRestrictionsSuccess:()=>Ve,signupSuccess:()=>Ye,signupWithAccounts:()=>ze,updateSignupData:()=>nt,validateField:()=>je,validateFieldAttempt:()=>Qe,validateFieldFailure:()=>et,validateFieldSuccess:()=>tt});var o={};n.r(o),n.d(o,{SETTINGS_FETCH_PROXY_SETTINGS_FAILURE:()=>bt,SETTINGS_FETCH_PROXY_SETTINGS_SUCCESS:()=>St,SETTINGS_RESTART_CLIENT_FAILURE:()=>vt,SETTINGS_RESTART_CLIENT_SUCCESS:()=>wt,SETTINGS_UPDATE_PROXY_SETTINGS_FAILURE:()=>Ct,SETTINGS_UPDATE_PROXY_SETTINGS_SUCCESS:()=>kt,fetchProxySettings:()=>Tt,restartClient:()=>It,updateProxySettings:()=>Nt});var i=n(7294),l=n(3935),c=n(7209),d=n(6706),u=n(2976),p=n(685);const g="START_APP",h="ENTER_SIGNUP_MODE",m="ENTER_SIGNUP_MODE_STEP_0",E="ENTER_SIGNUP_MODE_STEP_1",_="ENTER_LOGIN_MODE",f="ENTER_WELCOME_MODE",y="ENTER_SETTINGS_MODE",S="INTERACTION";function b(){return{type:g}}function k(e=null){return{type:h,actionHash:e}}function C(){return{type:m}}function w(){return{type:E}}function v(e=null){return{type:_,actionHash:e}}function T(e=null){return{type:f,errorMessage:e}}function N(){return{type:y}}function I(e=!1){return(t,n)=>{const r=n();let s,a={};switch(e?"website":"desktop-app"){case"desktop-app":t(k());break;case"website":{a=r.login.utmParameters||{utm_source:"spotify",utm_medium:"desktop-unknown",utm_campaign:"organic",referral:""};const e=Object.keys(a).reduce(((e,t)=>(e[t]=encodeURIComponent(a[t]),e)),{});s=`https://www.spotify.com/signup?utm_source=${e.utm_source}&utm_medium=${e.utm_medium}&utm_campaign=${e.utm_campaign}`,e.referral&&(s+=`&referral=${e.referral}&referrer=${e.referral}`),window.open(s);break}}}}function P(e,t,n,r,s){return{type:S,page:e,interactionType:t,intent:n,itemId:r,actionHash:s}}const A=e=>n.g&&"function"==typeof n.g._getSpotifyModule?new Promise(((t,r)=>{n.g._getSpotifyModule("bridge").executeRequest(JSON.stringify(e),{onSuccess:t,onFailure:r})})):null,F="https://www.spotify.com/redirect/account-page/",D="showSettings",M={id:"UnknownLoginErrorMessage"},O={id:"DefaultErrorMessage",replace:[D]},L={id:"FbFailureOpenPopup",silent:!0},R={127:{id:"SessionTerminatedMessage"},3:{id:"BadCredentialsMessage"},4:{id:"ErrorResolvingDNS"},53:{id:"ErrorProxyUnauthorized"},54:{id:"ErrorProxyForbidden"},55:{id:"ErrorProxyAuthRequired",replace:[D]},400:M,401:M,402:{id:"CriticalUpdate"},403:{id:"UserBannedMessage"},404:M,405:M,406:{id:"UserNotAllowedOnPlatformMessage"},407:{id:"MissingUserInfoMessage",replace:[F]},408:{id:"RegionMismatchMessage",replace:[F,"https://www.spotify.com/redirect/upgrade-product/"]},409:{id:"PremiumUsersOnlyMessage"},410:{id:"BadCredentialsMessage"},411:M,412:{id:"BadCredentialsMessage"},413:{id:"CreateUserDeniedMessage"},414:M,415:M,416:M,417:{id:"FacebookCredentialsMisusedMessage"},418:M,"critical-update-error":{id:"ClientUpdateFail",replace:["https://www.spotify.com/redirect/download/"]},1001:{silent:!0},1002:L,1003:{id:"FbUserNotFoundSignUp",replace:["showSignup"]},1004:L,1005:L,1006:L},U={1:M,2:M,3:{id:"BadCredentialsMessage"},4:M,5:M,6:M,7:M,8:M,9:M},x={1:{silent:!0},2:M,3:M,4:{id:"SessionExpiredMessage"},5:O},G=window.localStorage,B="lastUsername",$="THIS_USER_DOES_NOT_EXIST_AND_IS_A_PLACEHOLDER",V="utmParameters",W=G.getItem(V),H=G.getItem(B),j={errorData:null,loginInProgress:!1,redirectTo:null,username:H!==$?H:"",utmParameters:W?JSON.parse(W):null};const K=function(e=j,t){switch(t.type){case Pt.LOADING:return{...e,loading:!0,throbberDelay:t.throbberDelay};case Pt.LOGIN_FAIL:return{...e,loading:!1,errorData:t.errorData,loggedIn:!1,loginInProgress:!1};case Pt.LOGIN_BEFORE:return{...e,errorData:t.errorData,loggedIn:!1,loginInProgress:t.loginInProgress,username:t.username};case Pt.LOGIN_SUCCESS:return{...e,loading:!1,loggedIn:!0,redirectDelay:t.redirectDelay||0,redirectTo:t.redirectTo,username:t.username};case Pt.UTM_PARAMETERS:return{...e,utmParameters:t.utmParameters};case Pt.LOGIN_CLEAR_ERRORS:return{...e,errorData:null};default:return e}},Y="LOGIN_BEFORE",q="LOGIN_SUCCESS",z="LOGIN_CLEAR_ERRORS",J="LOGIN_FAIL",X="LOADING",Z="UTM_PARAMETERS",Q="login",ee="login-facebook",te="login-facebook-popup",ne="autologin",re="login-accounts",se="abort-login-accounts",ae={facebook:"facebook",apple:"apple",google:"google"};function oe(e,t=Q){return{type:Y,errorData:null,username:e||"",loginInProgress:t===Q,loginType:t}}function ie(e,t,n=Q,r=!1,s){return{type:q,errorData:null,redirectTo:s,redirectDelay:t||0,username:e,loginType:n,afterSignup:r}}function le(e,t=Q){return{type:J,errorData:e,loginType:t}}function ce(e){return{type:X,throbberDelay:e&&e.throbberDelay?e.throbberDelay:0}}const de=async(e,t,{defaultErrorCode:n,redirectDelay:r=0}={},s=Q,a=!1,o=null,i=!0)=>{o&&(t.args=t.args||[],t.args[0]=t.args[0]||{},t.args[0].actionHash=o);try{const n=JSON.parse(await A(t)).redirectTo||"xpui";let o=null;t&&t.args&&t.args[0]&&(o=t.args[0].username),e(ie(i?o:$,r,s,a,n))}catch(t){let r=t;n?r={errorCode:n}:"string"==typeof t&&(r=JSON.parse(t)),r.errorCode&&R[r.errorCode]&&"FbFailureOpenPopup"===R[r.errorCode].id?e(he(o)):e(le(r,s))}};function ue({username:e,password:t,rememberMe:n},r=!1,s=null){return a=>{const o=r?ne:Q;a(oe(n?e:$,o));de(a,{name:Q,args:[{username:e,password:t,rememberMe:n}]},{redirectDelay:200},o,r,s,n)}}function pe(e,t){return n=>{n(oe(null,re));de(n,{name:re,args:[{method:e,enableSignup:!1}]},{redirectDelay:200},re,!1,t)}}function ge(){return async()=>{await A({name:se,args:[]})}}function he(e=null){return t=>{t(oe(null,ee));de(t,{name:te,args:[]},{redirectDelay:200},ee,!1,e)}}function me(){return async e=>{e(Ee(JSON.parse(await A({name:"get-signup-utm-parameters",args:[]}))))}}function Ee(e){return{type:Z,utmParameters:e}}function _e(){return{type:z}}var fe=n(8495),ye=n.n(fe);function Se(){const e="undefined"!=typeof window&&window.__spotify&&window.__spotify.DESKTOP_SIGNUP_DEBUG_KEY;return e||"4c7a36d5260abca4af282779720cf631"}function be(){const e="undefined"!=typeof window&&window.__spotify&&window.__spotify.client_version||"";if(!e)throw new Error("Missing Spotify App Version! Something is wrong: talk to #desktop-squad.");return["Spotify-App-Version",e]}function ke(){const e="undefined"!=typeof window&&window.navigator&&window.navigator.platform||"";let t="";if(-1!==e.indexOf("Mac")?t="OSX":-1!==e.indexOf("Win")?t="Win32":-1!==e.indexOf("Linux")&&(t="Linux"),!t)throw new Error("Missing App Platform! Something is wrong: talk to #desktop-squad.");return["App-Platform",t]}function Ce(e){const t=new Map(Object.entries(e).sort()),n=function(e){const t=ye().create();return e.forEach((e=>{void 0!==e&&t.update(e.toString())})),t.hex()}(t);if(t.size>n.length)return t;const r=[...t],s=[...Array(t.size).keys()].sort((function(e,t){const s=n.charAt(e).localeCompare(n.charAt(t));return 0!==s?s:r[e][0].localeCompare(r[t][0])})),a=new Map;return s.forEach((function(e){a.set(r[e][0],r[e][1])})),a}const we=e=>async(t,n,r)=>{const s=function({name:e,email:t,password:n,gender:r,birthDate:s={},sendEmail:a,shareData:o,agreeEula:i}={},l={utm_source:"spotify",utm_medium:"desktop-unknown",utm_campaign:"organic",referral:""},c=!1){const d=Object.keys(l).reduce(((e,t)=>(e[t]=encodeURIComponent(l[t]),e)),{});let u=`https://login.app.spotify.com?utm_source=${d.utm_source}&utm_medium=${d.utm_medium}&utm_campaign=${d.utm_campaign}`;d.referral&&(u+=`&referral=${d.referral}&referrer=${d.referral}`);const p={key:Se(),displayname:e,email:t,password:n,password_repeat:n,gender:r,birth_year:s.year,birth_month:s.month,birth_day:s.day,iagree:i?1:0,creation_point:u,creation_flow:"desktop",platform:"desktop",referrer:d.referral};return"boolean"==typeof a&&(p["send-email"]=a),"boolean"==typeof o&&(p.thirdpartyemail=o),c&&Object.keys(p).forEach((e=>{void 0===p[e]&&delete p[e]})),Ce(p)}(t,n,r),a=new FormData;s.forEach(((e,t)=>{a.append(t,e)}));const o=[be(),ke()].reduce(((e,t)=>(e[t[0]]=t[1],e)),{}),i={method:"POST",body:a,headers:{"App-Platform":o["App-Platform"],"Spotify-App-Version":o["Spotify-App-Version"],"X-Client-Id":{NODE_ENV:"production",DEBUG_EVENT_SENDER:!1,DEBUG_SEMANTIC_METRICS:void 0}.SPOTIFY_CLIENT_ID}},l=new Request(e,i);((e,t)=>{const n=e.headers.get("content-type");e.headers.set("content-type",((e,t)=>[...e.split(";"),t].join(";"))(n,t))})(l,"charset=utf-8");const c=await fetch(l),{errors:d,...u}=await c.json()||{};if(d)throw d;return u},ve=we("https://spclient.wg.spotify.com/signup/public/v1/account/"),Te=we("https://spclient.wg.spotify.com/signup/public/v1/account/?validate=true");const Ne="SIGNUP_RESTRICTIONS_SUCCESS",Ie="SIGNUP_RESTRICTIONS_FAILURE",Pe="SIGNUP_ATTEMPT",Ae="SIGNUP_FAILURE",Fe="SIGNUP_SUCCESS",De="FACEBOOK_SIGNUP_ATTEMPT",Me="FACEBOOK_SIGNUP_SUCCESS",Oe="FACEBOOK_SIGNUP_FAILURE",Le="VALIDATE_FIELD_ATTEMPT",Re="VALIDATE_FIELD_FAILURE",Ue="VALIDATE_FIELD_SUCCESS",xe="UPDATE_SIGNUP_DATA",Ge="COUNTRY_NOT_LAUNCHED",Be="CLEAR_ALL_ERRORS";function $e(){return async(e,t)=>{const n=t();try{e(Ve(window.__spotify&&!0===window.__spotify.is_running_on_teamcity?{}:await(async()=>{const e=await fetch("https://spclient.wg.spotify.com/signup/public/v1/account/?validate=1"),t=await e.json()||{};if(t.errors&&t.errors.length>0)throw t.errors;return t})()))}catch(t){e(We(t)),n.app&&n.app.mode&&"welcome"!==n.app.mode&&(e(v()),e(I(!0)))}}}function Ve(e){return{type:Ne,restrictions:e}}function We(e){return{type:Ie,error:e}}function He(e=null){return async(t,n)=>{t(Ke());const r=n().signup.formData,s=n().login.utmParameters;try{await ve(r,s),t(Ye());const{email:n,password:a}=r;t(ue({username:n,password:a,rememberMe:!0},!0,e))}catch(e){const n={};Object.keys(e).forEach((t=>{n["birthdate"===t?"birthDate":t]={message:e[t]}})),t(qe(n))}}}function je(e){return async(t,n)=>{const r=n().signup.formData[e],s=n().login.utmParameters;t(Qe(e,r));try{await Te({[e]:r},s,!0)}catch(n){n[e]&&t(et(e,{message:n[e]}))}}}function Ke(){return{type:Pe}}function Ye(){return{type:Fe}}function qe(e){return{type:Ae,errors:e}}function ze(e,t=null){return n=>{const r={name:re,args:[{method:e,enableSignup:!0}]};n(Je()),(async(e,t,n=null)=>{n&&(t.args=t.args||[],t.args[0]=t.args[0]||{},t.args[0].actionHash=n);try{const n=JSON.parse(await A(t)).redirectTo||"xpui";e(Xe()),e(ie(null,0,ne,!0,n))}catch(t){let n=t;"string"==typeof t&&(n=JSON.parse(t)),e(Ze(n))}})(n,r,t)}}function Je(){return{type:De}}function Xe(){return{type:Me}}function Ze(e){return{type:Oe,errorData:e}}function Qe(e,t){return{type:Le,field:e,value:t}}function et(e,t){return{type:Re,field:e,error:t}}function tt(e){return{type:Ue,field:e}}function nt(e){return{type:xe,data:e}}function rt(){return{type:Ge}}function st(){return{type:Be}}var at=n(9453),ot=n.n(at);let it,lt,ct;!function(e){e.af="af",e.am="am",e.ar="ar",e.az="az",e.bg="bz",e.bn="bn",e.bho="bho",e.cs="cs",e.da="da",e.de="de",e.el="el",e.en="en",e.es419="es-419",e.es="es",e.et="et",e.fa="fa",e.fi="fi",e.fil="fil",e.frCA="fr-CA",e.fr="fr",e.gu="gu",e.he="he",e.hi="hi",e.hr="hr",e.hu="hu",e.id="id",e.is="is",e.it="it",e.ja="ja",e.kn="kn",e.ko="ko",e.lt="lt",e.lv="lv",e.ml="ml",e.mr="mr",e.ms="ms",e.nb="bn",e.ne="ne",e.nl="nl",e.or="or",e.paIN="pa-IN",e.paPK="pa-PK",e.pl="pl",e.ptBR="pt-BR",e.ptPT="pa-PT",e.ro="ro",e.ru="ru",e.sk="sk",e.sl="sl",e.sr="sr",e.sv="sv",e.sw="sw",e.ta="ta",e.te="te",e.th="th_TH",e.tr="tr",e.uk="uk",e.ur="ur",e.vi="vi",e.zhCN="zh-CN",e.zhTW="zh-TW",e.zu="zu"}(it||(it={})),function(e){e.AR="، ",e.FA="، ",e.EN=", "}(lt||(lt={})),function(e){e.ZERO="zero",e.ONE="one",e.TWO="two",e.FEW="few",e.MANY="many",e.OTHER="other"}(ct||(ct={}));let dt={};function ut(e){return"number"==typeof e?e.toString():e.replace(/\$/,"$$$$")}const pt=e=>"ar"===e?"ar-u-nu-latn":e;const gt=new class{_relativeTimeFormat=void 0===Intl.RelativeTimeFormat?null:new Intl.RelativeTimeFormat;_dateTimeFormats=new Map;constructor(){this._dictionary={},this._locale=it.en}getDateTimeFormat(e){const t=JSON.stringify(Object.keys(e).sort().map((t=>({[t]:e[t]}))));let n=this._dateTimeFormats.get(t);return void 0===n&&(n=new Intl.DateTimeFormat(pt(this._locale),e),this._dateTimeFormats.set(t,n)),n}setDictionary(e){this._dictionary=e}setLocale(e){this._locale=e,this._dateTimeFormats.clear()}getLocale(){return this._locale}getSmartlingLocale(){const e=this._locale;return ot()[e]||e}toLocaleLowerCase(e){return e?.toLocaleLowerCase(this._locale)}toLocaleUpperCase(e){return e?.toLocaleUpperCase(this._locale)}get(e,...t){const n=e in this._dictionary?this._dictionary[e]:e;let r="";if("string"!=typeof n){const e=t[0],s=((e,t)=>{try{return(dt[e]||(dt[e]=new Intl.PluralRules(e))).select(t)}catch{return ct.OTHER}})(this._locale,parseInt(e,10)),a=n[s];void 0!==a?r=a:n.other&&(r=n.other)}else r=n;if(/%\d%/.test(r)){if(!["desktop.login.DefaultErrorMessage","desktop.login.ErrorProxyAuthRequired","desktop.login.MissingUserInfoMessage","desktop.login.RegionMismatchMessage","desktop.login.ClientUpdateFail","desktop.login.FbUserNotFoundSignUp","desktop.login.errorCode","desktop-auth.error"].includes(e))throw new Error("i18n: The placeholder format %0% is legacy and is only allowed for existing strings.")}if(t?.length>0)for(let e=0;e<t.length;e++){const n=t[e];if(null!=n)if("string"==typeof n)r=r.replace(`{${e}}`,ut(n)).replace(`%${e}%`,ut(n));else if("number"==typeof n){const t=this.formatNumber(n);r=r.replace(`{${e}}`,t).replace(`%${e}%`,t)}else if("object"==typeof n)for(const e of Object.keys(n)){const t=n[e];r=r.replace(`%${e}%`,ut(t))}}return r}getSeparator(){switch(this._locale){case it.ar:return lt.AR;case it.fa:return lt.FA;default:return lt.EN}}formatNumber(e,t){return e.toLocaleString(pt(this._locale),t)}formatNumberCompact(e){return this.formatNumber(e,{notation:"compact",maximumFractionDigits:1})}formatDate(e,t=null){const n=t||{year:"numeric",month:"long",day:"numeric"};return this.getDateTimeFormat(n).format(e)}formatRelativeDate(e,t=null){const n=new Date(Date.now()),r=(e=new Date(e)).getTime()-n.getTime();if(Math.abs(r)<2592e6&&null!==this._relativeTimeFormat){const{days:e,hours:t,minutes:n,seconds:a}=(s=r,{seconds:Math.round(s/1e3),minutes:Math.round(s/1e3/60),hours:Math.round(s/1e3/60/60),days:Math.round(s/1e3/60/60/24)});return e||t||n?e||t?e?this._relativeTimeFormat.format(e,"days"):this._relativeTimeFormat.format(t,"hours"):this._relativeTimeFormat.format(n,"minutes"):this._relativeTimeFormat.format(a,"seconds")}var s;return this.formatDate(e,t)}__resetForTests(){this._dictionary={},this._locale=it.en,dt={}}},ht=2,mt=3,Et=4,_t={"auto-detect":{label:()=>gt.get("desktop.settings.proxy.autodetect")},"no-proxy":{label:()=>gt.get("desktop.settings.proxy.noproxy")},http:{label:()=>gt.get("desktop.settings.proxy.http")},socks4:{label:()=>gt.get("desktop.settings.proxy.socks4")},socks5:{label:()=>gt.get("desktop.settings.proxy.socks5")}},ft=[{enumKey:"auto-detect",enumValue:0},{enumKey:"no-proxy",enumValue:1},{enumKey:"http",enumValue:2},{enumKey:"socks4",enumValue:3},{enumKey:"socks5",enumValue:4}],yt="sp://proxy/v1/";const St="SETTINGS_FETCH_PROXY_SETTINGS_SUCCESS",bt="SETTINGS_FETCH_PROXY_SETTINGS_FAILURE",kt="SETTINGS_UPDATE_PROXY_SETTINGS_SUCCESS",Ct="SETTINGS_UPDATE_PROXY_SETTINGS_FAILURE",wt="SETTINGS_RESTART_CLIENT_SUCCESS",vt="SETTINGS_RESTART_CLIENT_FAILURE";function Tt(){return e=>{(async function(){return new Promise(((e,t)=>{window.sendCosmosRequest({request:JSON.stringify({method:"GET",uri:yt}),persistent:!1,onSuccess:n=>{const r=JSON.parse(n);200!==r.status&&t(new Error(`Failed to fetch proxy settings (status code: ${r.status})`));const s=JSON.parse(r.body);e({mode:s["network.proxy.mode"],address:s["network.proxy.addr"],username:s["network.proxy.user"],password:s["network.proxy.pass"]})},onFailure:(e,n)=>{t(e)}})}))})().then((t=>{e(function(e){return{type:St,data:e}}(t))}),(t=>{e(function(e){return{type:bt,error:e}}(t))}))}}function Nt(e){return t=>{(async function(e){return new Promise(((t,n)=>{const r={"network.proxy.mode":e.mode};[ht,mt,Et].includes(e.mode)&&(r["network.proxy.addr"]=e.address,r["network.proxy.user"]=e.username),[ht,Et].includes(e.mode)&&(r["network.proxy.pass"]=e.password),window.sendCosmosRequest({request:JSON.stringify({method:"PUT",uri:yt,body:JSON.stringify(r)}),persistent:!1,onSuccess:()=>{t()},onFailure:(e,t)=>{n(e)}})}))})(e).then((()=>{t({type:kt}),t(Tt())}),(e=>{t(function(e){return{type:Ct,error:e}}(e))}))}}function It(){return e=>{(async function(){return new Promise(((e,t)=>{window.sendCosmosRequest({request:JSON.stringify({method:"POST",uri:"sp://desktop/v1/restart"}),persistent:!1,onSuccess:()=>{e()},onFailure:(e,n)=>{t(e)}})}))})().then((()=>{e({type:wt})}),(t=>{e(function(e){return{type:vt,error:e}}(t))}))}}const Pt={...r,...s,...a,...o};class At extends i.Component{constructor(e){super(e),this.state={hidden:this.props.delay>0}}componentDidMount(){!0===this.state.hidden&&(this.throbberTimeout=setTimeout((()=>{this.setState({hidden:!1})}),this.props.delay))}componentWillUnmount(){this.throbberTimeout&&clearTimeout(this.throbberTimeout)}render(){return this.state.hidden?null:i.createElement("div",{"data-testid":"glue-throbber",className:"GlueThrobber "+(this.props.initial?"throbber-initial":"throbber")},i.createElement("div",null))}}At.defaultProps={delay:0,initial:!0};var Ft=n(2808),Dt=n.n(Ft);function Mt(){return Dt().create().toString()}var Ot=n(1317),Lt=n(4011);class Rt extends i.PureComponent{constructor(e){super(e),this.handleLoginClick=this.handleLoginClick.bind(this),this.handleErrorClick=this.handleErrorClick.bind(this)}handleLoginClick(){const e=Mt();this.props.openLoginPage(e),this.props.onInteraction("login/welcome","click","open-page-login",null,e)}handleErrorClick(e){if(e.target.getAttribute("data-action")){"showSettings"===e.target.getAttribute("data-action")&&this.props.openSettingsPage()}}render(){const{errorMessage:e}=this.props;return i.createElement("main",{className:"Welcome","data-testid":"welcome"},i.createElement("h1",{className:"HeroText __welcome"},gt.get("desktop-auth.login.millions-of-songs"),i.createElement("br",null),gt.get("desktop-auth.login.free-on-spotify")),i.createElement("div",{className:"Welcome__signup-or-login"},e&&i.createElement("div",{className:"Welcome__error-message",role:"alert",onClick:this.handleErrorClick,"aria-live":"assertive"},i.createElement(Ot.l,{className:"Welcome__error-message__icon"}),i.createElement("span",{dangerouslySetInnerHTML:{__html:e}})),i.createElement(Lt.D,{id:"login-button",onClick:this.handleLoginClick,"data-ta-id":"welcome-login-button","data-testid":"login-button",fullWidth:!0},gt.get("desktop.login.LoginButton"))))}}const Ut=(0,d.$j)((e=>({errorMessage:e.app.errorMessage})),(e=>({openLoginPage:t=>e(Pt.enterLoginMode(t)),openSettingsPage:()=>e(Pt.enterSettingsMode()),onInteraction:(t,n,r,s,a)=>e(Pt.interaction(t,n,r,s,a))})))(Rt);var xt=n(5087),Gt=n(2484),Bt=n(6025),$t=n(4184),Vt=n.n($t);function Wt(e,t,n){if(0===t)return!1;if(!e&&!t)return!1;let r=R;switch(e){case"session":r=U;break;case"desktop_login_accounts":r=x}const s=r[t]||O;if(s.silent)return!1;const a=s.replace||[];let o="";switch(s.id){case"UnknownLoginErrorMessage":o=gt.get("desktop.login.UnknownLoginErrorMessage");break;case"DefaultErrorMessage":o=gt.get("desktop.login.DefaultErrorMessage",a[0]);break;case"SessionTerminatedMessage":o=gt.get("desktop.login.SessionTerminatedMessage");break;case"SessionExpiredMessage":o=gt.get("desktop.login.SessionExpiredMessage");break;case"BadCredentialsMessage":o=gt.get("desktop.login.BadCredentialsMessage");break;case"ErrorResolvingDNS":o=gt.get("desktop.login.ErrorResolvingDNS");break;case"ErrorProxyUnauthorized":o=gt.get("desktop.login.ErrorProxyUnauthorized");break;case"ErrorProxyForbidden":o=gt.get("desktop.login.ErrorProxyForbidden");break;case"ErrorProxyAuthRequired":o=gt.get("desktop.login.ErrorProxyAuthRequired",a[0]);break;case"CriticalUpdate":o=gt.get("desktop.login.CriticalUpdate");break;case"UserBannedMessage":o=gt.get("desktop.login.UserBannedMessage");break;case"UserNotAllowedOnPlatformMessage":o=gt.get("desktop.login.UserNotAllowedOnPlatformMessage");break;case"MissingUserInfoMessage":o=gt.get("desktop.login.MissingUserInfoMessage",a[0]);break;case"RegionMismatchMessage":o=gt.get("desktop.login.RegionMismatchMessage",a[0],a[1]);break;case"PremiumUsersOnlyMessage":o=gt.get("desktop.login.PremiumUsersOnlyMessage");break;case"CreateUserDeniedMessage":o=gt.get("desktop.login.CreateUserDeniedMessage");break;case"ClientUpdateFail":o=gt.get("desktop.login.ClientUpdateFail",a[0]);break;case"FbUserNotFoundSignUp":o=gt.get("desktop.login.FbUserNotFoundSignUp",a[0])}return`${o}<br>${gt.get("desktop.login.errorCode",n)}`}function Ht({validity:e={}}){return e.valid?null:["valueMissing","typeMismatch","tooShort"].find((t=>e[t]))}const jt=()=>i.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8ZM7.25 3V10H8.75V3H7.25ZM7.25 11.5256V13.0256H8.75V11.5256H7.25Z",fill:"#eb6471"}));class Kt extends i.PureComponent{render(){const{errorMessage:e}=this.props;return i.createElement("div",{"aria-live":"polite",className:Vt()("FieldError",{"FieldError--hidden":!e})},i.createElement(jt,null),i.createElement("span",null,e||""))}}let Yt=0;class qt extends i.PureComponent{constructor(...e){super(...e),this.idNumber=++Yt,this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange(e)}render(){const{label:e,placeholderLabel:t,name:n,type:r,isRequired:s,taId:a,id:o,defaultValue:l,value:c,minLength:d,autoFocus:u,hasError:p,isDisabled:g,isHiddenForScreenReaders:h,useCustomStyle:m,className:E,inputClassName:_,inputRef:f,onBlur:y,onFocus:S,onInput:b,onKeyDown:k,onKeyUp:C}=this.props,w=o||`GlueTextInput-${this.idNumber}`;return i.createElement("label",{className:m?E:"GlueTextInput",htmlFor:w,"aria-label":e,"aria-hidden":!!h||void 0},i.createElement("input",{className:m?_:Vt()("GlueTextInput__input",{"GlueTextInput__input--has-error":p}),tabIndex:h?"-1":void 0,type:r,id:w,name:n,"data-ta-id":a,"aria-invalid":p,disabled:g,minLength:d,autoFocus:u,placeholder:t||e,value:l?void 0:c,defaultValue:l,onBlur:y,onFocus:S,onChange:this.handleChange,onInput:l?void 0:b,onKeyDown:k,onKeyUp:C,ref:f,required:s}))}}qt.defaultProps={name:"",type:"text",isRequired:!1,taId:"",defaultValue:void 0,value:"",minLength:0,autoFocus:!1,hasError:!1,isDisabled:!1,isHiddenForScreenReaders:!1,useCustomStyle:!1,onBlur(){},onFocus(){},onChange(){},onInput(){},onKeyDown(){}};class zt extends i.PureComponent{constructor(e){super(e),this.state={isEditing:!1,passwordVisible:!1},this.handleBlur=this.handleBlur.bind(this),this.handleInput=this.handleInput.bind(this)}handleBlur({target:e,relatedTarget:t}){this.setState({isEditing:!1}),t&&(t.name||"submit"===t.type)&&this.validate(e)}handleInput(){this.setState({isEditing:!0})}handleTogglePasswordVisible=()=>{const e=!this.state.passwordVisible;this.setState({passwordVisible:e}),this.props.onTogglePasswordVisibility&&this.props.onTogglePasswordVisibility(e)};validate(e){const{name:t,onValidate:n,noValidate:r}=this.props;!r&&n&&n(t,Ht(e))}renderPasswordEyeToggler(){const{type:e}=this.props,{passwordVisible:t}=this.state;return"password"!==e?null:i.createElement(i.Fragment,null,i.createElement("button",{type:"button",onClick:this.handleTogglePasswordVisible,tabIndex:"-1",className:"FormField--passwordEyeIcon "+(t?"passwordVisible":"")}),i.createElement("span",{tabIndex:"-1",className:"FormField--passwordEyeIcon--cross "+(t?"passwordVisible":"")}))}render(){const{error:e={},noValidate:t,label:n,name:r,type:s,value:a,isRequired:o,minLength:l,autoFocus:c,isDisabled:d,onChange:u,onKeyUp:p,onFocus:g,rightIcon:h=null}=this.props,{isEditing:m,passwordVisible:E}=this.state,_=h;let f=s;return"password"===s&&E&&(f="text"),i.createElement("div",{className:Vt()("FormField",{"FormField--no-validate":t})},i.createElement(qt,{label:n,name:r,type:f,taId:`${r}-field`,value:a,isRequired:o,minLength:l,autoFocus:c,hasError:!!e.message&&!m,isDisabled:d,onChange:u,onFocus:g,onKeyUp:p,onBlur:this.handleBlur,onInput:this.handleInput}),_&&i.createElement(_,{className:"FormField--rightIcon"}),this.renderPasswordEyeToggler(),!t&&!m&&e.message&&i.createElement(i.Fragment,null,i.createElement(Kt,{errorMessage:e.message})))}}const Jt=(0,d.$j)((()=>({})),(()=>({})))(zt);var Xt=n(7462);class Zt extends i.PureComponent{constructor(...e){super(...e),this.handleBlur=this.handleBlur.bind(this)}handleBlur(e={}){this.props.onBlur&&this.props.onBlur(e)}render(){const{type:e="text",name:t,label:n,classes:r,hasError:s,...a}=this.props,o=`${t}-field`;return i.createElement("span",{className:r},i.createElement("label",{className:"glue-hidden-visually",htmlFor:o},n),i.createElement("input",(0,Xt.Z)({},a,{onBlur:this.handleBlur,type:e,name:t,id:o,"data-ta-id":o,className:Vt()("form-control Input",{"Input--has-error":s}),"aria-invalid":!!s,placeholder:n,required:!0})))}}const Qt=(new Date).getFullYear()-120,en=[31,28,31,30,31,30,31,31,30,31,30,31],tn=(e,t,n)=>{const r=new Date(n,t-1,e);return!(e<1||e>((e,t)=>1===e&&t%4==0?29:en[e])(t,n))&&(!(r.getFullYear()<Qt)&&(r.getDate()===e&&r.getMonth()===t-1&&r.getFullYear()===n))},nn=(e,t,n)=>{let r=null;return((e,t,n)=>[e,t,n].reduce(((e,t)=>e&&!!t),!0))(e,t,n)?tn(e,t,n)||(r="invalid"):r="incomplete",r},rn={BIG_ENDIAN:"big",LITTLE_ENDIAN:"little",MIDDLE_ENDIAN:"middle"};class sn extends i.PureComponent{constructor(e){super(e),this.state={isEditing:!1},this.monthStrings=[gt.get("desktop.login.January"),gt.get("desktop.login.February"),gt.get("desktop.login.March"),gt.get("desktop.login.April"),gt.get("desktop.login.May"),gt.get("desktop.login.June"),gt.get("desktop.login.July"),gt.get("desktop.login.August"),gt.get("desktop.login.September"),gt.get("desktop.login.October"),gt.get("desktop.login.November"),gt.get("desktop.login.December")],this.handleInput=this.handleInput.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this)}handleInput({target:{name:e,value:t,validity:n={}}}){this.setState({isEditing:!0});const r=parseInt(t,10);n.valueMissing||!isFinite(t)||isNaN(r)?this.props.onChange({...this.props.value,[e]:void 0}):this.props.onChange({...this.props.value,[e]:r})}handleBlur(e){const t=e.relatedTarget?e.relatedTarget.name:null,n=["day","month","year"].includes(t);this.setState({isEditing:n}),n||this.validate()}handleFocus(e){this.setState({isEditing:!0});const t=e.relatedTarget?e.relatedTarget.name:null;!["day","month","year"].includes(t)&&this.props.onFocus&&this.props.onFocus()}validate(){const{day:e,month:t,year:n}=this.props.value,r=nn(e,t,n,this.props.minAge);this.props.onValidate("birthDate",r)}renderYear(e,t,n){return i.createElement(Zt,{type:"number",name:"year",classes:"FormDate__input FormDate__year",label:gt.get("desktop.login.Year"),autoFocus:n,defaultValue:e||"",onInput:this.handleInput,onBlur:this.handleBlur,disabled:this.props.disabled,min:Qt,hasError:t.includes("year"),onFocus:this.handleFocus})}renderMonth(e,t,n){return i.createElement("select",{name:"month",id:"month-field",className:Vt()("form-control Input FormDate__input FormDate__month",{"Input--has-error":t.includes("month")}),autoFocus:n,defaultValue:e||"",required:!0,onChange:this.handleInput,onBlur:this.handleBlur,disabled:this.props.disabled,onFocus:this.handleFocus},i.createElement("option",{value:"",disabled:!0,hidden:!0},gt.get("desktop.login.Month")),this.monthStrings.map(((e,t)=>i.createElement("option",{value:t+1,key:t},e))))}renderDay(e,t,n){return i.createElement(Zt,{type:"number",name:"day",classes:"FormDate__input FormDate__day",label:gt.get("desktop.login.Day"),autoFocus:n,defaultValue:e||"",onInput:this.handleInput,onBlur:this.handleBlur,disabled:this.props.disabled,min:1,max:31,hasError:t.includes("day"),onFocus:this.handleFocus})}render(){const{name:e,label:t,dateEndianness:n,error:r={},autoFocus:s}=this.props,{day:a,month:o,year:l}=this.props.value,{isEditing:c}=this.state,d=["day","month","year"].filter((e=>!(c||!r.message)&&("incomplete"===r.code?!this.props.value[e]:"tooOld"!==r.code||"year"===e)));let u="";return u="big"===rn[n]?i.createElement("div",{className:"FormDate__inputs"},this.renderYear(l,d,s),this.renderMonth(o,d),this.renderDay(a,d)):"little"===rn[n]?i.createElement("div",{className:"FormDate__inputs"},this.renderDay(a,d,s),this.renderMonth(o,d),this.renderYear(l,d)):i.createElement("div",{className:"FormDate__inputs"},this.renderMonth(o,d,s),this.renderDay(a,d),this.renderYear(l,d)),i.createElement("div",{className:"FormDate"},i.createElement("label",{className:`FormDate__label ${e}-label`,htmlFor:"month-field"},t),u,!c&&r.message&&i.createElement(i.Fragment,null,i.createElement(Kt,{errorMessage:r.message})))}}sn.defaultProps={value:{},dateEndianness:"MIDDLE_ENDIAN",minAge:13};const an=(0,d.$j)((()=>({})),(()=>({})))(sn);class on extends i.PureComponent{constructor(e){super(e),this.state={isEditing:!1},this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this)}handleBlur(e){this.state={isEditing:!1};(e.relatedTarget?e.relatedTarget.name:null)!==this.props.name&&this.validate(e.target)}handleFocus(e){this.state={isEditing:!0},this.props.onOptionFocus&&e&&e.target&&this.props.onOptionFocus(e.target.value)}validate(e){const{name:t,onValidate:n}=this.props;n&&n(t,Ht(e))}render(){const{name:e,label:t,options:n,value:r,showTitle:s,error:a={},onValidate:o,onOptionFocus:l,...c}=this.props,{isEditing:d}=this.state,u=`${e}-field`,p=Vt()("FormRadioSelect",{"FormRadioSelect--is-disabled":this.props.disabled});return i.createElement("div",{className:p},i.createElement("label",{className:s?"":"glue-hidden-visually",htmlFor:u},t),n.map((t=>{const n=`${t.value}-radio`;return i.createElement("span",{className:r===t.value?"checked":"",key:t.value},i.createElement("input",(0,Xt.Z)({},c,{name:e,type:"radio",id:n,className:"glue-hidden-visually",value:t.value,checked:r===t.value,onBlur:this.handleBlur,onFocus:this.handleFocus,required:!0,disabled:this.props.disabled})),i.createElement("label",{className:Vt()("FormRadioSelect__label",{"FormRadioSelect__label--has-error":!!a.message}),htmlFor:n},t.label))})),!d&&a.message&&i.createElement(i.Fragment,null,i.createElement(Kt,{errorMessage:a.message})))}}const ln=(0,d.$j)((()=>({})),(()=>({})))(on);class cn extends i.PureComponent{constructor(...e){super(...e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.isDisabled||this.props.onChange(e.target.checked)}render(){const e=`${this.props.name}-field`,t=Vt()("GlueCheckbox",{"GlueCheckbox--is-disabled":this.props.isDisabled});return i.createElement("div",{className:t},i.createElement("input",{className:"GlueCheckbox__input",id:e,name:this.props.name,checked:this.props.isChecked,type:"checkbox",onChange:this.handleChange,disabled:this.props.isDisabled}),i.createElement("label",{className:"GlueCheckbox__label",htmlFor:e,dangerouslySetInnerHTML:{__html:this.props.label}}))}}cn.defaultProps={label:"",name:"",isChecked:!1,isDisabled:!1,onChange(){}};class dn extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){if(e.target.getAttribute("data-action")){const t=e.target.getAttribute("data-action");"showSettings"===t?this.props.openSettingsPage():"showSignup"===t&&this.props.openSignupPage()}}render(){const e=this.props.errorData,t=e?Wt(e.errorCategory,e.errorCode,e.errorReference):null;return t?i.createElement("div",{className:"alert alert-danger ErrorMessage alert-icon",id:"login-message","data-ta-id":"login-message","data-testid":"login-message",role:"alert","aria-live":"assertive",onClick:this.handleClick},i.createElement(Ot.l,{iconSize:24}),i.createElement("span",{dangerouslySetInnerHTML:{__html:t}})):null}}const un=(0,d.$j)((e=>{let{mode:t}=e.app;return"welcome"===t&&(t="signup"),{errorData:e[t]&&e[t].errorData?e[t].errorData:null}}),(e=>({openSettingsPage:()=>e(Pt.enterSettingsMode()),openSignupPage:()=>e(Pt.openSignupPage())})))(dn);class pn extends i.PureComponent{static getNextId(){const e=(pn.instanceCount||0)+1;return pn.instanceCount=e,e}constructor(e){super(e),this.state={tosAgreed:!1,privacyAgreed:!1},this.handleTosChange=this.handleTosChange.bind(this),this.handlePrivacyChange=this.handlePrivacyChange.bind(this),this.handleTosAndPrivacyChange=this.handleTosAndPrivacyChange.bind(this),this.handleEulaChange=this.handleEulaChange.bind(this),this.eulaId=pn.getNextId()}handleTosChange(e){this.setState({tosAgreed:e},(()=>{this.handleEulaChange()}))}handlePrivacyChange(e){this.setState({privacyAgreed:e},(()=>{this.handleEulaChange()}))}handleTosAndPrivacyChange(e){this.setState({tosAgreed:e,privacyAgreed:e},(()=>{this.handleEulaChange()}))}handleEulaChange(){this.props.onChange(this.state.tosAgreed&&this.state.privacyAgreed)}render(){let e=null;const t=`<a href="https://www.spotify.com/int/legal/end-user-agreement/" target="_new">${gt.get("desktop.login.TermsAndConditions")}</a>`,n=`<a href="https://www.spotify.com/int/legal/privacy-policy/" target="_new">${gt.get("desktop.login.PrivacyPolicy")}</a>`,r=gt.get("desktop.login.SignupButton");return e=this.props.restrictions.pretick_eula?i.createElement("div",null,!this.props.hideTermsAndConditions&&i.createElement("p",{className:"SignupForm__terms-and-conditions",dangerouslySetInnerHTML:{__html:gt.get("desktop.login.SignupAgree",r,t)}}),!this.props.hidePrivacyPolicy&&i.createElement("p",{className:"SignupForm__privacy-policy",dangerouslySetInnerHTML:{__html:gt.get("desktop.login.PrivacyPolicyAgree",n)}})):this.props.restrictions.can_accept_licenses_in_one_step?i.createElement("div",{className:"SignupForm__checkbox-container"},i.createElement(cn,{"data-ta-id":"agree-eula",name:`agree-eula-${this.eulaId}`,label:this.props.restrictions.specific_licenses?gt.get("desktop.login.SignupAgreeCheckboxSpecificLicenses",t,n):gt.get("desktop.login.SignupAgreeCheckbox",t,n),onChange:this.handleTosAndPrivacyChange,isChecked:this.state.tosAgreed&&this.state.privacyAgreed,isDisabled:this.props.disabled}),this.props.restrictions.specific_licenses&&i.createElement("p",{className:"SignupForm__privacy-policy",dangerouslySetInnerHTML:{__html:gt.get("desktop.login.PrivacyPolicyAgree",n)}})):i.createElement("div",null,i.createElement("div",{className:"SignupForm__checkbox-container"},i.createElement(cn,{"data-ta-id":"agree-tos",name:`agree-tos-${this.eulaId}`,label:gt.get("desktop.login.TermsOfServiceAgreeCheckbox",t),onChange:this.handleTosChange,isChecked:this.state.tosAgreed,isDisabled:this.props.disabled})),i.createElement("div",{className:"SignupForm__checkbox-container"},i.createElement(cn,{"data-ta-id":"agree-privacy",name:`agree-privacy-${this.eulaId}`,label:gt.get("desktop.login.PrivacyPolicyAgreeCheckbox",n),onChange:this.handlePrivacyChange,isChecked:this.state.privacyAgreed,isDisabled:this.props.disabled}))),i.createElement("div",{className:"EulaAgreement"},e,this.props.error&&i.createElement(i.Fragment,null,i.createElement(Kt,{errorMessage:this.props.error.message})))}}const gn=(0,d.$j)((()=>({})),(()=>({})))(pn);class hn extends i.PureComponent{handleClick=e=>{const{method:t}=this.props;e&&(e.preventDefault(),e.stopPropagation()),this.props.onClick(t)};render(){const{type:e,label:t,isDisabled:n,method:r}=this.props,s=r.substr(0,1).toUpperCase()+r.substr(1),a=Vt()("button","SocialButton",`${s}Button`,{[`${s}Button--login`]:"login"===e,[`${s}Button--signup`]:"signup"===e});return i.createElement("button",{type:"button",className:a,onClick:this.handleClick,"data-ta-id":`${r}-${e}-button`,disabled:n},t)}}class mn extends i.PureComponent{static defaultProps={isDisabled:!1,hideEula:!1};constructor(e){super(e),this.state={eulaAgreed:this.props.restrictions.pretick_eula,error:{}}}handleAgreeEulaChange=e=>{const t=e?"checked":"unchecked";this.props.onInteraction("signup","click",`eula-change-${t}`),this.setState({eulaAgreed:e,error:e?{}:this.state.error})};handleOnClick=(...e)=>{(()=>this.state.eulaAgreed||this.props.restrictions.pretick_eula||this.props.hideEula)()?this.props.onClick(...e):this.setState({error:{message:gt.get("desktop.login.agreeEula.notAccepted")}})};render(){return i.createElement("div",{className:"SignupFacebook"},i.createElement(hn,{method:"facebook",isDisabled:this.props.isDisabled,onClick:this.handleOnClick,type:"signup",label:gt.get("desktop.login.SignupButtonFacebookNirvana")}),this.props.restrictions.pretick_eula||this.props.hideEula?null:i.createElement(gn,{restrictions:this.props.restrictions,error:this.state.error,disabled:this.props.isDisabled,onChange:this.handleAgreeEulaChange}))}}const En=(0,d.$j)((e=>({isDisabled:!!e.signup.isAttempting,restrictions:e.signup.restrictions})),(e=>({onInteraction:(t,n,r,s,a)=>e(Pt.interaction(t,n,r,s,a)),onClick:t=>{const n=Mt();e(Pt.signupWithAccounts(t,n)),e(Pt.interaction("signup","click",`create-account-${t}`,null,n))}})),((e,t)=>({...e,...t,onClick:e=>{t.onClick(e)}})))(mn),_n=({title:e})=>i.createElement("p",{className:"FormTitleSeparator","aria-hidden":"true"},e);_n.defaultProps={title:""};const fn=_n;class yn extends i.PureComponent{static defaultProps={errors:{},data:{},step:0};constructor(e){super(e),this.state={isEditing:!0}}handleEmailValidate=(e,t)=>{this.props.onValidate(e,t),t||this.props.validateEmail()};handleEmailFocus=()=>{this.props.onInteraction("signup","click","input-email")};handlePasswordValidate=(e,t)=>{this.props.onValidate(e,t),t||this.props.validatePassword()};handlePasswordFocus=()=>{this.props.onInteraction("signup","click","input-password")};handleNameFocus=()=>{this.props.onInteraction("signup","click","input-name")};handleGenderOptionFocus=e=>{this.props.onInteraction("signup","click",`input-gender-${e}`)};handleInputChange=({target:{name:e,value:t}})=>{this.props.updateData({[e]:t}),this.setState({isEditing:!0})};handleBirthDateChange=e=>{this.props.updateData({birthDate:e})};handleSendEmailChange=e=>{this.props.updateData({sendEmail:e})};handleShareDataChange=e=>{this.props.updateData({shareData:e})};handleAgreeEulaChange=e=>{this.props.updateData({agreeEula:e})};handleSubmit=e=>{e&&e.preventDefault();const{step:t}=this.props,n=Mt();this.props.onInteraction("signup","click",0===t?"continue":"create-account",null,n),this.setState({isEditing:!1});let r=!0;const s={0:["email","password","name"],1:["birthDate","gender","agreeEula"]};!!this.props.errors&&Object.keys(this.props.errors).filter((e=>-1!==s[t].indexOf(e))).some((e=>this.props.errors[e]&&this.props.errors[e].message))&&(r=!1);const a=e=>t=>{this.props.data[t]||(this.props.onValidate(t,{code:e}),r=!1)};switch(t){case 0:["email","password","name"].forEach(a("valueMissing"));break;case 1:{const{day:e,month:t,year:s}=this.props.data.birthDate;s||this.props.onInteraction("signup","view","show-error-empty-year",null,n),t||this.props.onInteraction("signup","view","show-error-empty-month",null,n),e||this.props.onInteraction("signup","view","show-error-empty-date",null,n);const o=nn(e,t,s,this.props.restrictions.minimum_age);o&&(this.props.onValidate("birthDate",{code:o}),r=!1),a("valueMissing")("gender"),a("notAccepted")("agreeEula")}}if(r)switch(t){case 0:this.setStep(t+1);break;case 1:this.props.signup(n)}};handleBack=()=>{const{step:e}=this.props;this.props.onInteraction("signup","click",`back-step-${e+1}`),this.props.clearAllErrors(),e<=0?this.props.enterWelcomeMode():this.setStep(e-1)};handleLogin=()=>{const e=Mt();this.props.onInteraction("signup","click","open-page-login",null,e),this.props.enterLoginMode(e)};setStep=e=>{switch(e){case 0:this.props.enterSignupModeStep0();break;case 1:this.props.enterSignupModeStep1()}};renderErrorMsg(){const e=Object.keys(this.props.errors).filter((e=>this.props.errors[e]&&this.props.errors[e].message));return i.createElement("div",{className:"glue-hidden-visually",role:"alert","aria-live":this.state.isEditing?"off":"assertive"},e.length>0?i.createElement("div",null,i.createElement("p",null,gt.get("desktop.login.email.errorMessageA11y",e.length)),i.createElement("ul",null,e.map((e=>i.createElement("li",{key:e},this.props.errors[e].message))))):null)}renderStep0(){const{data:e,errors:t,isDisabled:n,onValidate:r}=this.props;return i.createElement("div",null,i.createElement(Jt,{name:"email",type:"email",label:gt.get("desktop.login.SignupEmail"),value:e.email,onChange:this.handleInputChange,isDisabled:n,error:t.email,onValidate:this.handleEmailValidate,onFocus:this.handleEmailFocus,isRequired:!0,autoFocus:!0,rightIcon:xt.B}),i.createElement(Jt,{name:"password",type:"password",label:gt.get("desktop.login.CreateAPassword"),value:e.password,onChange:this.handleInputChange,minLength:8,isRequired:!0,isDisabled:n,error:t.password,onValidate:this.handlePasswordValidate,onFocus:this.handlePasswordFocus,onTogglePasswordVisibility:e=>{this.props.onInteraction("signup","click",e?"toggle-password-visibility-show":"toggle-password-visibility-hide")}}),i.createElement(Jt,{name:"name",label:gt.get("desktop.login.SignupName"),value:e.name,onChange:this.handleInputChange,isRequired:!0,isDisabled:n,error:t.name,onValidate:r,rightIcon:Gt.W,onFocus:this.handleNameFocus}))}renderStep1(){const{data:e,errors:t,restrictions:n,isDisabled:r,onValidate:s}=this.props;let a=null;n.requires_marketing_opt_in_text?a=i.createElement("div",{className:"SignupForm__send-email-implicit"},gt.get("desktop.login.SendEmailImplicitLabel")):n.requires_marketing_opt_in&&(a=i.createElement("div",{className:"SignupForm__checkbox-container"},i.createElement(cn,{name:"send-email",label:gt.get("desktop.login.SendEmailLabel"),onChange:this.handleSendEmailChange,isChecked:e.sendEmail,isDisabled:r})));const o=[{label:gt.get("desktop.login.Female"),value:"female"},{label:gt.get("desktop.login.Male"),value:"male"}];return n.use_all_genders&&o.push({label:gt.get("desktop.login.NonBinary"),value:"neutral"}),i.createElement("div",null,i.createElement(an,{name:"birth-date",label:gt.get("desktop.login.WhatsYourSignupBirthDate"),value:e.birthDate,onChange:this.handleBirthDateChange,disabled:r,error:t.birthDate,onValidate:s,dateEndianness:n.date_endianness,minAge:n.minimum_age,autoFocus:!0,onFocus:()=>{this.props.onInteraction("signup","click","input-birth-date")}}),i.createElement(ln,{showTitle:!0,name:"gender",label:gt.get("desktop.login.WhatsYourSignupGender"),options:o,value:e.gender,onChange:this.handleInputChange,disabled:r,error:t.gender,onValidate:s,onOptionFocus:this.handleGenderOptionFocus}),a,i.createElement(gn,{restrictions:n,error:t.agreeEula,disabled:r,onChange:this.handleAgreeEulaChange}))}render(){const{isDisabled:e,step:t}=this.props;return i.createElement("form",{onSubmit:this.handleSubmit,className:"SignupForm"},this.renderErrorMsg(),i.createElement(un,null),0===t?this.renderStep0():"",1===t?this.renderStep1():"",i.createElement(Lt.D,{type:"submit",disabled:e,id:"signup-button",onClick:this.handleSubmit,"data-ta-id":"signup-submit",fullWidth:!0},0===t?gt.get("desktop.login.Continue"):gt.get("desktop.login.SignupButton")),0===t&&i.createElement(i.Fragment,null,i.createElement(fn,{title:gt.get("desktop.login.SignupOr")}),i.createElement(En,null)),i.createElement(Bt.oM,{onClick:this.handleBack},gt.get("desktop.login.Back")),0===t&&i.createElement("h3",{className:"FooterFormText"},i.createElement("a",{className:"FooterFormText__NoUnderline",href:"#",id:"login-link",onClick:this.handleLogin,dangerouslySetInnerHTML:{__html:gt.get("desktop.login.AlreadyOnSpotifyLogin")}})))}}const Sn=(0,d.$j)((e=>({isDisabled:!!e.signup.isAttempting,restrictions:e.signup.restrictions,email:e.signup.email,errors:e.signup.errors,data:e.signup.formData})),(e=>({signup:t=>e(Pt.signup(t)),enterLoginMode:()=>e(Pt.enterLoginMode()),enterSignupModeStep0:()=>e(Pt.enterSignupModeStep0()),enterSignupModeStep1:()=>e(Pt.enterSignupModeStep1()),updateData:t=>e(Pt.updateSignupData(t)),validateEmail:()=>e(Pt.validateField("email")),validatePassword:()=>e(Pt.validateField("password")),enterWelcomeMode:()=>e(Pt.enterWelcomeMode()),clearAllErrors:()=>e(Pt.clearAllErrors()),onValidate:(t,n)=>{if(n){const r=n.code||n,s={birthDate:{incomplete:gt.get("desktop.login.birthDate.incomplete"),invalid:gt.get("desktop.login.birthDate.invalid")},password:{valueMissing:gt.get("desktop.login.password.valueMissing"),tooShort:gt.get("desktop.login.password.tooShort")},email:{valueMissing:gt.get("desktop.login.email.valueMissing"),typeMismatch:gt.get("desktop.login.email.typeMismatch")},name:{valueMissing:gt.get("desktop.login.name.valueMissing")},gender:{valueMissing:gt.get("desktop.login.gender.valueMissing")},agreeEula:{notAccepted:gt.get("desktop.login.agreeEula.notAccepted")}};e(Pt.validateFieldFailure(t,{code:r,message:s[t]&&s[t][r]||""}))}else e(Pt.validateFieldSuccess(t))},onInteraction:(t,n,r,s,a)=>e(Pt.interaction(t,n,r,s,a))})))(yn);class bn extends i.PureComponent{render(){const{step:e,restrictions:t}=this.props;if(!t)return i.createElement(At,{delay:2e3});const n=0===e?gt.get("desktop.login.SignupHeroText"):gt.get("desktop.login.SignupAlmostDone");return i.createElement("main",{className:"Signup","data-testid":"signup","aria-labelledby":"signup-form-title",id:"signup","data-ta-id":"signup-form"},i.createElement("h1",{className:"HeroText",id:"signup-form-title"},n),i.createElement(Sn,{step:e}))}}const kn=(0,d.$j)((e=>({isDisabled:!!e.signup.isAttempting,restrictions:e.signup.restrictions})))(bn);class Cn extends i.PureComponent{constructor(...e){super(...e),this.handleChange=this.handleChange.bind(this)}handleChange(){this.props.isDisabled||this.props.onChange(!this.props.isActive)}render(){const{isActive:e,isDisabled:t,labelId:n,taId:r}=this.props;return i.createElement("div",{className:Vt()("GlueToggle",{"GlueToggle--is-active":e,"GlueToggle--is-disabled":t})},i.createElement("input",{type:"checkbox",name:n,id:n,className:"glue-hidden-visually",onChange:this.handleChange,checked:e,disabled:t,"data-ta-id":r}),i.createElement("div",{className:"GlueToggle__toggle",onClick:this.handleChange,"aria-hidden":"true"},i.createElement("div",{className:"GlueToggle__toggle-inner"})))}}Cn.defaultProps={isActive:!1,isDisabled:!1,onChange:()=>{}};class wn extends i.PureComponent{render(){const{name:e,label:t,checked:n,disabled:r,onChange:s}=this.props,a=`${e}-field`;return i.createElement("div",{className:"FormToggle"},i.createElement("label",{htmlFor:a,"data-ta-id":"remember-me-label"},t),i.createElement(Cn,{labelId:a,isActive:n,onChange:s,taId:"remember-me-slider",isDisabled:r}))}}class vn extends i.PureComponent{constructor(e){super(e),this.state={username:this.props.username,password:"",rememberMe:!0},["handleSubmit","handleUsernameChange","handleUsernameFocus","handlePasswordChange","handlePasswordFocus","handleRememberMeChange"].forEach((e=>{this[e]=this[e].bind(this)}))}handleUsernameChange({target:e}){this.setState({username:e.value})}handleUsernameFocus(){this.props.onInteraction("login","click","input-email")}handlePasswordChange({target:e}){this.setState({password:e.value})}handlePasswordFocus(){this.props.onInteraction("login","click","input-password")}handleRememberMeChange(){this.setState({rememberMe:!this.state.rememberMe})}handleSubmit(e){e&&e.preventDefault();const t=this.state.username.trim(),{password:n,rememberMe:r}=this.state,s=Mt();this.props.onInteraction("login","click","login-email",null,s),t&&n?this.props.login({username:t,password:n,rememberMe:r},!1,s):t?n||this.props.onInteraction("login","view","show-error-empty-password",null,s):this.props.onInteraction("login","view","show-error-empty-email",null,s)}handleForgotPasswordLinkClick=()=>{this.props.onInteraction("login","click","reset-password")};render(){const{isDisabled:e}=this.props;return i.createElement("form",{onSubmit:this.handleSubmit},i.createElement("h3",{className:"glue-hidden-visually"},gt.get("desktop.login.LoginWithEmailTitle")),i.createElement(un,null),i.createElement(Jt,{name:"username",label:gt.get("desktop.login.LoginUsernameOrEmail"),value:this.state.username||"",onChange:this.handleUsernameChange,onFocus:this.handleUsernameFocus,isDisabled:e,autoFocus:!0,noValidate:!0,rightIcon:xt.B}),i.createElement(Jt,{name:"password",type:"password",label:gt.get("desktop.login.LoginPassword"),value:this.state.password,onChange:this.handlePasswordChange,onFocus:this.handlePasswordFocus,isDisabled:e,noValidate:!0}),i.createElement("a",{className:"LoginForm__reset-password",href:"https://www.spotify.com/redirect/password-reset",target:"_new",onClick:this.handleForgotPasswordLinkClick},gt.get("desktop.login.forgotPassLink")),i.createElement(wn,{name:"remember-me",label:gt.get("desktop.login.RememberMeLabel"),checked:this.state.rememberMe,onChange:this.handleRememberMeChange,disabled:e}),i.createElement("button",{type:"submit",className:"button button-white LoginForm__login-button",disabled:e,id:"login-button","data-ta-id":"login-button"},gt.get("desktop.login.LoginButton")))}}const Tn=(0,d.$j)((e=>({isDisabled:!!e.login.loginInProgress,username:e.login.username})),(e=>({login:(t,n,r)=>e(Pt.login(t,n,r)),onInteraction:(t,n,r,s,a)=>e(Pt.interaction(t,n,r,s,a))})))(vn);class Nn extends i.PureComponent{componentWillUnmount(){this.props.clearErrors()}handleSignup(){const e=Mt();this.props.enterSignupMode(e),this.props.onInteraction("login","click","open-page-signup",null,e)}getSignupLink(){return i.createElement("a",{className:"FooterFormText__NoUnderline",href:"#",id:"signup-link",onClick:()=>this.handleSignup(),"data-ta-id":"signup-link",dangerouslySetInnerHTML:{__html:gt.get("desktop.login.DontHaveAnAccountSignup")}})}render(){const{isDisabled:e}=this.props;return i.createElement("main",{className:"Login","data-testid":"login","aria-labelledby":"login-form-title",id:"login","data-ta-id":"login-form"},i.createElement("h1",{className:"HeroText",id:"login-form-title"},gt.get("desktop.login.LoginHeroText")),i.createElement(Tn,null),i.createElement(fn,{title:gt.get("desktop.login.SignupOr")}),i.createElement(hn,{method:"facebook",isDisabled:e,onClick:this.props.onSocialButtonClick,type:"login",label:gt.get("desktop.login.ContinueWithFacebook")}),i.createElement(hn,{method:"google",isDisabled:e,onClick:this.props.onSocialButtonClick,type:"login",label:gt.get("desktop.login.ContinueWithGoogle")}),i.createElement(hn,{method:"apple",isDisabled:e,onClick:this.props.onSocialButtonClick,type:"login",label:gt.get("desktop.login.ContinueWithApple")}),i.createElement("h3",{className:"FooterFormText"},this.getSignupLink()))}}const In=(0,d.$j)((e=>({isDisabled:!!e.login.loginInProgress})),(e=>({enterSignupMode:t=>e(Pt.enterSignupMode(t)),onInteraction:(t,n,r,s,a)=>e(Pt.interaction(t,n,r,s,a)),onSocialButtonClick:t=>{const n=Mt();e(Pt.loginWithAccounts(t,n)),e(Pt.interaction("login","click",`login-${t}`,null,n))},clearErrors:()=>e(Pt.loginClearErrors())})),((e,t)=>({...e,...t,onSocialButtonClick:e=>{t.onSocialButtonClick(e)}})))(Nn);class Pn extends i.PureComponent{render(){const{operationUsed:e}=this.props,t="signup"===e?gt.get("desktop-auth.login.redirecting-to-browser-signup"):gt.get("desktop-auth.login.redirecting-to-browser-login");return i.createElement("main",null,i.createElement("h1",{className:"HeroText __redirect"},t))}}const An=(0,d.$j)((e=>({operationUsed:e.experimentWebAuthReducer.operationUsed})))(Pn);var Fn=n(1206),Dn=n.n(Fn);const Mn="zrvvPyoxE6wQNqnu0yWA",On="jmu6DFPvhxRl0wSfmv2O",Ln=({value:e,id:t,children:n,disabled:r,onSelect:s,className:a,dir:o})=>i.createElement("span",{className:a},i.createElement("select",{className:Vt()(Mn,{[On]:"Safari"===Dn().parse(window.navigator.userAgent).browser.name}),value:e?.toString(),id:t,disabled:r,onBlur:()=>{},onChange:e=>{s(e.target.value)},dir:o},n));(0,n(4671).Z)((e=>({lastFilterState:"",lastFilteredUri:"",setLastState:(t,n)=>{e({lastFilterState:t,lastFilteredUri:n})}})));const Rn=(0,i.createContext)({setFilter:()=>{throw new Error("setFilter must be used within a FilterProvider")},filter:""});n(3178);let Un;!function(e){e.UPDATE="update"}(Un||(Un={}));const xn=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"}),Gn=/\p{White_Space}/u,Bn=/\p{P}/u,$n=/\p{sc=Han}/u;function Vn(e){return null!==e&&Gn.test(e)}function Wn(e){return null!==e&&(e<="/"||e>=":"&&e<="@"||"\\"===e||Vn(e))}function Hn(e){return null!==e&&Bn.test(e)}function jn(e){return null!==e&&$n.test(e)}class Kn{constructor(e,t,n){if(t<0||n<0||t+n>e.length)throw new RangeError;this.data=e,this.offset=t,this.length=n,this.position=0}static from(e){const t=Array.from(e.normalize("NFC"));return new Kn(t,0,t.length)}toString(){return this.data.slice(this.offset,this.offset+this.length).join("")}slice(e=0,t=this.length){if(e<0||t>this.length)throw new RangeError;const n=this.offset+e,r=t-e;return new Kn(this.data,n,r)}nextCodePoint(){return this.position===this.length?null:this.data[this.offset+this.position++]}}function Yn(e){let t;do{t=e.nextCodePoint()}while(null!==t&&Vn(t)||Hn(t));return t}function qn(e,t){let n=Yn(e),r=Yn(t);if(null===r)return{offset:0,length:0};const s=e.offset+e.position-1;let a=e.offset+e.position;for(;;){if(null===n&&null===r)return{offset:s,length:a-s};if(null===r)return{offset:s,length:a-s};if(null===n)return null;if(0!==xn.compare(n,r))return null;a=e.offset+e.position,n=Yn(e),r=Yn(t)}}function zn(e,t){let n,r,s;do{r=e.position,n=e.nextCodePoint()}while(null!==n&&Vn(n));if(t?.segmentQuotedStrings&&function(e){return null!==e&&('"'===e||"'"===e)}(n)){const t=n;r=e.position;do{s=e.position,n=e.nextCodePoint()}while(null!==n&&n!==t);return null===n&&r===s?null:e.slice(r,s)}do{if(s=e.position,t?.segmentCJKUnifieIdeographs&&jn(n))break;n=e.nextCodePoint()}while(null!==n&&!Wn(n));return null===n&&r===s?null:e.slice(r,s)}function Jn(e){return zn(e,{segmentQuotedStrings:!0,segmentCJKUnifieIdeographs:!1})}function Xn(e){return zn(e,{segmentQuotedStrings:!1,segmentCJKUnifieIdeographs:!0})}function Zn(e,t){const n=[];for(let r=Xn(e);null!==r;r=Xn(e)){let s=qn(r,t.slice());null===s?(s=qn(e.slice(r.offset),t.slice()),null===s||n.push(s)):n.push(s)}return n}function Qn(e,t){return e.offset===t.offset&&e.length===t.length}const er=(e,t)=>"string"==typeof e&&"string"==typeof t?!(e.length>0)||null!==function(e,...t){const n=Kn.from(e),r=[];for(let e=Jn(n);null!==e;e=Jn(n)){const n=[];for(let r=0;r<t.length;++r){const s=t[r],a=Zn(Kn.from(s),e);for(const e of a)n.push({text:s,range:e})}if(0===n.length)return null;r.push(...n.filter(((e,t,n)=>e.range.length>0&&n.findIndex((t=>Qn(e.range,t.range)))===t)))}return r.length>0?r:null}(e,t):"boolean"!=typeof e||e,tr=(0,i.createContext)(void 0),nr=({children:e})=>{const[t,n]=(0,i.useState)(!1),[r,s]=(0,i.useState)(!1);return i.createElement(tr.Provider,{value:{sectionMatch:t,setSectionMatch:n,sectionContainsMatch:r,setSectionContainsMatch:s}},e)},rr="c6TyNYOUJRIsjYZJZofy";function sr({children:e,filterMatchQuery:t}){const{filter:n}=(0,i.useContext)(Rn),{setSectionMatch:r,sectionContainsMatch:s}=(()=>{const e=(0,i.useContext)(tr);if(void 0===e)throw new Error("useSectionMatchState() must be used within a SectionFilterMatchContextProvider");return e})(),a=er(n,t);return(0,i.useEffect)((()=>{r(a)}),[a,r]),a||s?i.createElement("div",{className:rr},e):null}function ar(e){return i.createElement(nr,null,i.createElement(sr,e))}var or=n(2667),ir=n(7763),lr=n.n(ir);const cr="M0E2Al6URHV3iyoDbvi_";function dr({searchWords:e,textToHighlight:t,...n}){return 0===e.length||e.every((e=>!e))?i.createElement(i.Fragment,null,t):i.createElement(lr(),(0,Xt.Z)({highlightClassName:cr,searchWords:e,textToHighlight:t},n))}function ur({children:e}){const{filter:t}=(0,i.useContext)(Rn);return i.createElement(or.D,{as:"h2",variant:"cello",semanticColor:"textBase"},i.createElement(dr,{searchWords:[t],textToHighlight:e}))}var pr=n(4257);const gr="gvcgOXnAiNKEe_z92_lw";function hr({onClick:e}){return i.createElement(pr.P,{className:gr,onClick:e},gt.get("settings.restartApp"))}var mr=n(8724);const Er="mpdBa62OP4Fr5wvCsa89",_r="acVhMt5pELcXQyLaaPuV",fr="AavUTirpKSAHapguSAy0",yr="SkbGMKYv49KtJNB5XxdX",Sr="qfjicQPaTTPrLWJWRxMQ",br=({id:e,type:t,placeHolder:n,inputRef:r,handleOnChange:s})=>i.createElement("input",{type:t||"text",id:e,"data-testid":e,className:yr,placeholder:n,ref:r,onChange:s}),kr=({children:e,label:t})=>i.createElement(mr.c,{label:t,className:Sr},e),Cr=(e,t,n)=>{let r=`${e}:${t}`;switch(n){case ht:r+="@http";break;case mt:r+="@socks4";break;case Et:r+="@socks5"}return r},wr=({addr:e,mode:t,pass:n,user:r,setValue:s,restartContainer:a,fullWidth:o})=>{const l=(0,i.useRef)(null),c=(0,i.useRef)(null),d=(0,i.useRef)(null),u=(0,i.useRef)(null),[p,g]=(0,i.useState)(""),[h,m]=(0,i.useState)(""),[E,_]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const[t,n]=e?.split(/[:@]+/)||["",""];g(t),m(n),l.current&&(l.current.value=t),c.current&&(c.current.value=n)}),[e]),(0,i.useEffect)((()=>{u.current&&n&&(u.current.value=n.toString())}),[n]),(0,i.useEffect)((()=>{d.current&&r&&(d.current.value=r.toString())}),[r]);const f=(0,i.useCallback)((({target:e})=>{const n=Cr(e.value,h,t||0);g(e.value),s("network.proxy.addr",n),_(!0)}),[t,h,s]),y=(0,i.useCallback)((({target:e})=>{const n=Cr(p,e.value,t||0);m(e.value),s("network.proxy.addr",n),_(!0)}),[t,p,s]),S=(0,i.useCallback)((({target:e})=>{s("network.proxy.user",e.value),_(!0)}),[s]),b=(0,i.useCallback)((({target:e})=>{s("network.proxy.pass",e.value),_(!0)}),[s]),k=0!==t&&1!==t,C=t!==mt;return i.createElement(ar,{filterMatchQuery:gt.get("desktop.settings.proxy.title")},i.createElement(ur,null,gt.get("desktop.settings.proxy.title")),i.createElement("div",{className:Vt()(_r,o?fr:null)},i.createElement(kr,{label:gt.get("desktop.settings.proxy.type")},i.createElement(Ln,{id:"network.proxy.mode",value:t,onSelect:e=>{const t=parseInt(e,10);s("network.proxy.mode",t),_(!0)}},ft.map((({enumKey:e,enumValue:t})=>i.createElement("option",{key:e,value:t,"data-testid":e},_t[e]?_t[e].label():""))))),k?i.createElement(i.Fragment,null,i.createElement("div",{className:Er},i.createElement(kr,{label:gt.get("desktop.settings.proxy.host")},i.createElement(br,{id:"network.proxy.host",handleOnChange:f,placeHolder:gt.get("desktop.settings.proxy.host"),inputRef:l})),i.createElement(kr,{label:gt.get("desktop.settings.proxy.port")},i.createElement(br,{id:"network.proxy.port",type:"number",handleOnChange:y,placeHolder:gt.get("desktop.settings.proxy.port"),inputRef:c}))),i.createElement("div",{className:C?Er:void 0},i.createElement(kr,{label:gt.get("desktop.settings.proxy.user")},i.createElement(br,{id:"network.proxy.user",handleOnChange:S,placeHolder:gt.get("desktop.settings.proxy.user"),inputRef:d})),C?i.createElement(kr,{label:gt.get("desktop.settings.proxy.pass")},i.createElement(br,{id:"network.proxy.pass",handleOnChange:b,placeHolder:gt.get("desktop.settings.proxy.pass"),type:"password",inputRef:u})):null)):null,E&&i.createElement("div",null,i.createElement(hr,{onClick:a}))))},vr=["network.proxy.mode","network.proxy.addr","network.proxy.user","network.proxy.pass"];const Tr=(0,d.$j)((e=>({settings:{proxy:e.settings.proxy}})),(e=>({fetchProxySettings(){e(Pt.fetchProxySettings())},updateProxySettings(t){e(Pt.updateProxySettings(t))},restartClient(){e(Pt.restartClient())}})))((({settings:e={proxy:{mode:0,address:"",username:"",password:""}},fetchProxySettings:t=(()=>{}),updateProxySettings:n=(()=>{}),restartClient:r=(()=>{})})=>{(0,i.useEffect)((()=>{t()}),[t]);const s=(0,i.useCallback)(((t,r)=>{if(function(e){return!!vr.includes(e)}(t)){const s={...e.proxy};switch(t){case"network.proxy.mode":s.mode=r;break;case"network.proxy.addr":s.address=r;break;case"network.proxy.user":s.username=r;break;case"network.proxy.pass":s.password=r}n(s)}return Promise.resolve()}),[e,n]);return i.createElement("main",{className:"Settings","aria-labelledby":"settings-form-title","data-testid":"settings"},i.createElement("h1",{className:"HeroText",id:"settings-form-title"},gt.get("desktop.login.PreferencesLink")),i.createElement(wr,{mode:e.proxy.mode,addr:e.proxy.address,user:e.proxy.username,pass:e.proxy.password,setValue:s,restartContainer:r,fullWidth:!0}))}));class Nr extends i.PureComponent{constructor(e){super(e),this.handleSettingsClick=this.goToSettingsPage.bind(this),this.handleBackToLoginClick=this.handleBackToLoginClick.bind(this)}handleSignupClick(){const{openSignupPage:e,onInteraction:t}=this.props,n=Mt();e(n),t("login/welcome","click","open-page-signup",null,n)}handleBackToLoginClick(e){e.preventDefault(),this.props.openLoginPage(),this.props.onInteraction(this.props.mode,"click","back-to-login")}goToSettingsPage(e){e.preventDefault(),this.props.openSettingsPage(),this.props.onInteraction(this.props.mode,"click","open-page-settings")}renderPreferencesLink(){return i.createElement("a",{className:"Footer__link",href:"#",onClick:this.handleSettingsClick,"data-ta-id":"login-footer-settings"},gt.get("desktop.login.PreferencesLink"))}renderBackToLoginLink(){return i.createElement("a",{className:"Footer__link",href:"#",onClick:this.handleBackToLoginClick,"data-ta-id":"login-footer-settings-back-to-login"},gt.get("desktop.login.Back"))}renderTryAgain(){return i.createElement(i.Fragment,null,i.createElement("span",null,gt.get("desktop-auth.login.not-seeing-browser"))," ",i.createElement("a",{href:"#",onClick:()=>this.props.tryAgainHandler()},gt.get("desktop-auth.login.try-again")))}renderSignupLink(){return i.createElement("a",{className:"Footer__NoUnderline",href:"#",id:"signup-link",onClick:()=>this.handleSignupClick(),"data-ta-id":"welcome-signup-link",dangerouslySetInnerHTML:{__html:gt.get("desktop.login.DontHaveAnAccountSignup")}})}renderRussiaLegalFormLink(){return i.createElement("div",null,i.createElement("a",{className:"Footer__link",href:"https://support.spotify.com/ru-ru/contact-spotify-legal-form/",target:"_blank",rel:"noopener"},"Форма для Ваших обращений"))}render(){const{mode:e,country:t}=this.props;return i.createElement("footer",{className:"Footer",role:"contentinfo"},"login"===e&&this.renderPreferencesLink(),"settings"===e&&this.renderBackToLoginLink(),"open-browser"===e&&this.renderTryAgain(),"welcome"===e&&this.renderSignupLink(),"RU"===t&&this.renderRussiaLegalFormLink())}}const Ir=(0,d.$j)((e=>({country:e.signup.restrictions?.country})),(e=>({tryAgainHandler:()=>{e(Pt.abortLoginWithAccounts()),e(Pt.enterWelcomeMode())},openLoginPage:()=>{e(Pt.enterLoginMode())},openSignupPage:t=>e(Pt.enterSignupMode(t)),openSettingsPage:()=>e(Pt.enterSettingsMode()),onInteraction:(t,n,r,s,a)=>e(Pt.interaction(t,n,r,s,a))})))(Nr);class Pr extends i.PureComponent{render(){return i.createElement("header",{className:"Header"},i.createElement("h1",{className:"glue-hidden-visually"},"Spotify"),i.createElement("img",{className:"Header__logo",src:"images/logo.svg",alt:""}))}}var Ar=n(7723),Fr=n(5989);class Dr extends i.Component{static defaultProps={throbberDelay:0,transitionLeaveTimeout:0};renderFakeWebPlayer(){return i.createElement("div",{className:"fakeWebPlayer"},i.createElement("aside",null),i.createElement("footer",null,i.createElement("div",{className:"fakeWebPlayer__footer-left"}),i.createElement("div",{className:"fakeWebPlayer__footer-center"}),i.createElement("div",{className:"fakeWebPlayer__footer-right"})),i.createElement("main",null,i.createElement("div",{className:"fakeWebPlayer__content"})))}render(){const{loading:e,mode:t,loggedIn:n,previousMode:r,throbberDelay:s,signupStep:a,previousSignupStep:o}=this.props;if(e||!t)return i.createElement(At,{delay:s});if(n)return null;let l=r?`__${t} __${r}-to-${t}`:"";return"signup"===t&&Number.isInteger(o)&&(l+=` __signup_step_${o}_to_${a}`),i.createElement("main",{className:"App",key:"main1","data-ta-id":"login-app","data-testid":"login-app","data-ta-login-mode":t},this.renderFakeWebPlayer(),i.createElement("div",{className:`App__content ${l}`},i.createElement(Fr.Z,{mode:"in-out"},i.createElement(Ar.Z,{timeout:{appear:0,enter:0,exit:650},key:l},i.createElement("div",{className:`App__modal ${l}`},i.createElement(Pr,null),"welcome"===t&&i.createElement(Ut,null),"signup"===t&&i.createElement(kn,{step:a}),"login"===t&&i.createElement(In,null),"open-browser"===t&&i.createElement(An,null),"settings"===t&&i.createElement(Tr,null),i.createElement(Ir,{mode:t}))))))}}const Mr=(0,d.$j)((e=>({mode:e.app.mode,previousMode:e.app.previousMode,signupStep:e.signup.step,previousSignupStep:e.signup.previousStep,loading:!!e.login.loading,loggedIn:!!e.login.loggedIn,throbberDelay:e.login.throbberDelay,transitionLeaveTimeout:e.login.redirectDelay})))(Dr);var Or=n(7779),Lr=n(3894);const Rr=e=>t=>n=>{const r=t(n);switch(n.type){case Pt.START_APP:e.dispatch(Pt.fetchUTMParameters()),e.dispatch(Pt.getSignupRestrictions());!G.getItem("lastUsername")?e.dispatch(Pt.enterWelcomeMode()):e.dispatch(Pt.enterLoginMode());break;case Pt.LOGIN_FAIL:{const t=e.getState();if(n.loginType===Pt.LOGIN_TYPE_AUTOLOGIN){const n=t.app.mode;"welcome"===n?e.dispatch(Pt.enterWelcomeMode()):"login"===n?e.dispatch(Pt.enterLoginMode()):"signup"===n&&e.dispatch(Pt.enterSignupMode())}else{if("open-browser"===t.app.mode){const r=n.errorData;let s=Wt(r.errorCategory,r.errorCode,r.errorReference);"desktop_login_accounts"===r.errorCategory&&4===r.errorCode&&(s="signup"===t.experimentWebAuthReducer.operationUsed?gt.get("desktop-auth.login.signup-time-out"):gt.get("desktop-auth.login.login-time-out")),s?e.dispatch(Pt.enterWelcomeMode(s)):e.dispatch(Pt.enterWelcomeMode())}}break}case Pt.ENTER_SIGNUP_MODE:{const t=e.getState().signup.restrictions;t?!1===t.is_country_launched&&e.dispatch(Pt.countryNotLaunched()):e.dispatch(Pt.getSignupRestrictions());break}case Pt.SIGNUP_RESTRICTIONS_SUCCESS:!1===n.restrictions.is_country_launched&&e.dispatch(Pt.countryNotLaunched());break;case Pt.SIGNUP_FAILURE:(n.errors.email||n.errors.password||n.errors.displayname)&&e.dispatch(Pt.enterSignupModeStep0());break;case Pt.COUNTRY_NOT_LAUNCHED:e.dispatch(Pt.openSignupPage(!0))}return r};var Ur=n(9798);const xr=Dt().create().toString(),Gr="has-used-app",Br=!window.localStorage.getItem(Gr);Br&&window.localStorage.setItem(Gr,!0);const $r=()=>{const e=G.getItem("utmParameters");let t;try{t=e?JSON.parse(e).referral:""}catch(e){t=""}return t};class Vr{constructor(e){this._eventSender=e}logPageView({page:e}){this.logAction({page:e,action_type:"pageview",action_intent:""})}logAction({page:e,action_type:t,action_intent:n,item_id:r,action_hash:s}){this._eventSender.send((0,Ur.e)({action_type:t,action_intent:n,action_page:e,action_item_id:r,action_hash:s,device_is_new_install:Br,device_locale:window.__spotify.locale,device_referrer:$r(),ab_flags:"",session_id:xr}))}}const Wr=e=>{window.location.href=e},Hr=()=>e=>t=>{const n=e(t);if(!t.redirectTo)return n;let r;return"xpui"!==t.redirectTo||(r="spotify:app:xpui",t.redirectDelay?setTimeout((()=>{Wr(r)}),t.redirectDelay):Wr(r)),n},jr={errorMessage:null};const Kr=function(e=jr,t){switch(t.type){case Pt.ENTER_SIGNUP_MODE:return{...e,previousMode:e.mode,mode:"signup"};case Pt.ENTER_LOGIN_MODE:case Pt.COUNTRY_NOT_LAUNCHED:return{...e,previousMode:e.mode,mode:"login"};case Pt.ENTER_WELCOME_MODE:return{...e,previousMode:e.mode,mode:"welcome",errorMessage:t.errorMessage??null};case Pt.ENTER_SETTINGS_MODE:return{...e,previousMode:e.mode,mode:"settings"};default:return e}};const Yr={proxy:{mode:0,address:"",username:"",password:""}};const qr=function(e=Yr,t){return function(e){return e.type===Pt.SETTINGS_FETCH_PROXY_SETTINGS_SUCCESS}(t)?{...e,proxy:{mode:t.data.mode,address:t.data.address,username:t.data.username,password:t.data.password}}:e},zr={step:0,isAttempting:!1,isSuccessful:void 0,errors:{},errorData:{},validated:{},formData:{name:"",email:"",password:"",birthDate:{day:void 0,month:void 0,year:void 0},gender:void 0,sendEmail:void 0,shareData:void 0,agreeEula:!1},restrictions:void 0};const Jr=function(e=zr,t){switch(t.type){case Pt.ENTER_SIGNUP_MODE_STEP_0:return{...e,previousStep:e.step,step:0};case Pt.ENTER_SIGNUP_MODE_STEP_1:return{...e,previousStep:e.step,step:1};case Pt.SIGNUP_RESTRICTIONS_SUCCESS:return{...e,formData:{...e.formData,sendEmail:!!t.restrictions.requires_marketing_opt_in_text||void 0,agreeEula:!!t.restrictions.pretick_eula},restrictions:t.restrictions};case Pt.SIGNUP_RESTRICTIONS_FAILURE:return{...e,errorData:t.error};case Pt.SIGNUP_ATTEMPT:return{...e,isAttempting:!0,errorData:null};case Pt.SIGNUP_SUCCESS:return{...e,isAttempting:!0,isSuccessful:!0,errorData:null};case Pt.SIGNUP_FAILURE:return{...e,isAttempting:!1,isSuccessful:!1,errors:t.errors,errorData:null};case Pt.FACEBOOK_SIGNUP_ATTEMPT:return{...e,errorData:null,errors:{}};case Pt.FACEBOOK_SIGNUP_FAILURE:return{...e,errorData:t.errorData};case Pt.VALIDATE_FIELD_ATTEMPT:return{...e,errors:{...e.errors,[t.field]:void 0}};case Pt.VALIDATE_FIELD_FAILURE:return{...e,errors:{...e.errors,[t.field]:t.error},validated:{...e.validated,[t.field]:!1}};case Pt.VALIDATE_FIELD_SUCCESS:return{...e,errors:{...e.errors,[t.field]:void 0},validated:{...e.validated,[t.field]:!0}};case Pt.UPDATE_SIGNUP_DATA:{const n={};for(const e of Object.keys(t.data))n[e]=void 0;return{...e,errors:{...e.errors,...n},formData:{...e.formData,...t.data}}}case Pt.CLEAR_ALL_ERRORS:return{...e,errors:{}};default:return e}};function Xr(e){const t=(0,Or.MT)((0,Or.UY)({app:Kr,login:K,settings:qr,signup:Jr}),void 0,(0,Or.md)(Lr.Z,Rr,(e=>{const t=new Vr(e);return()=>e=>n=>{const r=e(n);switch(n.type){case Pt.ENTER_LOGIN_MODE:t.logPageView({page:"login"});break;case Pt.LOGIN_SUCCESS:n.loginType===Pt.LOGIN_TYPE_EMAIL?t.logAction({page:"login",action_type:"view",action_intent:"show-success-login-email"}):n.loginType===Pt.LOGIN_TYPE_FACEBOOK&&t.logAction({page:"login",action_type:"view",action_intent:"show-success-login-facebook"});break;case Pt.LOGIN_FAIL:n.loginType===Pt.LOGIN_TYPE_EMAIL?n.errorData&&3===n.errorData.errorCode&&t.logAction({page:"login",action_type:"view",action_intent:"show-error-invalid-credential"}):n.loginType===Pt.LOGIN_TYPE_FACEBOOK&&t.logAction({page:"login",action_type:"view",action_intent:"show-error-login-facebook"});break;case Pt.ENTER_SIGNUP_MODE:t.logPageView({page:"signup"});break;case Pt.ENTER_SIGNUP_MODE_STEP_0:t.logAction({page:"signup",action_type:"view",action_intent:"show-signup-step-one"});break;case Pt.ENTER_SIGNUP_MODE_STEP_1:t.logAction({page:"signup",action_type:"view",action_intent:"show-signup-step-two"});break;case Pt.SIGNUP_SUCCESS:t.logAction({page:"signup",action_type:"view",action_intent:"show-success-signup-email"});break;case Pt.SIGNUP_FAILURE:t.logAction({page:"signup",action_type:"view",action_intent:"show-error-signup-email",item_id:n.errors&&Object.keys(n.errors).join("|")});break;case Pt.FACEBOOK_SIGNUP_SUCCESS:t.logAction({page:"signup",action_type:"view",action_intent:"show-success-authentication-facebook"});break;case Pt.FACEBOOK_SIGNUP_FAILURE:t.logAction({page:"signup",action_type:"view",action_intent:"show-error-authentication-facebook",item_id:n.errorData&&`${n.errorData.errorCode} - ${n.errorData.errorDescription}`});break;case Pt.ENTER_WELCOME_MODE:t.logPageView({page:"login/welcome"});break;case Pt.ENTER_SETTINGS_MODE:t.logPageView({page:"login/settings"});break;case Pt.INTERACTION:t.logAction({page:n.page,action_type:n.interactionType,action_intent:n.intent,item_id:n.itemId,action_hash:n.actionHash});break;case Pt.VALIDATE_FIELD_FAILURE:if(n.error){const e=n.field,r=n.error.code;let s=null,a=null;"valueMissing"===r?s=`show-error-empty-${e}`:["incomplete","invalid","typeMismatch","tooShort"].includes(r)?s=`show-error-format-${e}`:(s=`show-error-${e}`,a=n.error.message||""),null!==s&&t.logAction({page:"signup",action_type:"view",action_intent:s,...a?{item_id:a}:{}})}}return r}})(e),Hr));return t.subscribe((()=>{const e=t.getState();e.login.username&&localStorage.setItem(B,e.login.username),e.login.utmParameters&&localStorage.setItem(V,JSON.stringify(e.login.utmParameters))})),t}var Zr=n(2585),Qr=n(875);let es=null;var ts=n(1076),ns=n(6471);(async function(){for(const e of[window.__spotify.locale,it.en])try{const t=await fetch(`i18n/${e}.json`).then((e=>e.json()));return gt.setLocale(e),void gt.setDictionary(t)}catch(e){0}throw new Error("Cannot find a suitable locale! Something is wrong: talk to #desktop.")})().then((async function(){const e=function(){const e=(0,Qr.qy)({providers:{endpoints:(0,Qr.uG)(),token:()=>null}});return e.connect(),e}();es=e;const t=((e,t,n)=>{const r=e.event_sender_context_information,s=[(0,ns.UR)({version:r.client_version_string}),(0,ns.jx)(n),(0,ns.IE)(r.installation_id),(0,ns.Hv)({name:r.platform_type,version:r.os_version}),(0,ns.yD)({manufacturer:r.device_manufacturer||"",model:r.device_model||""})];return(0,ts.mi)({transport:t,suppressPersist:!1,context:s})})(window.__spotify,e,"65b708073fc0480ea92a077233ca87bd"),n=Xr(t);p.attach(),p.update(),u.attach();const r=document.location.search,s=new RegExp(`\\?param=error-code\\${encodeURIComponent("=")}([0-9]+)`,"i");window.addEventListener("message",(e=>{"critical-update-error"===e.data&&n.dispatch(Pt.loginFailed({errorCode:e.data}))}));const a=r.match(s);if(r&&a){const e=+a[1];n.dispatch(Pt.loginFailed({errorCode:e}))}let o="linux";window.navigator.platform.startsWith("Mac")&&(o="mac"),window.navigator.platform.startsWith("Win")&&(o="windows"),document.body.classList.add(`body-container--${o}`),l.render(i.createElement(c.zj,null,i.createElement(d.zt,{store:n},i.createElement(Mr,null))),document.getElementById("main")),n.dispatch(Pt.startApp()),document.documentElement.setAttribute("dir",window.__spotify.localization_is_rtl?"rtl":"ltr");const g={[Zr.PLATFORM_UNKNOWN]:"body-container--unknown-os",[Zr.PLATFORM_MAC]:"body-container--mac",[Zr.PLATFORM_WINDOWS]:"body-container--windows"},h=(0,Zr.getPlatform)();document.body.classList.add(g[h])}))},2585:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PLATFORM_MAC:()=>s,PLATFORM_UNKNOWN:()=>r,PLATFORM_WINDOWS:()=>a,getPlatform:()=>l,isMac:()=>o,isWindows:()=>i});const r=Symbol("PLATFORM_UNKNOWN"),s=Symbol("PLATFORM_MAC"),a=Symbol("PLATFORM_WINDOWS");function o(){return window.navigator.platform.startsWith("Mac")}function i(){return window.navigator.platform.startsWith("Win")}function l(){return o()?s:i()?a:r}},2976:(e,t)=>{let n=!1;t.update=()=>{},t.attach=()=>{if(n)return;n=!0;const e=window.__spotify&&window.__spotify.locale;e&&document.documentElement.setAttribute("lang",e)},t.detach=()=>{n&&(n=!1,document.documentElement.removeAttribute("lang"))}},685:(e,t,n)=>{const{getPlatform:r,PLATFORM_UNKNOWN:s,PLATFORM_MAC:a,PLATFORM_WINDOWS:o}=n(2585);let i=!1,l="always-visible",c=0;const d={[s]:"linux",[a]:"mac",[o]:"windows"};let u=d[s];function p(){const e=[...document.querySelectorAll("*")],t=[],n=["scroll","auto","overlay"];e.forEach((e=>{const r=window.getComputedStyle(e),s=r.overflowX,a=r.overflowY;n.includes(s)&&t.push({node:e,property:"overflow-x"}),n.includes(a)&&t.push({node:e,property:"overflow-y"})}));const r=document.createElement("style");r.innerHTML="\n    html::-webkit-scrollbar,\n    body::-webkit-scrollbar {\n      background-color: rgba(1, 2, 3, 0) !important;\n    }\n  ".trimRight();const s=`data-scrollbar-fix-${++c}-id`;let a=0;t.forEach((({node:e,property:t})=>{if(e!==document.body){const n=++a;e.setAttribute(s,n),r.innerHTML+=`\n    [${s}="${n}"] { ${t}: hidden !important; }`}})),document.head.appendChild(r),setTimeout((()=>{document.head.removeChild(r),t.forEach((({node:e})=>{e.removeAttribute(s)}))}),0)}t.performScrollBarFix=p,t.update=function(){},t.attach=function(){if(i)return;i=!0;const e=window.__spotify&&window.__spotify.scroller_style;l="overlay"===e?"overlay":"always-visible";const t=r();u=d[t],"always-visible"===l||"mac"!==u?(document.body.classList.remove("scrollbar-style-when-scrolling-mac"),document.body.classList.add(`scrollbar-style-visible-${u}`)):(document.body.classList.remove(`scrollbar-style-visible-${u}`),document.body.classList.add("scrollbar-style-when-scrolling-mac")),window.addEventListener("message",(e=>{"set_active"===e.data.name&&e.data.active&&p()}))},t.detach=function(){i&&(i=!1,c=0)}}},n={};function r(e){var s=n[e];if(void 0!==s)return s.exports;var a=n[e]={exports:{}};return t[e].call(a.exports,a,a.exports,r),a.exports}r.m=t,r.amdO={},e=[],r.O=(t,n,s,a)=>{if(!n){var o=1/0;for(d=0;d<e.length;d++){for(var[n,s,a]=e[d],i=!0,l=0;l<n.length;l++)(!1&a||o>=a)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(i=!1,a<o&&(o=a));if(i){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[n,s,a]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={535:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var s,a,[o,i,l]=n,c=0;if(o.some((t=>0!==e[t]))){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(l)var d=l(r)}for(t&&t(n);c<o.length;c++)a=o[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(d)},n=("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var s=r.O(void 0,[569],(()=>r(1097)));s=r.O(s)})();
//# sourceMappingURL=login.js.map